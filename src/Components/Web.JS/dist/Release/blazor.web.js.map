{"version":3,"file":"blazor.web.js","sources":["../../../../JSInterop/Microsoft.JSInterop.JS/src/dist/src/Microsoft.JSInterop.js","../../src/Environment.ts","../../src/Rendering/RenderBatch/RenderBatch.ts","../../src/Rendering/Events/EventFieldInfo.ts","../../src/Rendering/Events/EventTypes.ts","../../src/Rendering/JSRootComponents.ts","../../src/Rendering/WebRendererInteropMethods.ts","../../src/Rendering/Events/EventDelegator.ts","../../src/Rendering/LogicalElements.ts","../../src/Rendering/ElementReferenceCapture.ts","../../src/Rendering/DomSpecialPropertyUtil.ts","../../src/Rendering/BrowserRenderer.ts","../../src/Services/NavigationManager.ts","../../src/Rendering/Renderer.ts","../../src/Services/NavigationUtils.ts","../../src/DomWrapper.ts","../../src/Virtualize.ts","../../src/PageTitle.ts","../../src/InputFile.ts","../../src/NavigationLock.ts","../../src/StreamingInterop.ts","../../src/GlobalExports.ts","../../src/Platform/Logging/Logger.ts","../../src/Platform/Logging/Loggers.ts","../../src/Services/ComponentDescriptorDiscovery.ts","../../../../SignalR/clients/ts/signalr/dist/esm/Errors.js","../../../../SignalR/clients/ts/signalr/dist/esm/HttpClient.js","../../../../SignalR/clients/ts/signalr/dist/esm/ILogger.js","../../../../SignalR/clients/ts/signalr/dist/esm/Loggers.js","../../../../SignalR/clients/ts/signalr/dist/esm/Utils.js","../../../../SignalR/clients/ts/signalr/dist/esm/FetchHttpClient.js","../../../../SignalR/clients/ts/signalr/dist/esm/DynamicImports.js","../../../../SignalR/clients/ts/signalr/dist/esm/XhrHttpClient.js","../../../../SignalR/clients/ts/signalr/dist/esm/DefaultHttpClient.js","../../../../SignalR/clients/ts/signalr/dist/esm/TextMessageFormat.js","../../../../SignalR/clients/ts/signalr/dist/esm/HandshakeProtocol.js","../../../../SignalR/clients/ts/signalr/dist/esm/IHubProtocol.js","../../../../SignalR/clients/ts/signalr/dist/esm/HubConnection.js","../../../../SignalR/clients/ts/signalr/dist/esm/Subject.js","../../../../SignalR/clients/ts/signalr/dist/esm/MessageBuffer.js","../../../../SignalR/clients/ts/signalr/dist/esm/DefaultReconnectPolicy.js","../../../../SignalR/clients/ts/signalr/dist/esm/HeaderNames.js","../../../../SignalR/clients/ts/signalr/dist/esm/AccessTokenHttpClient.js","../../../../SignalR/clients/ts/signalr/dist/esm/ITransport.js","../../../../SignalR/clients/ts/signalr/dist/esm/AbortController.js","../../../../SignalR/clients/ts/signalr/dist/esm/LongPollingTransport.js","../../../../SignalR/clients/ts/signalr/dist/esm/ServerSentEventsTransport.js","../../../../SignalR/clients/ts/signalr/dist/esm/WebSocketTransport.js","../../../../SignalR/clients/ts/signalr/dist/esm/HttpConnection.js","../../../../SignalR/clients/ts/signalr/dist/esm/JsonHubProtocol.js","../../../../SignalR/clients/ts/signalr/dist/esm/HubConnectionBuilder.js","../../src/Rendering/WebRendererId.ts","../../../../../node_modules/@msgpack/msgpack/dist.es5+esm/utils/int.mjs","../../../../../node_modules/@msgpack/msgpack/dist.es5+esm/utils/utf8.mjs","../../../../../node_modules/@msgpack/msgpack/dist.es5+esm/DecodeError.mjs","../../../../../node_modules/@msgpack/msgpack/dist.es5+esm/ExtData.mjs","../../../../../node_modules/@msgpack/msgpack/dist.es5+esm/timestamp.mjs","../../../../../node_modules/@msgpack/msgpack/dist.es5+esm/ExtensionCodec.mjs","../../../../../node_modules/@msgpack/msgpack/dist.es5+esm/utils/typedArrays.mjs","../../../../../node_modules/@msgpack/msgpack/dist.es5+esm/Encoder.mjs","../../../../../node_modules/@msgpack/msgpack/dist.es5+esm/utils/prettyByte.mjs","../../../../../node_modules/@msgpack/msgpack/dist.es5+esm/CachedKeyDecoder.mjs","../../../../../node_modules/@msgpack/msgpack/dist.es5+esm/Decoder.mjs","../../../../SignalR/clients/ts/signalr-protocol-msgpack/dist/esm/BinaryMessageFormat.js","../../../../SignalR/clients/ts/signalr-protocol-msgpack/dist/esm/MessagePackHubProtocol.js","../../../../SignalR/clients/ts/signalr-protocol-msgpack/dist/esm/Utils.js","../../src/Utf8Decoder.ts","../../src/BinaryDecoder.ts","../../src/Rendering/RenderBatch/OutOfProcessRenderBatch.ts","../../src/Platform/Circuits/RenderQueue.ts","../../src/BootErrors.ts","../../src/Platform/Circuits/CircuitManager.ts","../../src/Platform/Circuits/CircuitStreamingInterop.ts","../../src/Platform/Circuits/CircuitStartOptions.ts","../../src/Platform/Circuits/DefaultReconnectDisplay.ts","../../src/Platform/Circuits/UserSpecifiedDisplay.ts","../../src/Platform/Circuits/DefaultReconnectionHandler.ts","../../src/JSInitializers/JSInitializers.ts","../../src/Boot.Server.Common.ts","../../src/JSInitializers/JSInitializers.Server.ts","../../src/Platform/Mono/MonoDebugger.ts","../../src/Platform/Mono/MonoPlatform.ts","../../src/JSInitializers/JSInitializers.WebAssembly.ts","../../src/Rendering/RenderBatch/SharedMemoryRenderBatch.ts","../../src/Platform/WebAssemblyComponentAttacher.ts","../../src/Boot.WebAssembly.Common.ts","../../src/Rendering/DomMerging/AttributeSync.ts","../../src/Rendering/DomMerging/DataPermanentElementSync.ts","../../src/Rendering/DomMerging/EditScript.ts","../../src/Rendering/DomMerging/DomSync.ts","../../src/Services/NavigationEnhancement.ts","../../src/Rendering/StreamingRendering.ts","../../src/Services/WebRootComponentManager.ts","../../src/Services/JSEventRegistry.ts","../../src/Boot.Web.ts","../../src/JSInitializers/JSInitializers.Web.ts","../../src/BootCommon.ts"],"sourcesContent":["// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\n// This is a single-file self-contained module to avoid the need for a Webpack build\r\nexport var DotNet;\r\n(function (DotNet) {\r\n    const jsonRevivers = [];\r\n    const jsObjectIdKey = \"__jsObjectId\";\r\n    const dotNetObjectRefKey = \"__dotNetObject\";\r\n    const byteArrayRefKey = \"__byte[]\";\r\n    const dotNetStreamRefKey = \"__dotNetStream\";\r\n    const jsStreamReferenceLengthKey = \"__jsStreamReferenceLength\";\r\n    // If undefined, no dispatcher has been attached yet.\r\n    // If null, this means more than one dispatcher was attached, so no default can be determined.\r\n    // Otherwise, there was only one dispatcher registered. We keep track of this instance to keep legacy APIs working.\r\n    let defaultCallDispatcher;\r\n    // Provides access to the \"current\" call dispatcher without having to flow it through nested function calls.\r\n    let currentCallDispatcher;\r\n    class JSObject {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        constructor(_jsObject) {\r\n            this._jsObject = _jsObject;\r\n            this._cachedFunctions = new Map();\r\n        }\r\n        findFunction(identifier) {\r\n            const cachedFunction = this._cachedFunctions.get(identifier);\r\n            if (cachedFunction) {\r\n                return cachedFunction;\r\n            }\r\n            let result = this._jsObject;\r\n            let lastSegmentValue;\r\n            identifier.split(\".\").forEach(segment => {\r\n                if (segment in result) {\r\n                    lastSegmentValue = result;\r\n                    result = result[segment];\r\n                }\r\n                else {\r\n                    throw new Error(`Could not find '${identifier}' ('${segment}' was undefined).`);\r\n                }\r\n            });\r\n            if (result instanceof Function) {\r\n                result = result.bind(lastSegmentValue);\r\n                this._cachedFunctions.set(identifier, result);\r\n                return result;\r\n            }\r\n            throw new Error(`The value '${identifier}' is not a function.`);\r\n        }\r\n        getWrappedObject() {\r\n            return this._jsObject;\r\n        }\r\n    }\r\n    const windowJSObjectId = 0;\r\n    const cachedJSObjectsById = {\r\n        [windowJSObjectId]: new JSObject(window)\r\n    };\r\n    cachedJSObjectsById[windowJSObjectId]._cachedFunctions.set(\"import\", (url) => {\r\n        // In most cases developers will want to resolve dynamic imports relative to the base HREF.\r\n        // However since we're the one calling the import keyword, they would be resolved relative to\r\n        // this framework bundle URL. Fix this by providing an absolute URL.\r\n        if (typeof url === \"string\" && url.startsWith(\"./\")) {\r\n            url = new URL(url.substr(2), document.baseURI).toString();\r\n        }\r\n        return import(/* webpackIgnore: true */ url);\r\n    });\r\n    let nextJsObjectId = 1; // Start at 1 because zero is reserved for \"window\"\r\n    /**\r\n     * Creates a .NET call dispatcher to use for handling invocations between JavaScript and a .NET runtime.\r\n     *\r\n     * @param dotNetCallDispatcher An object that can dispatch calls from JavaScript to a .NET runtime.\r\n     */\r\n    function attachDispatcher(dotNetCallDispatcher) {\r\n        const result = new CallDispatcher(dotNetCallDispatcher);\r\n        if (defaultCallDispatcher === undefined) {\r\n            // This was the first dispatcher registered, so it becomes the default. This exists purely for\r\n            // backwards compatibility.\r\n            defaultCallDispatcher = result;\r\n        }\r\n        else if (defaultCallDispatcher) {\r\n            // There is already a default dispatcher. Now that there are multiple to choose from, there can\r\n            // be no acceptable default, so we nullify the default dispatcher.\r\n            defaultCallDispatcher = null;\r\n        }\r\n        return result;\r\n    }\r\n    DotNet.attachDispatcher = attachDispatcher;\r\n    /**\r\n     * Adds a JSON reviver callback that will be used when parsing arguments received from .NET.\r\n     * @param reviver The reviver to add.\r\n     */\r\n    function attachReviver(reviver) {\r\n        jsonRevivers.push(reviver);\r\n    }\r\n    DotNet.attachReviver = attachReviver;\r\n    /**\r\n     * Invokes the specified .NET public method synchronously. Not all hosting scenarios support\r\n     * synchronous invocation, so if possible use invokeMethodAsync instead.\r\n     *\r\n     * @deprecated Use DotNetObject to invoke instance methods instead.\r\n     * @param assemblyName The short name (without key/version or .dll extension) of the .NET assembly containing the method.\r\n     * @param methodIdentifier The identifier of the method to invoke. The method must have a [JSInvokable] attribute specifying this identifier.\r\n     * @param args Arguments to pass to the method, each of which must be JSON-serializable.\r\n     * @returns The result of the operation.\r\n     */\r\n    function invokeMethod(assemblyName, methodIdentifier, ...args) {\r\n        const dispatcher = getDefaultCallDispatcher();\r\n        return dispatcher.invokeDotNetStaticMethod(assemblyName, methodIdentifier, ...args);\r\n    }\r\n    DotNet.invokeMethod = invokeMethod;\r\n    /**\r\n     * Invokes the specified .NET public method asynchronously.\r\n     *\r\n     * @deprecated Use DotNetObject to invoke instance methods instead.\r\n     * @param assemblyName The short name (without key/version or .dll extension) of the .NET assembly containing the method.\r\n     * @param methodIdentifier The identifier of the method to invoke. The method must have a [JSInvokable] attribute specifying this identifier.\r\n     * @param args Arguments to pass to the method, each of which must be JSON-serializable.\r\n     * @returns A promise representing the result of the operation.\r\n     */\r\n    function invokeMethodAsync(assemblyName, methodIdentifier, ...args) {\r\n        const dispatcher = getDefaultCallDispatcher();\r\n        return dispatcher.invokeDotNetStaticMethodAsync(assemblyName, methodIdentifier, ...args);\r\n    }\r\n    DotNet.invokeMethodAsync = invokeMethodAsync;\r\n    /**\r\n     * Creates a JavaScript object reference that can be passed to .NET via interop calls.\r\n     *\r\n     * @param jsObject The JavaScript Object used to create the JavaScript object reference.\r\n     * @returns The JavaScript object reference (this will be the same instance as the given object).\r\n     * @throws Error if the given value is not an Object.\r\n     */\r\n    function createJSObjectReference(jsObject) {\r\n        if (jsObject && typeof jsObject === \"object\") {\r\n            cachedJSObjectsById[nextJsObjectId] = new JSObject(jsObject);\r\n            const result = {\r\n                [jsObjectIdKey]: nextJsObjectId\r\n            };\r\n            nextJsObjectId++;\r\n            return result;\r\n        }\r\n        throw new Error(`Cannot create a JSObjectReference from the value '${jsObject}'.`);\r\n    }\r\n    DotNet.createJSObjectReference = createJSObjectReference;\r\n    /**\r\n     * Creates a JavaScript data reference that can be passed to .NET via interop calls.\r\n     *\r\n     * @param streamReference The ArrayBufferView or Blob used to create the JavaScript stream reference.\r\n     * @returns The JavaScript data reference (this will be the same instance as the given object).\r\n     * @throws Error if the given value is not an Object or doesn't have a valid byteLength.\r\n     */\r\n    function createJSStreamReference(streamReference) {\r\n        let length = -1;\r\n        // If we're given a raw Array Buffer, we interpret it as a `Uint8Array` as\r\n        // ArrayBuffers' aren't directly readable.\r\n        if (streamReference instanceof ArrayBuffer) {\r\n            streamReference = new Uint8Array(streamReference);\r\n        }\r\n        if (streamReference instanceof Blob) {\r\n            length = streamReference.size;\r\n        }\r\n        else if (streamReference.buffer instanceof ArrayBuffer) {\r\n            if (streamReference.byteLength === undefined) {\r\n                throw new Error(`Cannot create a JSStreamReference from the value '${streamReference}' as it doesn't have a byteLength.`);\r\n            }\r\n            length = streamReference.byteLength;\r\n        }\r\n        else {\r\n            throw new Error(\"Supplied value is not a typed array or blob.\");\r\n        }\r\n        const result = {\r\n            [jsStreamReferenceLengthKey]: length\r\n        };\r\n        try {\r\n            const jsObjectReference = createJSObjectReference(streamReference);\r\n            result[jsObjectIdKey] = jsObjectReference[jsObjectIdKey];\r\n        }\r\n        catch (error) {\r\n            throw new Error(`Cannot create a JSStreamReference from the value '${streamReference}'.`);\r\n        }\r\n        return result;\r\n    }\r\n    DotNet.createJSStreamReference = createJSStreamReference;\r\n    /**\r\n     * Disposes the given JavaScript object reference.\r\n     *\r\n     * @param jsObjectReference The JavaScript Object reference.\r\n     */\r\n    function disposeJSObjectReference(jsObjectReference) {\r\n        const id = jsObjectReference && jsObjectReference[jsObjectIdKey];\r\n        if (typeof id === \"number\") {\r\n            disposeJSObjectReferenceById(id);\r\n        }\r\n    }\r\n    DotNet.disposeJSObjectReference = disposeJSObjectReference;\r\n    function parseJsonWithRevivers(callDispatcher, json) {\r\n        currentCallDispatcher = callDispatcher;\r\n        const result = json ? JSON.parse(json, (key, initialValue) => {\r\n            // Invoke each reviver in order, passing the output from the previous reviver,\r\n            // so that each one gets a chance to transform the value\r\n            return jsonRevivers.reduce((latestValue, reviver) => reviver(key, latestValue), initialValue);\r\n        }) : null;\r\n        currentCallDispatcher = undefined;\r\n        return result;\r\n    }\r\n    function getDefaultCallDispatcher() {\r\n        if (defaultCallDispatcher === undefined) {\r\n            throw new Error(\"No call dispatcher has been set.\");\r\n        }\r\n        else if (defaultCallDispatcher === null) {\r\n            throw new Error(\"There are multiple .NET runtimes present, so a default dispatcher could not be resolved. Use DotNetObject to invoke .NET instance methods.\");\r\n        }\r\n        else {\r\n            return defaultCallDispatcher;\r\n        }\r\n    }\r\n    /**\r\n     * Represents the type of result expected from a JS interop call.\r\n     */\r\n    // eslint-disable-next-line no-shadow\r\n    let JSCallResultType;\r\n    (function (JSCallResultType) {\r\n        JSCallResultType[JSCallResultType[\"Default\"] = 0] = \"Default\";\r\n        JSCallResultType[JSCallResultType[\"JSObjectReference\"] = 1] = \"JSObjectReference\";\r\n        JSCallResultType[JSCallResultType[\"JSStreamReference\"] = 2] = \"JSStreamReference\";\r\n        JSCallResultType[JSCallResultType[\"JSVoidResult\"] = 3] = \"JSVoidResult\";\r\n    })(JSCallResultType = DotNet.JSCallResultType || (DotNet.JSCallResultType = {}));\r\n    class CallDispatcher {\r\n        // eslint-disable-next-line no-empty-function\r\n        constructor(_dotNetCallDispatcher) {\r\n            this._dotNetCallDispatcher = _dotNetCallDispatcher;\r\n            this._byteArraysToBeRevived = new Map();\r\n            this._pendingDotNetToJSStreams = new Map();\r\n            this._pendingAsyncCalls = {};\r\n            this._nextAsyncCallId = 1; // Start at 1 because zero signals \"no response needed\"\r\n        }\r\n        getDotNetCallDispatcher() {\r\n            return this._dotNetCallDispatcher;\r\n        }\r\n        invokeJSFromDotNet(identifier, argsJson, resultType, targetInstanceId) {\r\n            const args = parseJsonWithRevivers(this, argsJson);\r\n            const jsFunction = findJSFunction(identifier, targetInstanceId);\r\n            const returnValue = jsFunction(...(args || []));\r\n            const result = createJSCallResult(returnValue, resultType);\r\n            return result === null || result === undefined\r\n                ? null\r\n                : stringifyArgs(this, result);\r\n        }\r\n        beginInvokeJSFromDotNet(asyncHandle, identifier, argsJson, resultType, targetInstanceId) {\r\n            // Coerce synchronous functions into async ones, plus treat\r\n            // synchronous exceptions the same as async ones\r\n            const promise = new Promise(resolve => {\r\n                const args = parseJsonWithRevivers(this, argsJson);\r\n                const jsFunction = findJSFunction(identifier, targetInstanceId);\r\n                const synchronousResultOrPromise = jsFunction(...(args || []));\r\n                resolve(synchronousResultOrPromise);\r\n            });\r\n            // We only listen for a result if the caller wants to be notified about it\r\n            if (asyncHandle) {\r\n                // On completion, dispatch result back to .NET\r\n                // Not using \"await\" because it codegens a lot of boilerplate\r\n                promise.\r\n                    then(result => stringifyArgs(this, [\r\n                    asyncHandle,\r\n                    true,\r\n                    createJSCallResult(result, resultType)\r\n                ])).\r\n                    then(result => this._dotNetCallDispatcher.endInvokeJSFromDotNet(asyncHandle, true, result), error => this._dotNetCallDispatcher.endInvokeJSFromDotNet(asyncHandle, false, JSON.stringify([\r\n                    asyncHandle,\r\n                    false,\r\n                    formatError(error)\r\n                ])));\r\n            }\r\n        }\r\n        endInvokeDotNetFromJS(asyncCallId, success, resultJsonOrExceptionMessage) {\r\n            const resultOrError = success\r\n                ? parseJsonWithRevivers(this, resultJsonOrExceptionMessage)\r\n                : new Error(resultJsonOrExceptionMessage);\r\n            this.completePendingCall(parseInt(asyncCallId, 10), success, resultOrError);\r\n        }\r\n        invokeDotNetStaticMethod(assemblyName, methodIdentifier, ...args) {\r\n            return this.invokeDotNetMethod(assemblyName, methodIdentifier, null, args);\r\n        }\r\n        invokeDotNetStaticMethodAsync(assemblyName, methodIdentifier, ...args) {\r\n            return this.invokeDotNetMethodAsync(assemblyName, methodIdentifier, null, args);\r\n        }\r\n        invokeDotNetMethod(assemblyName, methodIdentifier, dotNetObjectId, args) {\r\n            if (this._dotNetCallDispatcher.invokeDotNetFromJS) {\r\n                const argsJson = stringifyArgs(this, args);\r\n                const resultJson = this._dotNetCallDispatcher.invokeDotNetFromJS(assemblyName, methodIdentifier, dotNetObjectId, argsJson);\r\n                return resultJson ? parseJsonWithRevivers(this, resultJson) : null;\r\n            }\r\n            throw new Error(\"The current dispatcher does not support synchronous calls from JS to .NET. Use invokeDotNetMethodAsync instead.\");\r\n        }\r\n        invokeDotNetMethodAsync(assemblyName, methodIdentifier, dotNetObjectId, args) {\r\n            if (assemblyName && dotNetObjectId) {\r\n                throw new Error(`For instance method calls, assemblyName should be null. Received '${assemblyName}'.`);\r\n            }\r\n            const asyncCallId = this._nextAsyncCallId++;\r\n            const resultPromise = new Promise((resolve, reject) => {\r\n                this._pendingAsyncCalls[asyncCallId] = { resolve, reject };\r\n            });\r\n            try {\r\n                const argsJson = stringifyArgs(this, args);\r\n                this._dotNetCallDispatcher.beginInvokeDotNetFromJS(asyncCallId, assemblyName, methodIdentifier, dotNetObjectId, argsJson);\r\n            }\r\n            catch (ex) {\r\n                // Synchronous failure\r\n                this.completePendingCall(asyncCallId, false, ex);\r\n            }\r\n            return resultPromise;\r\n        }\r\n        receiveByteArray(id, data) {\r\n            this._byteArraysToBeRevived.set(id, data);\r\n        }\r\n        processByteArray(id) {\r\n            const result = this._byteArraysToBeRevived.get(id);\r\n            if (!result) {\r\n                return null;\r\n            }\r\n            this._byteArraysToBeRevived.delete(id);\r\n            return result;\r\n        }\r\n        supplyDotNetStream(streamId, stream) {\r\n            if (this._pendingDotNetToJSStreams.has(streamId)) {\r\n                // The receiver is already waiting, so we can resolve the promise now and stop tracking this\r\n                const pendingStream = this._pendingDotNetToJSStreams.get(streamId);\r\n                this._pendingDotNetToJSStreams.delete(streamId);\r\n                pendingStream.resolve(stream);\r\n            }\r\n            else {\r\n                // The receiver hasn't started waiting yet, so track a pre-completed entry it can attach to later\r\n                const pendingStream = new PendingStream();\r\n                pendingStream.resolve(stream);\r\n                this._pendingDotNetToJSStreams.set(streamId, pendingStream);\r\n            }\r\n        }\r\n        getDotNetStreamPromise(streamId) {\r\n            // We might already have started receiving the stream, or maybe it will come later.\r\n            // We have to handle both possible orderings, but we can count on it coming eventually because\r\n            // it's not something the developer gets to control, and it would be an error if it doesn't.\r\n            let result;\r\n            if (this._pendingDotNetToJSStreams.has(streamId)) {\r\n                // We've already started receiving the stream, so no longer need to track it as pending\r\n                result = this._pendingDotNetToJSStreams.get(streamId).streamPromise;\r\n                this._pendingDotNetToJSStreams.delete(streamId);\r\n            }\r\n            else {\r\n                // We haven't started receiving it yet, so add an entry to track it as pending\r\n                const pendingStream = new PendingStream();\r\n                this._pendingDotNetToJSStreams.set(streamId, pendingStream);\r\n                result = pendingStream.streamPromise;\r\n            }\r\n            return result;\r\n        }\r\n        completePendingCall(asyncCallId, success, resultOrError) {\r\n            if (!this._pendingAsyncCalls.hasOwnProperty(asyncCallId)) {\r\n                throw new Error(`There is no pending async call with ID ${asyncCallId}.`);\r\n            }\r\n            const asyncCall = this._pendingAsyncCalls[asyncCallId];\r\n            delete this._pendingAsyncCalls[asyncCallId];\r\n            if (success) {\r\n                asyncCall.resolve(resultOrError);\r\n            }\r\n            else {\r\n                asyncCall.reject(resultOrError);\r\n            }\r\n        }\r\n    }\r\n    function formatError(error) {\r\n        if (error instanceof Error) {\r\n            return `${error.message}\\n${error.stack}`;\r\n        }\r\n        return error ? error.toString() : \"null\";\r\n    }\r\n    function findJSFunction(identifier, targetInstanceId) {\r\n        const targetInstance = cachedJSObjectsById[targetInstanceId];\r\n        if (targetInstance) {\r\n            return targetInstance.findFunction(identifier);\r\n        }\r\n        throw new Error(`JS object instance with ID ${targetInstanceId} does not exist (has it been disposed?).`);\r\n    }\r\n    DotNet.findJSFunction = findJSFunction;\r\n    function disposeJSObjectReferenceById(id) {\r\n        delete cachedJSObjectsById[id];\r\n    }\r\n    DotNet.disposeJSObjectReferenceById = disposeJSObjectReferenceById;\r\n    class DotNetObject {\r\n        // eslint-disable-next-line no-empty-function\r\n        constructor(_id, _callDispatcher) {\r\n            this._id = _id;\r\n            this._callDispatcher = _callDispatcher;\r\n        }\r\n        invokeMethod(methodIdentifier, ...args) {\r\n            return this._callDispatcher.invokeDotNetMethod(null, methodIdentifier, this._id, args);\r\n        }\r\n        invokeMethodAsync(methodIdentifier, ...args) {\r\n            return this._callDispatcher.invokeDotNetMethodAsync(null, methodIdentifier, this._id, args);\r\n        }\r\n        dispose() {\r\n            const promise = this._callDispatcher.invokeDotNetMethodAsync(null, \"__Dispose\", this._id, null);\r\n            promise.catch(error => console.error(error));\r\n        }\r\n        serializeAsArg() {\r\n            return { [dotNetObjectRefKey]: this._id };\r\n        }\r\n    }\r\n    DotNet.DotNetObject = DotNetObject;\r\n    attachReviver(function reviveReference(key, value) {\r\n        if (value && typeof value === \"object\") {\r\n            if (value.hasOwnProperty(dotNetObjectRefKey)) {\r\n                return new DotNetObject(value[dotNetObjectRefKey], currentCallDispatcher);\r\n            }\r\n            else if (value.hasOwnProperty(jsObjectIdKey)) {\r\n                const id = value[jsObjectIdKey];\r\n                const jsObject = cachedJSObjectsById[id];\r\n                if (jsObject) {\r\n                    return jsObject.getWrappedObject();\r\n                }\r\n                throw new Error(`JS object instance with Id '${id}' does not exist. It may have been disposed.`);\r\n            }\r\n            else if (value.hasOwnProperty(byteArrayRefKey)) {\r\n                const index = value[byteArrayRefKey];\r\n                const byteArray = currentCallDispatcher.processByteArray(index);\r\n                if (byteArray === undefined) {\r\n                    throw new Error(`Byte array index '${index}' does not exist.`);\r\n                }\r\n                return byteArray;\r\n            }\r\n            else if (value.hasOwnProperty(dotNetStreamRefKey)) {\r\n                const streamId = value[dotNetStreamRefKey];\r\n                const streamPromise = currentCallDispatcher.getDotNetStreamPromise(streamId);\r\n                return new DotNetStream(streamPromise);\r\n            }\r\n        }\r\n        // Unrecognized - let another reviver handle it\r\n        return value;\r\n    });\r\n    class DotNetStream {\r\n        // eslint-disable-next-line no-empty-function\r\n        constructor(_streamPromise) {\r\n            this._streamPromise = _streamPromise;\r\n        }\r\n        /**\r\n         * Supplies a readable stream of data being sent from .NET.\r\n         */\r\n        stream() {\r\n            return this._streamPromise;\r\n        }\r\n        /**\r\n         * Supplies a array buffer of data being sent from .NET.\r\n         * Note there is a JavaScript limit on the size of the ArrayBuffer equal to approximately 2GB.\r\n         */\r\n        async arrayBuffer() {\r\n            return new Response(await this.stream()).arrayBuffer();\r\n        }\r\n    }\r\n    class PendingStream {\r\n        constructor() {\r\n            this.streamPromise = new Promise((resolve, reject) => {\r\n                this.resolve = resolve;\r\n                this.reject = reject;\r\n            });\r\n        }\r\n    }\r\n    function createJSCallResult(returnValue, resultType) {\r\n        switch (resultType) {\r\n            case JSCallResultType.Default:\r\n                return returnValue;\r\n            case JSCallResultType.JSObjectReference:\r\n                return createJSObjectReference(returnValue);\r\n            case JSCallResultType.JSStreamReference:\r\n                return createJSStreamReference(returnValue);\r\n            case JSCallResultType.JSVoidResult:\r\n                return null;\r\n            default:\r\n                throw new Error(`Invalid JS call result type '${resultType}'.`);\r\n        }\r\n    }\r\n    let nextByteArrayIndex = 0;\r\n    function stringifyArgs(callDispatcher, args) {\r\n        nextByteArrayIndex = 0;\r\n        currentCallDispatcher = callDispatcher;\r\n        const result = JSON.stringify(args, argReplacer);\r\n        currentCallDispatcher = undefined;\r\n        return result;\r\n    }\r\n    function argReplacer(key, value) {\r\n        if (value instanceof DotNetObject) {\r\n            return value.serializeAsArg();\r\n        }\r\n        else if (value instanceof Uint8Array) {\r\n            const dotNetCallDispatcher = currentCallDispatcher.getDotNetCallDispatcher();\r\n            dotNetCallDispatcher.sendByteArray(nextByteArrayIndex, value);\r\n            const jsonValue = { [byteArrayRefKey]: nextByteArrayIndex };\r\n            nextByteArrayIndex++;\r\n            return jsonValue;\r\n        }\r\n        return value;\r\n    }\r\n})(DotNet || (DotNet = {}));\r\n//# sourceMappingURL=Microsoft.JSInterop.js.map",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\n/** Error thrown when an HTTP request fails. */\r\nexport class HttpError extends Error {\r\n    /** Constructs a new instance of {@link @microsoft/signalr.HttpError}.\r\n     *\r\n     * @param {string} errorMessage A descriptive error message.\r\n     * @param {number} statusCode The HTTP status code represented by this error.\r\n     */\r\n    constructor(errorMessage, statusCode) {\r\n        const trueProto = new.target.prototype;\r\n        super(`${errorMessage}: Status code '${statusCode}'`);\r\n        this.statusCode = statusCode;\r\n        // Workaround issue in Typescript compiler\r\n        // https://github.com/Microsoft/TypeScript/issues/13965#issuecomment-278570200\r\n        this.__proto__ = trueProto;\r\n    }\r\n}\r\n/** Error thrown when a timeout elapses. */\r\nexport class TimeoutError extends Error {\r\n    /** Constructs a new instance of {@link @microsoft/signalr.TimeoutError}.\r\n     *\r\n     * @param {string} errorMessage A descriptive error message.\r\n     */\r\n    constructor(errorMessage = \"A timeout occurred.\") {\r\n        const trueProto = new.target.prototype;\r\n        super(errorMessage);\r\n        // Workaround issue in Typescript compiler\r\n        // https://github.com/Microsoft/TypeScript/issues/13965#issuecomment-278570200\r\n        this.__proto__ = trueProto;\r\n    }\r\n}\r\n/** Error thrown when an action is aborted. */\r\nexport class AbortError extends Error {\r\n    /** Constructs a new instance of {@link AbortError}.\r\n     *\r\n     * @param {string} errorMessage A descriptive error message.\r\n     */\r\n    constructor(errorMessage = \"An abort occurred.\") {\r\n        const trueProto = new.target.prototype;\r\n        super(errorMessage);\r\n        // Workaround issue in Typescript compiler\r\n        // https://github.com/Microsoft/TypeScript/issues/13965#issuecomment-278570200\r\n        this.__proto__ = trueProto;\r\n    }\r\n}\r\n/** Error thrown when the selected transport is unsupported by the browser. */\r\n/** @private */\r\nexport class UnsupportedTransportError extends Error {\r\n    /** Constructs a new instance of {@link @microsoft/signalr.UnsupportedTransportError}.\r\n     *\r\n     * @param {string} message A descriptive error message.\r\n     * @param {HttpTransportType} transport The {@link @microsoft/signalr.HttpTransportType} this error occurred on.\r\n     */\r\n    constructor(message, transport) {\r\n        const trueProto = new.target.prototype;\r\n        super(message);\r\n        this.transport = transport;\r\n        this.errorType = 'UnsupportedTransportError';\r\n        // Workaround issue in Typescript compiler\r\n        // https://github.com/Microsoft/TypeScript/issues/13965#issuecomment-278570200\r\n        this.__proto__ = trueProto;\r\n    }\r\n}\r\n/** Error thrown when the selected transport is disabled by the browser. */\r\n/** @private */\r\nexport class DisabledTransportError extends Error {\r\n    /** Constructs a new instance of {@link @microsoft/signalr.DisabledTransportError}.\r\n     *\r\n     * @param {string} message A descriptive error message.\r\n     * @param {HttpTransportType} transport The {@link @microsoft/signalr.HttpTransportType} this error occurred on.\r\n     */\r\n    constructor(message, transport) {\r\n        const trueProto = new.target.prototype;\r\n        super(message);\r\n        this.transport = transport;\r\n        this.errorType = 'DisabledTransportError';\r\n        // Workaround issue in Typescript compiler\r\n        // https://github.com/Microsoft/TypeScript/issues/13965#issuecomment-278570200\r\n        this.__proto__ = trueProto;\r\n    }\r\n}\r\n/** Error thrown when the selected transport cannot be started. */\r\n/** @private */\r\nexport class FailedToStartTransportError extends Error {\r\n    /** Constructs a new instance of {@link @microsoft/signalr.FailedToStartTransportError}.\r\n     *\r\n     * @param {string} message A descriptive error message.\r\n     * @param {HttpTransportType} transport The {@link @microsoft/signalr.HttpTransportType} this error occurred on.\r\n     */\r\n    constructor(message, transport) {\r\n        const trueProto = new.target.prototype;\r\n        super(message);\r\n        this.transport = transport;\r\n        this.errorType = 'FailedToStartTransportError';\r\n        // Workaround issue in Typescript compiler\r\n        // https://github.com/Microsoft/TypeScript/issues/13965#issuecomment-278570200\r\n        this.__proto__ = trueProto;\r\n    }\r\n}\r\n/** Error thrown when the negotiation with the server failed to complete. */\r\n/** @private */\r\nexport class FailedToNegotiateWithServerError extends Error {\r\n    /** Constructs a new instance of {@link @microsoft/signalr.FailedToNegotiateWithServerError}.\r\n     *\r\n     * @param {string} message A descriptive error message.\r\n     */\r\n    constructor(message) {\r\n        const trueProto = new.target.prototype;\r\n        super(message);\r\n        this.errorType = 'FailedToNegotiateWithServerError';\r\n        // Workaround issue in Typescript compiler\r\n        // https://github.com/Microsoft/TypeScript/issues/13965#issuecomment-278570200\r\n        this.__proto__ = trueProto;\r\n    }\r\n}\r\n/** Error thrown when multiple errors have occurred. */\r\n/** @private */\r\nexport class AggregateErrors extends Error {\r\n    /** Constructs a new instance of {@link @microsoft/signalr.AggregateErrors}.\r\n     *\r\n     * @param {string} message A descriptive error message.\r\n     * @param {Error[]} innerErrors The collection of errors this error is aggregating.\r\n     */\r\n    constructor(message, innerErrors) {\r\n        const trueProto = new.target.prototype;\r\n        super(message);\r\n        this.innerErrors = innerErrors;\r\n        // Workaround issue in Typescript compiler\r\n        // https://github.com/Microsoft/TypeScript/issues/13965#issuecomment-278570200\r\n        this.__proto__ = trueProto;\r\n    }\r\n}\r\n//# sourceMappingURL=Errors.js.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\n/** Represents an HTTP response. */\r\nexport class HttpResponse {\r\n    constructor(statusCode, statusText, content) {\r\n        this.statusCode = statusCode;\r\n        this.statusText = statusText;\r\n        this.content = content;\r\n    }\r\n}\r\n/** Abstraction over an HTTP client.\r\n *\r\n * This class provides an abstraction over an HTTP client so that a different implementation can be provided on different platforms.\r\n */\r\nexport class HttpClient {\r\n    get(url, options) {\r\n        return this.send({\r\n            ...options,\r\n            method: \"GET\",\r\n            url,\r\n        });\r\n    }\r\n    post(url, options) {\r\n        return this.send({\r\n            ...options,\r\n            method: \"POST\",\r\n            url,\r\n        });\r\n    }\r\n    delete(url, options) {\r\n        return this.send({\r\n            ...options,\r\n            method: \"DELETE\",\r\n            url,\r\n        });\r\n    }\r\n    /** Gets all cookies that apply to the specified URL.\r\n     *\r\n     * @param url The URL that the cookies are valid for.\r\n     * @returns {string} A string containing all the key-value cookie pairs for the specified URL.\r\n     */\r\n    // @ts-ignore\r\n    getCookieString(url) {\r\n        return \"\";\r\n    }\r\n}\r\n//# sourceMappingURL=HttpClient.js.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\n// These values are designed to match the ASP.NET Log Levels since that's the pattern we're emulating here.\r\n/** Indicates the severity of a log message.\r\n *\r\n * Log Levels are ordered in increasing severity. So `Debug` is more severe than `Trace`, etc.\r\n */\r\nexport var LogLevel;\r\n(function (LogLevel) {\r\n    /** Log level for very low severity diagnostic messages. */\r\n    LogLevel[LogLevel[\"Trace\"] = 0] = \"Trace\";\r\n    /** Log level for low severity diagnostic messages. */\r\n    LogLevel[LogLevel[\"Debug\"] = 1] = \"Debug\";\r\n    /** Log level for informational diagnostic messages. */\r\n    LogLevel[LogLevel[\"Information\"] = 2] = \"Information\";\r\n    /** Log level for diagnostic messages that indicate a non-fatal problem. */\r\n    LogLevel[LogLevel[\"Warning\"] = 3] = \"Warning\";\r\n    /** Log level for diagnostic messages that indicate a failure in the current operation. */\r\n    LogLevel[LogLevel[\"Error\"] = 4] = \"Error\";\r\n    /** Log level for diagnostic messages that indicate a failure that will terminate the entire application. */\r\n    LogLevel[LogLevel[\"Critical\"] = 5] = \"Critical\";\r\n    /** The highest possible log level. Used when configuring logging to indicate that no log messages should be emitted. */\r\n    LogLevel[LogLevel[\"None\"] = 6] = \"None\";\r\n})(LogLevel || (LogLevel = {}));\r\n//# sourceMappingURL=ILogger.js.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\n/** A logger that does nothing when log messages are sent to it. */\r\nexport class NullLogger {\r\n    constructor() { }\r\n    /** @inheritDoc */\r\n    // eslint-disable-next-line\r\n    log(_logLevel, _message) {\r\n    }\r\n}\r\n/** The singleton instance of the {@link @microsoft/signalr.NullLogger}. */\r\nNullLogger.instance = new NullLogger();\r\n//# sourceMappingURL=Loggers.js.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\nimport { LogLevel } from \"./ILogger\";\r\nimport { NullLogger } from \"./Loggers\";\r\n// Version token that will be replaced by the prepack command\r\n/** The version of the SignalR client. */\r\nexport const VERSION = \"0.0.0-DEV_BUILD\";\r\n/** @private */\r\nexport class Arg {\r\n    static isRequired(val, name) {\r\n        if (val === null || val === undefined) {\r\n            throw new Error(`The '${name}' argument is required.`);\r\n        }\r\n    }\r\n    static isNotEmpty(val, name) {\r\n        if (!val || val.match(/^\\s*$/)) {\r\n            throw new Error(`The '${name}' argument should not be empty.`);\r\n        }\r\n    }\r\n    static isIn(val, values, name) {\r\n        // TypeScript enums have keys for **both** the name and the value of each enum member on the type itself.\r\n        if (!(val in values)) {\r\n            throw new Error(`Unknown ${name} value: ${val}.`);\r\n        }\r\n    }\r\n}\r\n/** @private */\r\nexport class Platform {\r\n    // react-native has a window but no document so we should check both\r\n    static get isBrowser() {\r\n        return !Platform.isNode && typeof window === \"object\" && typeof window.document === \"object\";\r\n    }\r\n    // WebWorkers don't have a window object so the isBrowser check would fail\r\n    static get isWebWorker() {\r\n        return !Platform.isNode && typeof self === \"object\" && \"importScripts\" in self;\r\n    }\r\n    // react-native has a window but no document\r\n    static get isReactNative() {\r\n        return !Platform.isNode && typeof window === \"object\" && typeof window.document === \"undefined\";\r\n    }\r\n    // Node apps shouldn't have a window object, but WebWorkers don't either\r\n    // so we need to check for both WebWorker and window\r\n    static get isNode() {\r\n        return typeof process !== \"undefined\" && process.release && process.release.name === \"node\";\r\n    }\r\n}\r\n/** @private */\r\nexport function getDataDetail(data, includeContent) {\r\n    let detail = \"\";\r\n    if (isArrayBuffer(data)) {\r\n        detail = `Binary data of length ${data.byteLength}`;\r\n        if (includeContent) {\r\n            detail += `. Content: '${formatArrayBuffer(data)}'`;\r\n        }\r\n    }\r\n    else if (typeof data === \"string\") {\r\n        detail = `String data of length ${data.length}`;\r\n        if (includeContent) {\r\n            detail += `. Content: '${data}'`;\r\n        }\r\n    }\r\n    return detail;\r\n}\r\n/** @private */\r\nexport function formatArrayBuffer(data) {\r\n    const view = new Uint8Array(data);\r\n    // Uint8Array.map only supports returning another Uint8Array?\r\n    let str = \"\";\r\n    view.forEach((num) => {\r\n        const pad = num < 16 ? \"0\" : \"\";\r\n        str += `0x${pad}${num.toString(16)} `;\r\n    });\r\n    // Trim of trailing space.\r\n    return str.substr(0, str.length - 1);\r\n}\r\n// Also in signalr-protocol-msgpack/Utils.ts\r\n/** @private */\r\nexport function isArrayBuffer(val) {\r\n    return val && typeof ArrayBuffer !== \"undefined\" &&\r\n        (val instanceof ArrayBuffer ||\r\n            // Sometimes we get an ArrayBuffer that doesn't satisfy instanceof\r\n            (val.constructor && val.constructor.name === \"ArrayBuffer\"));\r\n}\r\n/** @private */\r\nexport async function sendMessage(logger, transportName, httpClient, url, content, options) {\r\n    const headers = {};\r\n    const [name, value] = getUserAgentHeader();\r\n    headers[name] = value;\r\n    logger.log(LogLevel.Trace, `(${transportName} transport) sending data. ${getDataDetail(content, options.logMessageContent)}.`);\r\n    const responseType = isArrayBuffer(content) ? \"arraybuffer\" : \"text\";\r\n    const response = await httpClient.post(url, {\r\n        content,\r\n        headers: { ...headers, ...options.headers },\r\n        responseType,\r\n        timeout: options.timeout,\r\n        withCredentials: options.withCredentials,\r\n    });\r\n    logger.log(LogLevel.Trace, `(${transportName} transport) request complete. Response status: ${response.statusCode}.`);\r\n}\r\n/** @private */\r\nexport function createLogger(logger) {\r\n    if (logger === undefined) {\r\n        return new ConsoleLogger(LogLevel.Information);\r\n    }\r\n    if (logger === null) {\r\n        return NullLogger.instance;\r\n    }\r\n    if (logger.log !== undefined) {\r\n        return logger;\r\n    }\r\n    return new ConsoleLogger(logger);\r\n}\r\n/** @private */\r\nexport class SubjectSubscription {\r\n    constructor(subject, observer) {\r\n        this._subject = subject;\r\n        this._observer = observer;\r\n    }\r\n    dispose() {\r\n        const index = this._subject.observers.indexOf(this._observer);\r\n        if (index > -1) {\r\n            this._subject.observers.splice(index, 1);\r\n        }\r\n        if (this._subject.observers.length === 0 && this._subject.cancelCallback) {\r\n            this._subject.cancelCallback().catch((_) => { });\r\n        }\r\n    }\r\n}\r\n/** @private */\r\nexport class ConsoleLogger {\r\n    constructor(minimumLogLevel) {\r\n        this._minLevel = minimumLogLevel;\r\n        this.out = console;\r\n    }\r\n    log(logLevel, message) {\r\n        if (logLevel >= this._minLevel) {\r\n            const msg = `[${new Date().toISOString()}] ${LogLevel[logLevel]}: ${message}`;\r\n            switch (logLevel) {\r\n                case LogLevel.Critical:\r\n                case LogLevel.Error:\r\n                    this.out.error(msg);\r\n                    break;\r\n                case LogLevel.Warning:\r\n                    this.out.warn(msg);\r\n                    break;\r\n                case LogLevel.Information:\r\n                    this.out.info(msg);\r\n                    break;\r\n                default:\r\n                    // console.debug only goes to attached debuggers in Node, so we use console.log for Trace and Debug\r\n                    this.out.log(msg);\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n}\r\n/** @private */\r\nexport function getUserAgentHeader() {\r\n    let userAgentHeaderName = \"X-SignalR-User-Agent\";\r\n    if (Platform.isNode) {\r\n        userAgentHeaderName = \"User-Agent\";\r\n    }\r\n    return [userAgentHeaderName, constructUserAgent(VERSION, getOsName(), getRuntime(), getRuntimeVersion())];\r\n}\r\n/** @private */\r\nexport function constructUserAgent(version, os, runtime, runtimeVersion) {\r\n    // Microsoft SignalR/[Version] ([Detailed Version]; [Operating System]; [Runtime]; [Runtime Version])\r\n    let userAgent = \"Microsoft SignalR/\";\r\n    const majorAndMinor = version.split(\".\");\r\n    userAgent += `${majorAndMinor[0]}.${majorAndMinor[1]}`;\r\n    userAgent += ` (${version}; `;\r\n    if (os && os !== \"\") {\r\n        userAgent += `${os}; `;\r\n    }\r\n    else {\r\n        userAgent += \"Unknown OS; \";\r\n    }\r\n    userAgent += `${runtime}`;\r\n    if (runtimeVersion) {\r\n        userAgent += `; ${runtimeVersion}`;\r\n    }\r\n    else {\r\n        userAgent += \"; Unknown Runtime Version\";\r\n    }\r\n    userAgent += \")\";\r\n    return userAgent;\r\n}\r\n// eslint-disable-next-line spaced-comment\r\n/*#__PURE__*/ function getOsName() {\r\n    if (Platform.isNode) {\r\n        switch (process.platform) {\r\n            case \"win32\":\r\n                return \"Windows NT\";\r\n            case \"darwin\":\r\n                return \"macOS\";\r\n            case \"linux\":\r\n                return \"Linux\";\r\n            default:\r\n                return process.platform;\r\n        }\r\n    }\r\n    else {\r\n        return \"\";\r\n    }\r\n}\r\n// eslint-disable-next-line spaced-comment\r\n/*#__PURE__*/ function getRuntimeVersion() {\r\n    if (Platform.isNode) {\r\n        return process.versions.node;\r\n    }\r\n    return undefined;\r\n}\r\nfunction getRuntime() {\r\n    if (Platform.isNode) {\r\n        return \"NodeJS\";\r\n    }\r\n    else {\r\n        return \"Browser\";\r\n    }\r\n}\r\n/** @private */\r\nexport function getErrorString(e) {\r\n    if (e.stack) {\r\n        return e.stack;\r\n    }\r\n    else if (e.message) {\r\n        return e.message;\r\n    }\r\n    return `${e}`;\r\n}\r\n/** @private */\r\nexport function getGlobalThis() {\r\n    // globalThis is semi-new and not available in Node until v12\r\n    if (typeof globalThis !== \"undefined\") {\r\n        return globalThis;\r\n    }\r\n    if (typeof self !== \"undefined\") {\r\n        return self;\r\n    }\r\n    if (typeof window !== \"undefined\") {\r\n        return window;\r\n    }\r\n    if (typeof global !== \"undefined\") {\r\n        return global;\r\n    }\r\n    throw new Error(\"could not find global\");\r\n}\r\n//# sourceMappingURL=Utils.js.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\nimport { AbortError, HttpError, TimeoutError } from \"./Errors\";\r\nimport { HttpClient, HttpResponse } from \"./HttpClient\";\r\nimport { LogLevel } from \"./ILogger\";\r\nimport { Platform, getGlobalThis, isArrayBuffer } from \"./Utils\";\r\nimport { configureAbortController, configureFetch } from \"./DynamicImports\";\r\nexport class FetchHttpClient extends HttpClient {\r\n    constructor(logger) {\r\n        super();\r\n        this._logger = logger;\r\n        // This is how you do \"reference\" arguments\r\n        const fetchObj = { _fetchType: undefined, _jar: undefined };\r\n        if (configureFetch(fetchObj)) {\r\n            this._fetchType = fetchObj._fetchType;\r\n            this._jar = fetchObj._jar;\r\n        }\r\n        else {\r\n            this._fetchType = fetch.bind(getGlobalThis());\r\n        }\r\n        this._abortControllerType = AbortController;\r\n        const abortObj = { _abortControllerType: this._abortControllerType };\r\n        if (configureAbortController(abortObj)) {\r\n            this._abortControllerType = abortObj._abortControllerType;\r\n        }\r\n    }\r\n    /** @inheritDoc */\r\n    async send(request) {\r\n        // Check that abort was not signaled before calling send\r\n        if (request.abortSignal && request.abortSignal.aborted) {\r\n            throw new AbortError();\r\n        }\r\n        if (!request.method) {\r\n            throw new Error(\"No method defined.\");\r\n        }\r\n        if (!request.url) {\r\n            throw new Error(\"No url defined.\");\r\n        }\r\n        const abortController = new this._abortControllerType();\r\n        let error;\r\n        // Hook our abortSignal into the abort controller\r\n        if (request.abortSignal) {\r\n            request.abortSignal.onabort = () => {\r\n                abortController.abort();\r\n                error = new AbortError();\r\n            };\r\n        }\r\n        // If a timeout has been passed in, setup a timeout to call abort\r\n        // Type needs to be any to fit window.setTimeout and NodeJS.setTimeout\r\n        let timeoutId = null;\r\n        if (request.timeout) {\r\n            const msTimeout = request.timeout;\r\n            timeoutId = setTimeout(() => {\r\n                abortController.abort();\r\n                this._logger.log(LogLevel.Warning, `Timeout from HTTP request.`);\r\n                error = new TimeoutError();\r\n            }, msTimeout);\r\n        }\r\n        if (request.content === \"\") {\r\n            request.content = undefined;\r\n        }\r\n        if (request.content) {\r\n            // Explicitly setting the Content-Type header for React Native on Android platform.\r\n            request.headers = request.headers || {};\r\n            if (isArrayBuffer(request.content)) {\r\n                request.headers[\"Content-Type\"] = \"application/octet-stream\";\r\n            }\r\n            else {\r\n                request.headers[\"Content-Type\"] = \"text/plain;charset=UTF-8\";\r\n            }\r\n        }\r\n        let response;\r\n        try {\r\n            response = await this._fetchType(request.url, {\r\n                body: request.content,\r\n                cache: \"no-cache\",\r\n                credentials: request.withCredentials === true ? \"include\" : \"same-origin\",\r\n                headers: {\r\n                    \"X-Requested-With\": \"XMLHttpRequest\",\r\n                    ...request.headers,\r\n                },\r\n                method: request.method,\r\n                mode: \"cors\",\r\n                redirect: \"follow\",\r\n                signal: abortController.signal,\r\n            });\r\n        }\r\n        catch (e) {\r\n            if (error) {\r\n                throw error;\r\n            }\r\n            this._logger.log(LogLevel.Warning, `Error from HTTP request. ${e}.`);\r\n            throw e;\r\n        }\r\n        finally {\r\n            if (timeoutId) {\r\n                clearTimeout(timeoutId);\r\n            }\r\n            if (request.abortSignal) {\r\n                request.abortSignal.onabort = null;\r\n            }\r\n        }\r\n        if (!response.ok) {\r\n            const errorMessage = await deserializeContent(response, \"text\");\r\n            throw new HttpError(errorMessage || response.statusText, response.status);\r\n        }\r\n        const content = deserializeContent(response, request.responseType);\r\n        const payload = await content;\r\n        return new HttpResponse(response.status, response.statusText, payload);\r\n    }\r\n    getCookieString(url) {\r\n        let cookies = \"\";\r\n        if (Platform.isNode && this._jar) {\r\n            // @ts-ignore: unused variable\r\n            this._jar.getCookies(url, (e, c) => cookies = c.join(\"; \"));\r\n        }\r\n        return cookies;\r\n    }\r\n}\r\nfunction deserializeContent(response, responseType) {\r\n    let content;\r\n    switch (responseType) {\r\n        case \"arraybuffer\":\r\n            content = response.arrayBuffer();\r\n            break;\r\n        case \"text\":\r\n            content = response.text();\r\n            break;\r\n        case \"blob\":\r\n        case \"document\":\r\n        case \"json\":\r\n            throw new Error(`${responseType} is not supported.`);\r\n        default:\r\n            content = response.text();\r\n            break;\r\n    }\r\n    return content;\r\n}\r\n//# sourceMappingURL=FetchHttpClient.js.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\nimport { Platform } from \"./Utils\";\r\n/** @private */\r\nexport function configureFetch(obj) {\r\n    // Node added a fetch implementation to the global scope starting in v18.\r\n    // We need to add a cookie jar in node to be able to share cookies with WebSocket\r\n    if (typeof fetch === \"undefined\" || Platform.isNode) {\r\n        // Cookies aren't automatically handled in Node so we need to add a CookieJar to preserve cookies across requests\r\n        // eslint-disable-next-line @typescript-eslint/no-var-requires\r\n        obj._jar = new (require(\"tough-cookie\")).CookieJar();\r\n        if (typeof fetch === \"undefined\") {\r\n            // eslint-disable-next-line @typescript-eslint/no-var-requires\r\n            obj._fetchType = require(\"node-fetch\");\r\n        }\r\n        else {\r\n            // Use fetch from Node if available\r\n            obj._fetchType = fetch;\r\n        }\r\n        // node-fetch doesn't have a nice API for getting and setting cookies\r\n        // fetch-cookie will wrap a fetch implementation with a default CookieJar or a provided one\r\n        // eslint-disable-next-line @typescript-eslint/no-var-requires\r\n        obj._fetchType = require(\"fetch-cookie\")(obj._fetchType, obj._jar);\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\n/** @private */\r\nexport function configureAbortController(obj) {\r\n    if (typeof AbortController === \"undefined\") {\r\n        // Node needs EventListener methods on AbortController which our custom polyfill doesn't provide\r\n        obj._abortControllerType = require(\"abort-controller\");\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\n/** @private */\r\nexport function getWS() {\r\n    return require(\"ws\");\r\n}\r\n/** @private */\r\nexport function getEventSource() {\r\n    return require(\"eventsource\");\r\n}\r\n//# sourceMappingURL=DynamicImports.js.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\nimport { AbortError, HttpError, TimeoutError } from \"./Errors\";\r\nimport { HttpClient, HttpResponse } from \"./HttpClient\";\r\nimport { LogLevel } from \"./ILogger\";\r\nimport { isArrayBuffer } from \"./Utils\";\r\nexport class XhrHttpClient extends HttpClient {\r\n    constructor(logger) {\r\n        super();\r\n        this._logger = logger;\r\n    }\r\n    /** @inheritDoc */\r\n    send(request) {\r\n        // Check that abort was not signaled before calling send\r\n        if (request.abortSignal && request.abortSignal.aborted) {\r\n            return Promise.reject(new AbortError());\r\n        }\r\n        if (!request.method) {\r\n            return Promise.reject(new Error(\"No method defined.\"));\r\n        }\r\n        if (!request.url) {\r\n            return Promise.reject(new Error(\"No url defined.\"));\r\n        }\r\n        return new Promise((resolve, reject) => {\r\n            const xhr = new XMLHttpRequest();\r\n            xhr.open(request.method, request.url, true);\r\n            xhr.withCredentials = request.withCredentials === undefined ? true : request.withCredentials;\r\n            xhr.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\r\n            if (request.content === \"\") {\r\n                request.content = undefined;\r\n            }\r\n            if (request.content) {\r\n                // Explicitly setting the Content-Type header for React Native on Android platform.\r\n                if (isArrayBuffer(request.content)) {\r\n                    xhr.setRequestHeader(\"Content-Type\", \"application/octet-stream\");\r\n                }\r\n                else {\r\n                    xhr.setRequestHeader(\"Content-Type\", \"text/plain;charset=UTF-8\");\r\n                }\r\n            }\r\n            const headers = request.headers;\r\n            if (headers) {\r\n                Object.keys(headers)\r\n                    .forEach((header) => {\r\n                    xhr.setRequestHeader(header, headers[header]);\r\n                });\r\n            }\r\n            if (request.responseType) {\r\n                xhr.responseType = request.responseType;\r\n            }\r\n            if (request.abortSignal) {\r\n                request.abortSignal.onabort = () => {\r\n                    xhr.abort();\r\n                    reject(new AbortError());\r\n                };\r\n            }\r\n            if (request.timeout) {\r\n                xhr.timeout = request.timeout;\r\n            }\r\n            xhr.onload = () => {\r\n                if (request.abortSignal) {\r\n                    request.abortSignal.onabort = null;\r\n                }\r\n                if (xhr.status >= 200 && xhr.status < 300) {\r\n                    resolve(new HttpResponse(xhr.status, xhr.statusText, xhr.response || xhr.responseText));\r\n                }\r\n                else {\r\n                    reject(new HttpError(xhr.response || xhr.responseText || xhr.statusText, xhr.status));\r\n                }\r\n            };\r\n            xhr.onerror = () => {\r\n                this._logger.log(LogLevel.Warning, `Error from HTTP request. ${xhr.status}: ${xhr.statusText}.`);\r\n                reject(new HttpError(xhr.statusText, xhr.status));\r\n            };\r\n            xhr.ontimeout = () => {\r\n                this._logger.log(LogLevel.Warning, `Timeout from HTTP request.`);\r\n                reject(new TimeoutError());\r\n            };\r\n            xhr.send(request.content);\r\n        });\r\n    }\r\n}\r\n//# sourceMappingURL=XhrHttpClient.js.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\nimport { AbortError } from \"./Errors\";\r\nimport { FetchHttpClient } from \"./FetchHttpClient\";\r\nimport { HttpClient } from \"./HttpClient\";\r\nimport { Platform } from \"./Utils\";\r\nimport { XhrHttpClient } from \"./XhrHttpClient\";\r\n/** Default implementation of {@link @microsoft/signalr.HttpClient}. */\r\nexport class DefaultHttpClient extends HttpClient {\r\n    /** Creates a new instance of the {@link @microsoft/signalr.DefaultHttpClient}, using the provided {@link @microsoft/signalr.ILogger} to log messages. */\r\n    constructor(logger) {\r\n        super();\r\n        if (typeof fetch !== \"undefined\" || Platform.isNode) {\r\n            this._httpClient = new FetchHttpClient(logger);\r\n        }\r\n        else if (typeof XMLHttpRequest !== \"undefined\") {\r\n            this._httpClient = new XhrHttpClient(logger);\r\n        }\r\n        else {\r\n            throw new Error(\"No usable HttpClient found.\");\r\n        }\r\n    }\r\n    /** @inheritDoc */\r\n    send(request) {\r\n        // Check that abort was not signaled before calling send\r\n        if (request.abortSignal && request.abortSignal.aborted) {\r\n            return Promise.reject(new AbortError());\r\n        }\r\n        if (!request.method) {\r\n            return Promise.reject(new Error(\"No method defined.\"));\r\n        }\r\n        if (!request.url) {\r\n            return Promise.reject(new Error(\"No url defined.\"));\r\n        }\r\n        return this._httpClient.send(request);\r\n    }\r\n    getCookieString(url) {\r\n        return this._httpClient.getCookieString(url);\r\n    }\r\n}\r\n//# sourceMappingURL=DefaultHttpClient.js.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\n// Not exported from index\r\n/** @private */\r\nexport class TextMessageFormat {\r\n    static write(output) {\r\n        return `${output}${TextMessageFormat.RecordSeparator}`;\r\n    }\r\n    static parse(input) {\r\n        if (input[input.length - 1] !== TextMessageFormat.RecordSeparator) {\r\n            throw new Error(\"Message is incomplete.\");\r\n        }\r\n        const messages = input.split(TextMessageFormat.RecordSeparator);\r\n        messages.pop();\r\n        return messages;\r\n    }\r\n}\r\nTextMessageFormat.RecordSeparatorCode = 0x1e;\r\nTextMessageFormat.RecordSeparator = String.fromCharCode(TextMessageFormat.RecordSeparatorCode);\r\n//# sourceMappingURL=TextMessageFormat.js.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\nimport { TextMessageFormat } from \"./TextMessageFormat\";\r\nimport { isArrayBuffer } from \"./Utils\";\r\n/** @private */\r\nexport class HandshakeProtocol {\r\n    // Handshake request is always JSON\r\n    writeHandshakeRequest(handshakeRequest) {\r\n        return TextMessageFormat.write(JSON.stringify(handshakeRequest));\r\n    }\r\n    parseHandshakeResponse(data) {\r\n        let messageData;\r\n        let remainingData;\r\n        if (isArrayBuffer(data)) {\r\n            // Format is binary but still need to read JSON text from handshake response\r\n            const binaryData = new Uint8Array(data);\r\n            const separatorIndex = binaryData.indexOf(TextMessageFormat.RecordSeparatorCode);\r\n            if (separatorIndex === -1) {\r\n                throw new Error(\"Message is incomplete.\");\r\n            }\r\n            // content before separator is handshake response\r\n            // optional content after is additional messages\r\n            const responseLength = separatorIndex + 1;\r\n            messageData = String.fromCharCode.apply(null, Array.prototype.slice.call(binaryData.slice(0, responseLength)));\r\n            remainingData = (binaryData.byteLength > responseLength) ? binaryData.slice(responseLength).buffer : null;\r\n        }\r\n        else {\r\n            const textData = data;\r\n            const separatorIndex = textData.indexOf(TextMessageFormat.RecordSeparator);\r\n            if (separatorIndex === -1) {\r\n                throw new Error(\"Message is incomplete.\");\r\n            }\r\n            // content before separator is handshake response\r\n            // optional content after is additional messages\r\n            const responseLength = separatorIndex + 1;\r\n            messageData = textData.substring(0, responseLength);\r\n            remainingData = (textData.length > responseLength) ? textData.substring(responseLength) : null;\r\n        }\r\n        // At this point we should have just the single handshake message\r\n        const messages = TextMessageFormat.parse(messageData);\r\n        const response = JSON.parse(messages[0]);\r\n        if (response.type) {\r\n            throw new Error(\"Expected a handshake response from the server.\");\r\n        }\r\n        const responseMessage = response;\r\n        // multiple messages could have arrived with handshake\r\n        // return additional data to be parsed as usual, or null if all parsed\r\n        return [remainingData, responseMessage];\r\n    }\r\n}\r\n//# sourceMappingURL=HandshakeProtocol.js.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\n/** Defines the type of a Hub Message. */\r\nexport var MessageType;\r\n(function (MessageType) {\r\n    /** Indicates the message is an Invocation message and implements the {@link @microsoft/signalr.InvocationMessage} interface. */\r\n    MessageType[MessageType[\"Invocation\"] = 1] = \"Invocation\";\r\n    /** Indicates the message is a StreamItem message and implements the {@link @microsoft/signalr.StreamItemMessage} interface. */\r\n    MessageType[MessageType[\"StreamItem\"] = 2] = \"StreamItem\";\r\n    /** Indicates the message is a Completion message and implements the {@link @microsoft/signalr.CompletionMessage} interface. */\r\n    MessageType[MessageType[\"Completion\"] = 3] = \"Completion\";\r\n    /** Indicates the message is a Stream Invocation message and implements the {@link @microsoft/signalr.StreamInvocationMessage} interface. */\r\n    MessageType[MessageType[\"StreamInvocation\"] = 4] = \"StreamInvocation\";\r\n    /** Indicates the message is a Cancel Invocation message and implements the {@link @microsoft/signalr.CancelInvocationMessage} interface. */\r\n    MessageType[MessageType[\"CancelInvocation\"] = 5] = \"CancelInvocation\";\r\n    /** Indicates the message is a Ping message and implements the {@link @microsoft/signalr.PingMessage} interface. */\r\n    MessageType[MessageType[\"Ping\"] = 6] = \"Ping\";\r\n    /** Indicates the message is a Close message and implements the {@link @microsoft/signalr.CloseMessage} interface. */\r\n    MessageType[MessageType[\"Close\"] = 7] = \"Close\";\r\n    MessageType[MessageType[\"Ack\"] = 8] = \"Ack\";\r\n    MessageType[MessageType[\"Sequence\"] = 9] = \"Sequence\";\r\n})(MessageType || (MessageType = {}));\r\n//# sourceMappingURL=IHubProtocol.js.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\nimport { HandshakeProtocol } from \"./HandshakeProtocol\";\r\nimport { AbortError } from \"./Errors\";\r\nimport { MessageType } from \"./IHubProtocol\";\r\nimport { LogLevel } from \"./ILogger\";\r\nimport { Subject } from \"./Subject\";\r\nimport { Arg, getErrorString, Platform } from \"./Utils\";\r\nimport { MessageBuffer } from \"./MessageBuffer\";\r\nconst DEFAULT_TIMEOUT_IN_MS = 30 * 1000;\r\nconst DEFAULT_PING_INTERVAL_IN_MS = 15 * 1000;\r\nconst DEFAULT_STATEFUL_RECONNECT_BUFFER_SIZE = 100000;\r\n/** Describes the current state of the {@link HubConnection} to the server. */\r\nexport var HubConnectionState;\r\n(function (HubConnectionState) {\r\n    /** The hub connection is disconnected. */\r\n    HubConnectionState[\"Disconnected\"] = \"Disconnected\";\r\n    /** The hub connection is connecting. */\r\n    HubConnectionState[\"Connecting\"] = \"Connecting\";\r\n    /** The hub connection is connected. */\r\n    HubConnectionState[\"Connected\"] = \"Connected\";\r\n    /** The hub connection is disconnecting. */\r\n    HubConnectionState[\"Disconnecting\"] = \"Disconnecting\";\r\n    /** The hub connection is reconnecting. */\r\n    HubConnectionState[\"Reconnecting\"] = \"Reconnecting\";\r\n})(HubConnectionState || (HubConnectionState = {}));\r\n/** Represents a connection to a SignalR Hub. */\r\nexport class HubConnection {\r\n    /** @internal */\r\n    // Using a public static factory method means we can have a private constructor and an _internal_\r\n    // create method that can be used by HubConnectionBuilder. An \"internal\" constructor would just\r\n    // be stripped away and the '.d.ts' file would have no constructor, which is interpreted as a\r\n    // public parameter-less constructor.\r\n    static create(connection, logger, protocol, reconnectPolicy, serverTimeoutInMilliseconds, keepAliveIntervalInMilliseconds, statefulReconnectBufferSize) {\r\n        return new HubConnection(connection, logger, protocol, reconnectPolicy, serverTimeoutInMilliseconds, keepAliveIntervalInMilliseconds, statefulReconnectBufferSize);\r\n    }\r\n    constructor(connection, logger, protocol, reconnectPolicy, serverTimeoutInMilliseconds, keepAliveIntervalInMilliseconds, statefulReconnectBufferSize) {\r\n        this._nextKeepAlive = 0;\r\n        this._freezeEventListener = () => {\r\n            this._logger.log(LogLevel.Warning, \"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://learn.microsoft.com/aspnet/core/signalr/javascript-client#bsleep\");\r\n        };\r\n        Arg.isRequired(connection, \"connection\");\r\n        Arg.isRequired(logger, \"logger\");\r\n        Arg.isRequired(protocol, \"protocol\");\r\n        this.serverTimeoutInMilliseconds = serverTimeoutInMilliseconds !== null && serverTimeoutInMilliseconds !== void 0 ? serverTimeoutInMilliseconds : DEFAULT_TIMEOUT_IN_MS;\r\n        this.keepAliveIntervalInMilliseconds = keepAliveIntervalInMilliseconds !== null && keepAliveIntervalInMilliseconds !== void 0 ? keepAliveIntervalInMilliseconds : DEFAULT_PING_INTERVAL_IN_MS;\r\n        this._statefulReconnectBufferSize = statefulReconnectBufferSize !== null && statefulReconnectBufferSize !== void 0 ? statefulReconnectBufferSize : DEFAULT_STATEFUL_RECONNECT_BUFFER_SIZE;\r\n        this._logger = logger;\r\n        this._protocol = protocol;\r\n        this.connection = connection;\r\n        this._reconnectPolicy = reconnectPolicy;\r\n        this._handshakeProtocol = new HandshakeProtocol();\r\n        this.connection.onreceive = (data) => this._processIncomingData(data);\r\n        this.connection.onclose = (error) => this._connectionClosed(error);\r\n        this._callbacks = {};\r\n        this._methods = {};\r\n        this._closedCallbacks = [];\r\n        this._reconnectingCallbacks = [];\r\n        this._reconnectedCallbacks = [];\r\n        this._invocationId = 0;\r\n        this._receivedHandshakeResponse = false;\r\n        this._connectionState = HubConnectionState.Disconnected;\r\n        this._connectionStarted = false;\r\n        this._cachedPingMessage = this._protocol.writeMessage({ type: MessageType.Ping });\r\n    }\r\n    /** Indicates the state of the {@link HubConnection} to the server. */\r\n    get state() {\r\n        return this._connectionState;\r\n    }\r\n    /** Represents the connection id of the {@link HubConnection} on the server. The connection id will be null when the connection is either\r\n     *  in the disconnected state or if the negotiation step was skipped.\r\n     */\r\n    get connectionId() {\r\n        return this.connection ? (this.connection.connectionId || null) : null;\r\n    }\r\n    /** Indicates the url of the {@link HubConnection} to the server. */\r\n    get baseUrl() {\r\n        return this.connection.baseUrl || \"\";\r\n    }\r\n    /**\r\n     * Sets a new url for the HubConnection. Note that the url can only be changed when the connection is in either the Disconnected or\r\n     * Reconnecting states.\r\n     * @param {string} url The url to connect to.\r\n     */\r\n    set baseUrl(url) {\r\n        if (this._connectionState !== HubConnectionState.Disconnected && this._connectionState !== HubConnectionState.Reconnecting) {\r\n            throw new Error(\"The HubConnection must be in the Disconnected or Reconnecting state to change the url.\");\r\n        }\r\n        if (!url) {\r\n            throw new Error(\"The HubConnection url must be a valid url.\");\r\n        }\r\n        this.connection.baseUrl = url;\r\n    }\r\n    /** Starts the connection.\r\n     *\r\n     * @returns {Promise<void>} A Promise that resolves when the connection has been successfully established, or rejects with an error.\r\n     */\r\n    start() {\r\n        this._startPromise = this._startWithStateTransitions();\r\n        return this._startPromise;\r\n    }\r\n    async _startWithStateTransitions() {\r\n        if (this._connectionState !== HubConnectionState.Disconnected) {\r\n            return Promise.reject(new Error(\"Cannot start a HubConnection that is not in the 'Disconnected' state.\"));\r\n        }\r\n        this._connectionState = HubConnectionState.Connecting;\r\n        this._logger.log(LogLevel.Debug, \"Starting HubConnection.\");\r\n        try {\r\n            await this._startInternal();\r\n            if (Platform.isBrowser) {\r\n                // Log when the browser freezes the tab so users know why their connection unexpectedly stopped working\r\n                window.document.addEventListener(\"freeze\", this._freezeEventListener);\r\n            }\r\n            this._connectionState = HubConnectionState.Connected;\r\n            this._connectionStarted = true;\r\n            this._logger.log(LogLevel.Debug, \"HubConnection connected successfully.\");\r\n        }\r\n        catch (e) {\r\n            this._connectionState = HubConnectionState.Disconnected;\r\n            this._logger.log(LogLevel.Debug, `HubConnection failed to start successfully because of error '${e}'.`);\r\n            return Promise.reject(e);\r\n        }\r\n    }\r\n    async _startInternal() {\r\n        this._stopDuringStartError = undefined;\r\n        this._receivedHandshakeResponse = false;\r\n        // Set up the promise before any connection is (re)started otherwise it could race with received messages\r\n        const handshakePromise = new Promise((resolve, reject) => {\r\n            this._handshakeResolver = resolve;\r\n            this._handshakeRejecter = reject;\r\n        });\r\n        await this.connection.start(this._protocol.transferFormat);\r\n        try {\r\n            let version = this._protocol.version;\r\n            if (!this.connection.features.reconnect) {\r\n                // Stateful Reconnect starts with HubProtocol version 2, newer clients connecting to older servers will fail to connect due to\r\n                // the handshake only supporting version 1, so we will try to send version 1 during the handshake to keep old servers working.\r\n                version = 1;\r\n            }\r\n            const handshakeRequest = {\r\n                protocol: this._protocol.name,\r\n                version,\r\n            };\r\n            this._logger.log(LogLevel.Debug, \"Sending handshake request.\");\r\n            await this._sendMessage(this._handshakeProtocol.writeHandshakeRequest(handshakeRequest));\r\n            this._logger.log(LogLevel.Information, `Using HubProtocol '${this._protocol.name}'.`);\r\n            // defensively cleanup timeout in case we receive a message from the server before we finish start\r\n            this._cleanupTimeout();\r\n            this._resetTimeoutPeriod();\r\n            this._resetKeepAliveInterval();\r\n            await handshakePromise;\r\n            // It's important to check the stopDuringStartError instead of just relying on the handshakePromise\r\n            // being rejected on close, because this continuation can run after both the handshake completed successfully\r\n            // and the connection was closed.\r\n            if (this._stopDuringStartError) {\r\n                // It's important to throw instead of returning a rejected promise, because we don't want to allow any state\r\n                // transitions to occur between now and the calling code observing the exceptions. Returning a rejected promise\r\n                // will cause the calling continuation to get scheduled to run later.\r\n                // eslint-disable-next-line @typescript-eslint/no-throw-literal\r\n                throw this._stopDuringStartError;\r\n            }\r\n            const useStatefulReconnect = this.connection.features.reconnect || false;\r\n            if (useStatefulReconnect) {\r\n                this._messageBuffer = new MessageBuffer(this._protocol, this.connection, this._statefulReconnectBufferSize);\r\n                this.connection.features.disconnected = this._messageBuffer._disconnected.bind(this._messageBuffer);\r\n                this.connection.features.resend = () => {\r\n                    if (this._messageBuffer) {\r\n                        return this._messageBuffer._resend();\r\n                    }\r\n                };\r\n            }\r\n            if (!this.connection.features.inherentKeepAlive) {\r\n                await this._sendMessage(this._cachedPingMessage);\r\n            }\r\n        }\r\n        catch (e) {\r\n            this._logger.log(LogLevel.Debug, `Hub handshake failed with error '${e}' during start(). Stopping HubConnection.`);\r\n            this._cleanupTimeout();\r\n            this._cleanupPingTimer();\r\n            // HttpConnection.stop() should not complete until after the onclose callback is invoked.\r\n            // This will transition the HubConnection to the disconnected state before HttpConnection.stop() completes.\r\n            await this.connection.stop(e);\r\n            throw e;\r\n        }\r\n    }\r\n    /** Stops the connection.\r\n     *\r\n     * @returns {Promise<void>} A Promise that resolves when the connection has been successfully terminated, or rejects with an error.\r\n     */\r\n    async stop() {\r\n        // Capture the start promise before the connection might be restarted in an onclose callback.\r\n        const startPromise = this._startPromise;\r\n        this.connection.features.reconnect = false;\r\n        this._stopPromise = this._stopInternal();\r\n        await this._stopPromise;\r\n        try {\r\n            // Awaiting undefined continues immediately\r\n            await startPromise;\r\n        }\r\n        catch (e) {\r\n            // This exception is returned to the user as a rejected Promise from the start method.\r\n        }\r\n    }\r\n    _stopInternal(error) {\r\n        if (this._connectionState === HubConnectionState.Disconnected) {\r\n            this._logger.log(LogLevel.Debug, `Call to HubConnection.stop(${error}) ignored because it is already in the disconnected state.`);\r\n            return Promise.resolve();\r\n        }\r\n        if (this._connectionState === HubConnectionState.Disconnecting) {\r\n            this._logger.log(LogLevel.Debug, `Call to HttpConnection.stop(${error}) ignored because the connection is already in the disconnecting state.`);\r\n            return this._stopPromise;\r\n        }\r\n        const state = this._connectionState;\r\n        this._connectionState = HubConnectionState.Disconnecting;\r\n        this._logger.log(LogLevel.Debug, \"Stopping HubConnection.\");\r\n        if (this._reconnectDelayHandle) {\r\n            // We're in a reconnect delay which means the underlying connection is currently already stopped.\r\n            // Just clear the handle to stop the reconnect loop (which no one is waiting on thankfully) and\r\n            // fire the onclose callbacks.\r\n            this._logger.log(LogLevel.Debug, \"Connection stopped during reconnect delay. Done reconnecting.\");\r\n            clearTimeout(this._reconnectDelayHandle);\r\n            this._reconnectDelayHandle = undefined;\r\n            this._completeClose();\r\n            return Promise.resolve();\r\n        }\r\n        if (state === HubConnectionState.Connected) {\r\n            // eslint-disable-next-line @typescript-eslint/no-floating-promises\r\n            this._sendCloseMessage();\r\n        }\r\n        this._cleanupTimeout();\r\n        this._cleanupPingTimer();\r\n        this._stopDuringStartError = error || new AbortError(\"The connection was stopped before the hub handshake could complete.\");\r\n        // HttpConnection.stop() should not complete until after either HttpConnection.start() fails\r\n        // or the onclose callback is invoked. The onclose callback will transition the HubConnection\r\n        // to the disconnected state if need be before HttpConnection.stop() completes.\r\n        return this.connection.stop(error);\r\n    }\r\n    async _sendCloseMessage() {\r\n        try {\r\n            await this._sendWithProtocol(this._createCloseMessage());\r\n        }\r\n        catch {\r\n            // Ignore, this is a best effort attempt to let the server know the client closed gracefully.\r\n        }\r\n    }\r\n    /** Invokes a streaming hub method on the server using the specified name and arguments.\r\n     *\r\n     * @typeparam T The type of the items returned by the server.\r\n     * @param {string} methodName The name of the server method to invoke.\r\n     * @param {any[]} args The arguments used to invoke the server method.\r\n     * @returns {IStreamResult<T>} An object that yields results from the server as they are received.\r\n     */\r\n    stream(methodName, ...args) {\r\n        const [streams, streamIds] = this._replaceStreamingParams(args);\r\n        const invocationDescriptor = this._createStreamInvocation(methodName, args, streamIds);\r\n        // eslint-disable-next-line prefer-const\r\n        let promiseQueue;\r\n        const subject = new Subject();\r\n        subject.cancelCallback = () => {\r\n            const cancelInvocation = this._createCancelInvocation(invocationDescriptor.invocationId);\r\n            delete this._callbacks[invocationDescriptor.invocationId];\r\n            return promiseQueue.then(() => {\r\n                return this._sendWithProtocol(cancelInvocation);\r\n            });\r\n        };\r\n        this._callbacks[invocationDescriptor.invocationId] = (invocationEvent, error) => {\r\n            if (error) {\r\n                subject.error(error);\r\n                return;\r\n            }\r\n            else if (invocationEvent) {\r\n                // invocationEvent will not be null when an error is not passed to the callback\r\n                if (invocationEvent.type === MessageType.Completion) {\r\n                    if (invocationEvent.error) {\r\n                        subject.error(new Error(invocationEvent.error));\r\n                    }\r\n                    else {\r\n                        subject.complete();\r\n                    }\r\n                }\r\n                else {\r\n                    subject.next((invocationEvent.item));\r\n                }\r\n            }\r\n        };\r\n        promiseQueue = this._sendWithProtocol(invocationDescriptor)\r\n            .catch((e) => {\r\n            subject.error(e);\r\n            delete this._callbacks[invocationDescriptor.invocationId];\r\n        });\r\n        this._launchStreams(streams, promiseQueue);\r\n        return subject;\r\n    }\r\n    _sendMessage(message) {\r\n        this._resetKeepAliveInterval();\r\n        return this.connection.send(message);\r\n    }\r\n    /**\r\n     * Sends a js object to the server.\r\n     * @param message The js object to serialize and send.\r\n     */\r\n    _sendWithProtocol(message) {\r\n        if (this._messageBuffer) {\r\n            return this._messageBuffer._send(message);\r\n        }\r\n        else {\r\n            return this._sendMessage(this._protocol.writeMessage(message));\r\n        }\r\n    }\r\n    /** Invokes a hub method on the server using the specified name and arguments. Does not wait for a response from the receiver.\r\n     *\r\n     * The Promise returned by this method resolves when the client has sent the invocation to the server. The server may still\r\n     * be processing the invocation.\r\n     *\r\n     * @param {string} methodName The name of the server method to invoke.\r\n     * @param {any[]} args The arguments used to invoke the server method.\r\n     * @returns {Promise<void>} A Promise that resolves when the invocation has been successfully sent, or rejects with an error.\r\n     */\r\n    send(methodName, ...args) {\r\n        const [streams, streamIds] = this._replaceStreamingParams(args);\r\n        const sendPromise = this._sendWithProtocol(this._createInvocation(methodName, args, true, streamIds));\r\n        this._launchStreams(streams, sendPromise);\r\n        return sendPromise;\r\n    }\r\n    /** Invokes a hub method on the server using the specified name and arguments.\r\n     *\r\n     * The Promise returned by this method resolves when the server indicates it has finished invoking the method. When the promise\r\n     * resolves, the server has finished invoking the method. If the server method returns a result, it is produced as the result of\r\n     * resolving the Promise.\r\n     *\r\n     * @typeparam T The expected return type.\r\n     * @param {string} methodName The name of the server method to invoke.\r\n     * @param {any[]} args The arguments used to invoke the server method.\r\n     * @returns {Promise<T>} A Promise that resolves with the result of the server method (if any), or rejects with an error.\r\n     */\r\n    invoke(methodName, ...args) {\r\n        const [streams, streamIds] = this._replaceStreamingParams(args);\r\n        const invocationDescriptor = this._createInvocation(methodName, args, false, streamIds);\r\n        const p = new Promise((resolve, reject) => {\r\n            // invocationId will always have a value for a non-blocking invocation\r\n            this._callbacks[invocationDescriptor.invocationId] = (invocationEvent, error) => {\r\n                if (error) {\r\n                    reject(error);\r\n                    return;\r\n                }\r\n                else if (invocationEvent) {\r\n                    // invocationEvent will not be null when an error is not passed to the callback\r\n                    if (invocationEvent.type === MessageType.Completion) {\r\n                        if (invocationEvent.error) {\r\n                            reject(new Error(invocationEvent.error));\r\n                        }\r\n                        else {\r\n                            resolve(invocationEvent.result);\r\n                        }\r\n                    }\r\n                    else {\r\n                        reject(new Error(`Unexpected message type: ${invocationEvent.type}`));\r\n                    }\r\n                }\r\n            };\r\n            const promiseQueue = this._sendWithProtocol(invocationDescriptor)\r\n                .catch((e) => {\r\n                reject(e);\r\n                // invocationId will always have a value for a non-blocking invocation\r\n                delete this._callbacks[invocationDescriptor.invocationId];\r\n            });\r\n            this._launchStreams(streams, promiseQueue);\r\n        });\r\n        return p;\r\n    }\r\n    on(methodName, newMethod) {\r\n        if (!methodName || !newMethod) {\r\n            return;\r\n        }\r\n        methodName = methodName.toLowerCase();\r\n        if (!this._methods[methodName]) {\r\n            this._methods[methodName] = [];\r\n        }\r\n        // Preventing adding the same handler multiple times.\r\n        if (this._methods[methodName].indexOf(newMethod) !== -1) {\r\n            return;\r\n        }\r\n        this._methods[methodName].push(newMethod);\r\n    }\r\n    off(methodName, method) {\r\n        if (!methodName) {\r\n            return;\r\n        }\r\n        methodName = methodName.toLowerCase();\r\n        const handlers = this._methods[methodName];\r\n        if (!handlers) {\r\n            return;\r\n        }\r\n        if (method) {\r\n            const removeIdx = handlers.indexOf(method);\r\n            if (removeIdx !== -1) {\r\n                handlers.splice(removeIdx, 1);\r\n                if (handlers.length === 0) {\r\n                    delete this._methods[methodName];\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            delete this._methods[methodName];\r\n        }\r\n    }\r\n    /** Registers a handler that will be invoked when the connection is closed.\r\n     *\r\n     * @param {Function} callback The handler that will be invoked when the connection is closed. Optionally receives a single argument containing the error that caused the connection to close (if any).\r\n     */\r\n    onclose(callback) {\r\n        if (callback) {\r\n            this._closedCallbacks.push(callback);\r\n        }\r\n    }\r\n    /** Registers a handler that will be invoked when the connection starts reconnecting.\r\n     *\r\n     * @param {Function} callback The handler that will be invoked when the connection starts reconnecting. Optionally receives a single argument containing the error that caused the connection to start reconnecting (if any).\r\n     */\r\n    onreconnecting(callback) {\r\n        if (callback) {\r\n            this._reconnectingCallbacks.push(callback);\r\n        }\r\n    }\r\n    /** Registers a handler that will be invoked when the connection successfully reconnects.\r\n     *\r\n     * @param {Function} callback The handler that will be invoked when the connection successfully reconnects.\r\n     */\r\n    onreconnected(callback) {\r\n        if (callback) {\r\n            this._reconnectedCallbacks.push(callback);\r\n        }\r\n    }\r\n    _processIncomingData(data) {\r\n        this._cleanupTimeout();\r\n        if (!this._receivedHandshakeResponse) {\r\n            data = this._processHandshakeResponse(data);\r\n            this._receivedHandshakeResponse = true;\r\n        }\r\n        // Data may have all been read when processing handshake response\r\n        if (data) {\r\n            // Parse the messages\r\n            const messages = this._protocol.parseMessages(data, this._logger);\r\n            for (const message of messages) {\r\n                if (this._messageBuffer && !this._messageBuffer._shouldProcessMessage(message)) {\r\n                    // Don't process the message, we are either waiting for a SequenceMessage or received a duplicate message\r\n                    continue;\r\n                }\r\n                switch (message.type) {\r\n                    case MessageType.Invocation:\r\n                        this._invokeClientMethod(message)\r\n                            .catch((e) => {\r\n                            this._logger.log(LogLevel.Error, `Invoke client method threw error: ${getErrorString(e)}`);\r\n                        });\r\n                        break;\r\n                    case MessageType.StreamItem:\r\n                    case MessageType.Completion: {\r\n                        const callback = this._callbacks[message.invocationId];\r\n                        if (callback) {\r\n                            if (message.type === MessageType.Completion) {\r\n                                delete this._callbacks[message.invocationId];\r\n                            }\r\n                            try {\r\n                                callback(message);\r\n                            }\r\n                            catch (e) {\r\n                                this._logger.log(LogLevel.Error, `Stream callback threw error: ${getErrorString(e)}`);\r\n                            }\r\n                        }\r\n                        break;\r\n                    }\r\n                    case MessageType.Ping:\r\n                        // Don't care about pings\r\n                        break;\r\n                    case MessageType.Close: {\r\n                        this._logger.log(LogLevel.Information, \"Close message received from server.\");\r\n                        const error = message.error ? new Error(\"Server returned an error on close: \" + message.error) : undefined;\r\n                        if (message.allowReconnect === true) {\r\n                            // It feels wrong not to await connection.stop() here, but processIncomingData is called as part of an onreceive callback which is not async,\r\n                            // this is already the behavior for serverTimeout(), and HttpConnection.Stop() should catch and log all possible exceptions.\r\n                            // eslint-disable-next-line @typescript-eslint/no-floating-promises\r\n                            this.connection.stop(error);\r\n                        }\r\n                        else {\r\n                            // We cannot await stopInternal() here, but subsequent calls to stop() will await this if stopInternal() is still ongoing.\r\n                            this._stopPromise = this._stopInternal(error);\r\n                        }\r\n                        break;\r\n                    }\r\n                    case MessageType.Ack:\r\n                        if (this._messageBuffer) {\r\n                            this._messageBuffer._ack(message);\r\n                        }\r\n                        break;\r\n                    case MessageType.Sequence:\r\n                        if (this._messageBuffer) {\r\n                            this._messageBuffer._resetSequence(message);\r\n                        }\r\n                        break;\r\n                    default:\r\n                        this._logger.log(LogLevel.Warning, `Invalid message type: ${message.type}.`);\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n        this._resetTimeoutPeriod();\r\n    }\r\n    _processHandshakeResponse(data) {\r\n        let responseMessage;\r\n        let remainingData;\r\n        try {\r\n            [remainingData, responseMessage] = this._handshakeProtocol.parseHandshakeResponse(data);\r\n        }\r\n        catch (e) {\r\n            const message = \"Error parsing handshake response: \" + e;\r\n            this._logger.log(LogLevel.Error, message);\r\n            const error = new Error(message);\r\n            this._handshakeRejecter(error);\r\n            throw error;\r\n        }\r\n        if (responseMessage.error) {\r\n            const message = \"Server returned handshake error: \" + responseMessage.error;\r\n            this._logger.log(LogLevel.Error, message);\r\n            const error = new Error(message);\r\n            this._handshakeRejecter(error);\r\n            throw error;\r\n        }\r\n        else {\r\n            this._logger.log(LogLevel.Debug, \"Server handshake complete.\");\r\n        }\r\n        this._handshakeResolver();\r\n        return remainingData;\r\n    }\r\n    _resetKeepAliveInterval() {\r\n        if (this.connection.features.inherentKeepAlive) {\r\n            return;\r\n        }\r\n        // Set the time we want the next keep alive to be sent\r\n        // Timer will be setup on next message receive\r\n        this._nextKeepAlive = new Date().getTime() + this.keepAliveIntervalInMilliseconds;\r\n        this._cleanupPingTimer();\r\n    }\r\n    _resetTimeoutPeriod() {\r\n        if (!this.connection.features || !this.connection.features.inherentKeepAlive) {\r\n            // Set the timeout timer\r\n            this._timeoutHandle = setTimeout(() => this.serverTimeout(), this.serverTimeoutInMilliseconds);\r\n            // Set keepAlive timer if there isn't one\r\n            if (this._pingServerHandle === undefined) {\r\n                let nextPing = this._nextKeepAlive - new Date().getTime();\r\n                if (nextPing < 0) {\r\n                    nextPing = 0;\r\n                }\r\n                // The timer needs to be set from a networking callback to avoid Chrome timer throttling from causing timers to run once a minute\r\n                this._pingServerHandle = setTimeout(async () => {\r\n                    if (this._connectionState === HubConnectionState.Connected) {\r\n                        try {\r\n                            await this._sendMessage(this._cachedPingMessage);\r\n                        }\r\n                        catch {\r\n                            // We don't care about the error. It should be seen elsewhere in the client.\r\n                            // The connection is probably in a bad or closed state now, cleanup the timer so it stops triggering\r\n                            this._cleanupPingTimer();\r\n                        }\r\n                    }\r\n                }, nextPing);\r\n            }\r\n        }\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/naming-convention\r\n    serverTimeout() {\r\n        // The server hasn't talked to us in a while. It doesn't like us anymore ... :(\r\n        // Terminate the connection, but we don't need to wait on the promise. This could trigger reconnecting.\r\n        // eslint-disable-next-line @typescript-eslint/no-floating-promises\r\n        this.connection.stop(new Error(\"Server timeout elapsed without receiving a message from the server.\"));\r\n    }\r\n    async _invokeClientMethod(invocationMessage) {\r\n        const methodName = invocationMessage.target.toLowerCase();\r\n        const methods = this._methods[methodName];\r\n        if (!methods) {\r\n            this._logger.log(LogLevel.Warning, `No client method with the name '${methodName}' found.`);\r\n            // No handlers provided by client but the server is expecting a response still, so we send an error\r\n            if (invocationMessage.invocationId) {\r\n                this._logger.log(LogLevel.Warning, `No result given for '${methodName}' method and invocation ID '${invocationMessage.invocationId}'.`);\r\n                await this._sendWithProtocol(this._createCompletionMessage(invocationMessage.invocationId, \"Client didn't provide a result.\", null));\r\n            }\r\n            return;\r\n        }\r\n        // Avoid issues with handlers removing themselves thus modifying the list while iterating through it\r\n        const methodsCopy = methods.slice();\r\n        // Server expects a response\r\n        const expectsResponse = invocationMessage.invocationId ? true : false;\r\n        // We preserve the last result or exception but still call all handlers\r\n        let res;\r\n        let exception;\r\n        let completionMessage;\r\n        for (const m of methodsCopy) {\r\n            try {\r\n                const prevRes = res;\r\n                res = await m.apply(this, invocationMessage.arguments);\r\n                if (expectsResponse && res && prevRes) {\r\n                    this._logger.log(LogLevel.Error, `Multiple results provided for '${methodName}'. Sending error to server.`);\r\n                    completionMessage = this._createCompletionMessage(invocationMessage.invocationId, `Client provided multiple results.`, null);\r\n                }\r\n                // Ignore exception if we got a result after, the exception will be logged\r\n                exception = undefined;\r\n            }\r\n            catch (e) {\r\n                exception = e;\r\n                this._logger.log(LogLevel.Error, `A callback for the method '${methodName}' threw error '${e}'.`);\r\n            }\r\n        }\r\n        if (completionMessage) {\r\n            await this._sendWithProtocol(completionMessage);\r\n        }\r\n        else if (expectsResponse) {\r\n            // If there is an exception that means either no result was given or a handler after a result threw\r\n            if (exception) {\r\n                completionMessage = this._createCompletionMessage(invocationMessage.invocationId, `${exception}`, null);\r\n            }\r\n            else if (res !== undefined) {\r\n                completionMessage = this._createCompletionMessage(invocationMessage.invocationId, null, res);\r\n            }\r\n            else {\r\n                this._logger.log(LogLevel.Warning, `No result given for '${methodName}' method and invocation ID '${invocationMessage.invocationId}'.`);\r\n                // Client didn't provide a result or throw from a handler, server expects a response so we send an error\r\n                completionMessage = this._createCompletionMessage(invocationMessage.invocationId, \"Client didn't provide a result.\", null);\r\n            }\r\n            await this._sendWithProtocol(completionMessage);\r\n        }\r\n        else {\r\n            if (res) {\r\n                this._logger.log(LogLevel.Error, `Result given for '${methodName}' method but server is not expecting a result.`);\r\n            }\r\n        }\r\n    }\r\n    _connectionClosed(error) {\r\n        this._logger.log(LogLevel.Debug, `HubConnection.connectionClosed(${error}) called while in state ${this._connectionState}.`);\r\n        // Triggering this.handshakeRejecter is insufficient because it could already be resolved without the continuation having run yet.\r\n        this._stopDuringStartError = this._stopDuringStartError || error || new AbortError(\"The underlying connection was closed before the hub handshake could complete.\");\r\n        // If the handshake is in progress, start will be waiting for the handshake promise, so we complete it.\r\n        // If it has already completed, this should just noop.\r\n        if (this._handshakeResolver) {\r\n            this._handshakeResolver();\r\n        }\r\n        this._cancelCallbacksWithError(error || new Error(\"Invocation canceled due to the underlying connection being closed.\"));\r\n        this._cleanupTimeout();\r\n        this._cleanupPingTimer();\r\n        if (this._connectionState === HubConnectionState.Disconnecting) {\r\n            this._completeClose(error);\r\n        }\r\n        else if (this._connectionState === HubConnectionState.Connected && this._reconnectPolicy) {\r\n            // eslint-disable-next-line @typescript-eslint/no-floating-promises\r\n            this._reconnect(error);\r\n        }\r\n        else if (this._connectionState === HubConnectionState.Connected) {\r\n            this._completeClose(error);\r\n        }\r\n        // If none of the above if conditions were true were called the HubConnection must be in either:\r\n        // 1. The Connecting state in which case the handshakeResolver will complete it and stopDuringStartError will fail it.\r\n        // 2. The Reconnecting state in which case the handshakeResolver will complete it and stopDuringStartError will fail the current reconnect attempt\r\n        //    and potentially continue the reconnect() loop.\r\n        // 3. The Disconnected state in which case we're already done.\r\n    }\r\n    _completeClose(error) {\r\n        if (this._connectionStarted) {\r\n            this._connectionState = HubConnectionState.Disconnected;\r\n            this._connectionStarted = false;\r\n            if (this._messageBuffer) {\r\n                this._messageBuffer._dispose(error !== null && error !== void 0 ? error : new Error(\"Connection closed.\"));\r\n                this._messageBuffer = undefined;\r\n            }\r\n            if (Platform.isBrowser) {\r\n                window.document.removeEventListener(\"freeze\", this._freezeEventListener);\r\n            }\r\n            try {\r\n                this._closedCallbacks.forEach((c) => c.apply(this, [error]));\r\n            }\r\n            catch (e) {\r\n                this._logger.log(LogLevel.Error, `An onclose callback called with error '${error}' threw error '${e}'.`);\r\n            }\r\n        }\r\n    }\r\n    async _reconnect(error) {\r\n        const reconnectStartTime = Date.now();\r\n        let previousReconnectAttempts = 0;\r\n        let retryError = error !== undefined ? error : new Error(\"Attempting to reconnect due to a unknown error.\");\r\n        let nextRetryDelay = this._getNextRetryDelay(previousReconnectAttempts++, 0, retryError);\r\n        if (nextRetryDelay === null) {\r\n            this._logger.log(LogLevel.Debug, \"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt.\");\r\n            this._completeClose(error);\r\n            return;\r\n        }\r\n        this._connectionState = HubConnectionState.Reconnecting;\r\n        if (error) {\r\n            this._logger.log(LogLevel.Information, `Connection reconnecting because of error '${error}'.`);\r\n        }\r\n        else {\r\n            this._logger.log(LogLevel.Information, \"Connection reconnecting.\");\r\n        }\r\n        if (this._reconnectingCallbacks.length !== 0) {\r\n            try {\r\n                this._reconnectingCallbacks.forEach((c) => c.apply(this, [error]));\r\n            }\r\n            catch (e) {\r\n                this._logger.log(LogLevel.Error, `An onreconnecting callback called with error '${error}' threw error '${e}'.`);\r\n            }\r\n            // Exit early if an onreconnecting callback called connection.stop().\r\n            if (this._connectionState !== HubConnectionState.Reconnecting) {\r\n                this._logger.log(LogLevel.Debug, \"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.\");\r\n                return;\r\n            }\r\n        }\r\n        while (nextRetryDelay !== null) {\r\n            this._logger.log(LogLevel.Information, `Reconnect attempt number ${previousReconnectAttempts} will start in ${nextRetryDelay} ms.`);\r\n            await new Promise((resolve) => {\r\n                this._reconnectDelayHandle = setTimeout(resolve, nextRetryDelay);\r\n            });\r\n            this._reconnectDelayHandle = undefined;\r\n            if (this._connectionState !== HubConnectionState.Reconnecting) {\r\n                this._logger.log(LogLevel.Debug, \"Connection left the reconnecting state during reconnect delay. Done reconnecting.\");\r\n                return;\r\n            }\r\n            try {\r\n                await this._startInternal();\r\n                this._connectionState = HubConnectionState.Connected;\r\n                this._logger.log(LogLevel.Information, \"HubConnection reconnected successfully.\");\r\n                if (this._reconnectedCallbacks.length !== 0) {\r\n                    try {\r\n                        this._reconnectedCallbacks.forEach((c) => c.apply(this, [this.connection.connectionId]));\r\n                    }\r\n                    catch (e) {\r\n                        this._logger.log(LogLevel.Error, `An onreconnected callback called with connectionId '${this.connection.connectionId}; threw error '${e}'.`);\r\n                    }\r\n                }\r\n                return;\r\n            }\r\n            catch (e) {\r\n                this._logger.log(LogLevel.Information, `Reconnect attempt failed because of error '${e}'.`);\r\n                if (this._connectionState !== HubConnectionState.Reconnecting) {\r\n                    this._logger.log(LogLevel.Debug, `Connection moved to the '${this._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`);\r\n                    // The TypeScript compiler thinks that connectionState must be Connected here. The TypeScript compiler is wrong.\r\n                    if (this._connectionState === HubConnectionState.Disconnecting) {\r\n                        this._completeClose();\r\n                    }\r\n                    return;\r\n                }\r\n                retryError = e instanceof Error ? e : new Error(e.toString());\r\n                nextRetryDelay = this._getNextRetryDelay(previousReconnectAttempts++, Date.now() - reconnectStartTime, retryError);\r\n            }\r\n        }\r\n        this._logger.log(LogLevel.Information, `Reconnect retries have been exhausted after ${Date.now() - reconnectStartTime} ms and ${previousReconnectAttempts} failed attempts. Connection disconnecting.`);\r\n        this._completeClose();\r\n    }\r\n    _getNextRetryDelay(previousRetryCount, elapsedMilliseconds, retryReason) {\r\n        try {\r\n            return this._reconnectPolicy.nextRetryDelayInMilliseconds({\r\n                elapsedMilliseconds,\r\n                previousRetryCount,\r\n                retryReason,\r\n            });\r\n        }\r\n        catch (e) {\r\n            this._logger.log(LogLevel.Error, `IRetryPolicy.nextRetryDelayInMilliseconds(${previousRetryCount}, ${elapsedMilliseconds}) threw error '${e}'.`);\r\n            return null;\r\n        }\r\n    }\r\n    _cancelCallbacksWithError(error) {\r\n        const callbacks = this._callbacks;\r\n        this._callbacks = {};\r\n        Object.keys(callbacks)\r\n            .forEach((key) => {\r\n            const callback = callbacks[key];\r\n            try {\r\n                callback(null, error);\r\n            }\r\n            catch (e) {\r\n                this._logger.log(LogLevel.Error, `Stream 'error' callback called with '${error}' threw error: ${getErrorString(e)}`);\r\n            }\r\n        });\r\n    }\r\n    _cleanupPingTimer() {\r\n        if (this._pingServerHandle) {\r\n            clearTimeout(this._pingServerHandle);\r\n            this._pingServerHandle = undefined;\r\n        }\r\n    }\r\n    _cleanupTimeout() {\r\n        if (this._timeoutHandle) {\r\n            clearTimeout(this._timeoutHandle);\r\n        }\r\n    }\r\n    _createInvocation(methodName, args, nonblocking, streamIds) {\r\n        if (nonblocking) {\r\n            if (streamIds.length !== 0) {\r\n                return {\r\n                    target: methodName,\r\n                    arguments: args,\r\n                    streamIds,\r\n                    type: MessageType.Invocation,\r\n                };\r\n            }\r\n            else {\r\n                return {\r\n                    target: methodName,\r\n                    arguments: args,\r\n                    type: MessageType.Invocation,\r\n                };\r\n            }\r\n        }\r\n        else {\r\n            const invocationId = this._invocationId;\r\n            this._invocationId++;\r\n            if (streamIds.length !== 0) {\r\n                return {\r\n                    target: methodName,\r\n                    arguments: args,\r\n                    invocationId: invocationId.toString(),\r\n                    streamIds,\r\n                    type: MessageType.Invocation,\r\n                };\r\n            }\r\n            else {\r\n                return {\r\n                    target: methodName,\r\n                    arguments: args,\r\n                    invocationId: invocationId.toString(),\r\n                    type: MessageType.Invocation,\r\n                };\r\n            }\r\n        }\r\n    }\r\n    _launchStreams(streams, promiseQueue) {\r\n        if (streams.length === 0) {\r\n            return;\r\n        }\r\n        // Synchronize stream data so they arrive in-order on the server\r\n        if (!promiseQueue) {\r\n            promiseQueue = Promise.resolve();\r\n        }\r\n        // We want to iterate over the keys, since the keys are the stream ids\r\n        // eslint-disable-next-line guard-for-in\r\n        for (const streamId in streams) {\r\n            streams[streamId].subscribe({\r\n                complete: () => {\r\n                    promiseQueue = promiseQueue.then(() => this._sendWithProtocol(this._createCompletionMessage(streamId)));\r\n                },\r\n                error: (err) => {\r\n                    let message;\r\n                    if (err instanceof Error) {\r\n                        message = err.message;\r\n                    }\r\n                    else if (err && err.toString) {\r\n                        message = err.toString();\r\n                    }\r\n                    else {\r\n                        message = \"Unknown error\";\r\n                    }\r\n                    promiseQueue = promiseQueue.then(() => this._sendWithProtocol(this._createCompletionMessage(streamId, message)));\r\n                },\r\n                next: (item) => {\r\n                    promiseQueue = promiseQueue.then(() => this._sendWithProtocol(this._createStreamItemMessage(streamId, item)));\r\n                },\r\n            });\r\n        }\r\n    }\r\n    _replaceStreamingParams(args) {\r\n        const streams = [];\r\n        const streamIds = [];\r\n        for (let i = 0; i < args.length; i++) {\r\n            const argument = args[i];\r\n            if (this._isObservable(argument)) {\r\n                const streamId = this._invocationId;\r\n                this._invocationId++;\r\n                // Store the stream for later use\r\n                streams[streamId] = argument;\r\n                streamIds.push(streamId.toString());\r\n                // remove stream from args\r\n                args.splice(i, 1);\r\n            }\r\n        }\r\n        return [streams, streamIds];\r\n    }\r\n    _isObservable(arg) {\r\n        // This allows other stream implementations to just work (like rxjs)\r\n        return arg && arg.subscribe && typeof arg.subscribe === \"function\";\r\n    }\r\n    _createStreamInvocation(methodName, args, streamIds) {\r\n        const invocationId = this._invocationId;\r\n        this._invocationId++;\r\n        if (streamIds.length !== 0) {\r\n            return {\r\n                target: methodName,\r\n                arguments: args,\r\n                invocationId: invocationId.toString(),\r\n                streamIds,\r\n                type: MessageType.StreamInvocation,\r\n            };\r\n        }\r\n        else {\r\n            return {\r\n                target: methodName,\r\n                arguments: args,\r\n                invocationId: invocationId.toString(),\r\n                type: MessageType.StreamInvocation,\r\n            };\r\n        }\r\n    }\r\n    _createCancelInvocation(id) {\r\n        return {\r\n            invocationId: id,\r\n            type: MessageType.CancelInvocation,\r\n        };\r\n    }\r\n    _createStreamItemMessage(id, item) {\r\n        return {\r\n            invocationId: id,\r\n            item,\r\n            type: MessageType.StreamItem,\r\n        };\r\n    }\r\n    _createCompletionMessage(id, error, result) {\r\n        if (error) {\r\n            return {\r\n                error,\r\n                invocationId: id,\r\n                type: MessageType.Completion,\r\n            };\r\n        }\r\n        return {\r\n            invocationId: id,\r\n            result,\r\n            type: MessageType.Completion,\r\n        };\r\n    }\r\n    _createCloseMessage() {\r\n        return { type: MessageType.Close };\r\n    }\r\n}\r\n//# sourceMappingURL=HubConnection.js.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\nimport { SubjectSubscription } from \"./Utils\";\r\n/** Stream implementation to stream items to the server. */\r\nexport class Subject {\r\n    constructor() {\r\n        this.observers = [];\r\n    }\r\n    next(item) {\r\n        for (const observer of this.observers) {\r\n            observer.next(item);\r\n        }\r\n    }\r\n    error(err) {\r\n        for (const observer of this.observers) {\r\n            if (observer.error) {\r\n                observer.error(err);\r\n            }\r\n        }\r\n    }\r\n    complete() {\r\n        for (const observer of this.observers) {\r\n            if (observer.complete) {\r\n                observer.complete();\r\n            }\r\n        }\r\n    }\r\n    subscribe(observer) {\r\n        this.observers.push(observer);\r\n        return new SubjectSubscription(this, observer);\r\n    }\r\n}\r\n//# sourceMappingURL=Subject.js.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\nimport { MessageType } from \"./IHubProtocol\";\r\nimport { isArrayBuffer } from \"./Utils\";\r\n/** @private */\r\nexport class MessageBuffer {\r\n    constructor(protocol, connection, bufferSize) {\r\n        this._bufferSize = 100000;\r\n        this._messages = [];\r\n        this._totalMessageCount = 0;\r\n        this._waitForSequenceMessage = false;\r\n        // Message IDs start at 1 and always increment by 1\r\n        this._nextReceivingSequenceId = 1;\r\n        this._latestReceivedSequenceId = 0;\r\n        this._bufferedByteCount = 0;\r\n        this._reconnectInProgress = false;\r\n        this._protocol = protocol;\r\n        this._connection = connection;\r\n        this._bufferSize = bufferSize;\r\n    }\r\n    async _send(message) {\r\n        const serializedMessage = this._protocol.writeMessage(message);\r\n        let backpressurePromise = Promise.resolve();\r\n        // Only count invocation messages. Acks, pings, etc. don't need to be resent on reconnect\r\n        if (this._isInvocationMessage(message)) {\r\n            this._totalMessageCount++;\r\n            let backpressurePromiseResolver = () => { };\r\n            let backpressurePromiseRejector = () => { };\r\n            if (isArrayBuffer(serializedMessage)) {\r\n                this._bufferedByteCount += serializedMessage.byteLength;\r\n            }\r\n            else {\r\n                this._bufferedByteCount += serializedMessage.length;\r\n            }\r\n            if (this._bufferedByteCount >= this._bufferSize) {\r\n                backpressurePromise = new Promise((resolve, reject) => {\r\n                    backpressurePromiseResolver = resolve;\r\n                    backpressurePromiseRejector = reject;\r\n                });\r\n            }\r\n            this._messages.push(new BufferedItem(serializedMessage, this._totalMessageCount, backpressurePromiseResolver, backpressurePromiseRejector));\r\n        }\r\n        try {\r\n            // If this is set it means we are reconnecting or resending\r\n            // We don't want to send on a disconnected connection\r\n            // And we don't want to send if resend is running since that would mean sending\r\n            // this message twice\r\n            if (!this._reconnectInProgress) {\r\n                await this._connection.send(serializedMessage);\r\n            }\r\n        }\r\n        catch {\r\n            this._disconnected();\r\n        }\r\n        await backpressurePromise;\r\n    }\r\n    _ack(ackMessage) {\r\n        let newestAckedMessage = -1;\r\n        // Find index of newest message being acked\r\n        for (let index = 0; index < this._messages.length; index++) {\r\n            const element = this._messages[index];\r\n            if (element._id <= ackMessage.sequenceId) {\r\n                newestAckedMessage = index;\r\n                if (isArrayBuffer(element._message)) {\r\n                    this._bufferedByteCount -= element._message.byteLength;\r\n                }\r\n                else {\r\n                    this._bufferedByteCount -= element._message.length;\r\n                }\r\n                // resolve items that have already been sent and acked\r\n                element._resolver();\r\n            }\r\n            else if (this._bufferedByteCount < this._bufferSize) {\r\n                // resolve items that now fall under the buffer limit but haven't been acked\r\n                element._resolver();\r\n            }\r\n            else {\r\n                break;\r\n            }\r\n        }\r\n        if (newestAckedMessage !== -1) {\r\n            // We're removing everything including the message pointed to, so add 1\r\n            this._messages = this._messages.slice(newestAckedMessage + 1);\r\n        }\r\n    }\r\n    _shouldProcessMessage(message) {\r\n        if (this._waitForSequenceMessage) {\r\n            if (message.type !== MessageType.Sequence) {\r\n                return false;\r\n            }\r\n            else {\r\n                this._waitForSequenceMessage = false;\r\n                return true;\r\n            }\r\n        }\r\n        // No special processing for acks, pings, etc.\r\n        if (!this._isInvocationMessage(message)) {\r\n            return true;\r\n        }\r\n        const currentId = this._nextReceivingSequenceId;\r\n        this._nextReceivingSequenceId++;\r\n        if (currentId <= this._latestReceivedSequenceId) {\r\n            if (currentId === this._latestReceivedSequenceId) {\r\n                // Should only hit this if we just reconnected and the server is sending\r\n                // Messages it has buffered, which would mean it hasn't seen an Ack for these messages\r\n                this._ackTimer();\r\n            }\r\n            // Ignore, this is a duplicate message\r\n            return false;\r\n        }\r\n        this._latestReceivedSequenceId = currentId;\r\n        // Only start the timer for sending an Ack message when we have a message to ack. This also conveniently solves\r\n        // timer throttling by not having a recursive timer, and by starting the timer via a network call (recv)\r\n        this._ackTimer();\r\n        return true;\r\n    }\r\n    _resetSequence(message) {\r\n        if (message.sequenceId > this._nextReceivingSequenceId) {\r\n            // eslint-disable-next-line @typescript-eslint/no-floating-promises\r\n            this._connection.stop(new Error(\"Sequence ID greater than amount of messages we've received.\"));\r\n            return;\r\n        }\r\n        this._nextReceivingSequenceId = message.sequenceId;\r\n    }\r\n    _disconnected() {\r\n        this._reconnectInProgress = true;\r\n        this._waitForSequenceMessage = true;\r\n    }\r\n    async _resend() {\r\n        const sequenceId = this._messages.length !== 0\r\n            ? this._messages[0]._id\r\n            : this._totalMessageCount + 1;\r\n        await this._connection.send(this._protocol.writeMessage({ type: MessageType.Sequence, sequenceId }));\r\n        // Get a local variable to the _messages, just in case messages are acked while resending\r\n        // Which would slice the _messages array (which creates a new copy)\r\n        const messages = this._messages;\r\n        for (const element of messages) {\r\n            await this._connection.send(element._message);\r\n        }\r\n        this._reconnectInProgress = false;\r\n    }\r\n    _dispose(error) {\r\n        error !== null && error !== void 0 ? error : (error = new Error(\"Unable to reconnect to server.\"));\r\n        // Unblock backpressure if any\r\n        for (const element of this._messages) {\r\n            element._rejector(error);\r\n        }\r\n    }\r\n    _isInvocationMessage(message) {\r\n        // There is no way to check if something implements an interface.\r\n        // So we individually check the messages in a switch statement.\r\n        // To make sure we don't miss any message types we rely on the compiler\r\n        // seeing the function returns a value and it will do the\r\n        // exhaustive check for us on the switch statement, since we don't use 'case default'\r\n        switch (message.type) {\r\n            case MessageType.Invocation:\r\n            case MessageType.StreamItem:\r\n            case MessageType.Completion:\r\n            case MessageType.StreamInvocation:\r\n            case MessageType.CancelInvocation:\r\n                return true;\r\n            case MessageType.Close:\r\n            case MessageType.Sequence:\r\n            case MessageType.Ping:\r\n            case MessageType.Ack:\r\n                return false;\r\n        }\r\n    }\r\n    _ackTimer() {\r\n        if (this._ackTimerHandle === undefined) {\r\n            this._ackTimerHandle = setTimeout(async () => {\r\n                try {\r\n                    if (!this._reconnectInProgress) {\r\n                        await this._connection.send(this._protocol.writeMessage({ type: MessageType.Ack, sequenceId: this._latestReceivedSequenceId }));\r\n                    }\r\n                    // Ignore errors, that means the connection is closed and we don't care about the Ack message anymore.\r\n                }\r\n                catch { }\r\n                clearTimeout(this._ackTimerHandle);\r\n                this._ackTimerHandle = undefined;\r\n                // 1 second delay so we don't spam Ack messages if there are many messages being received at once.\r\n            }, 1000);\r\n        }\r\n    }\r\n}\r\nclass BufferedItem {\r\n    constructor(message, id, resolver, rejector) {\r\n        this._message = message;\r\n        this._id = id;\r\n        this._resolver = resolver;\r\n        this._rejector = rejector;\r\n    }\r\n}\r\n//# sourceMappingURL=MessageBuffer.js.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\n// 0, 2, 10, 30 second delays before reconnect attempts.\r\nconst DEFAULT_RETRY_DELAYS_IN_MILLISECONDS = [0, 2000, 10000, 30000, null];\r\n/** @private */\r\nexport class DefaultReconnectPolicy {\r\n    constructor(retryDelays) {\r\n        this._retryDelays = retryDelays !== undefined ? [...retryDelays, null] : DEFAULT_RETRY_DELAYS_IN_MILLISECONDS;\r\n    }\r\n    nextRetryDelayInMilliseconds(retryContext) {\r\n        return this._retryDelays[retryContext.previousRetryCount];\r\n    }\r\n}\r\n//# sourceMappingURL=DefaultReconnectPolicy.js.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\nexport class HeaderNames {\r\n}\r\nHeaderNames.Authorization = \"Authorization\";\r\nHeaderNames.Cookie = \"Cookie\";\r\n//# sourceMappingURL=HeaderNames.js.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\nimport { HeaderNames } from \"./HeaderNames\";\r\nimport { HttpClient } from \"./HttpClient\";\r\n/** @private */\r\nexport class AccessTokenHttpClient extends HttpClient {\r\n    constructor(innerClient, accessTokenFactory) {\r\n        super();\r\n        this._innerClient = innerClient;\r\n        this._accessTokenFactory = accessTokenFactory;\r\n    }\r\n    async send(request) {\r\n        let allowRetry = true;\r\n        if (this._accessTokenFactory && (!this._accessToken || (request.url && request.url.indexOf(\"/negotiate?\") > 0))) {\r\n            // don't retry if the request is a negotiate or if we just got a potentially new token from the access token factory\r\n            allowRetry = false;\r\n            this._accessToken = await this._accessTokenFactory();\r\n        }\r\n        this._setAuthorizationHeader(request);\r\n        const response = await this._innerClient.send(request);\r\n        if (allowRetry && response.statusCode === 401 && this._accessTokenFactory) {\r\n            this._accessToken = await this._accessTokenFactory();\r\n            this._setAuthorizationHeader(request);\r\n            return await this._innerClient.send(request);\r\n        }\r\n        return response;\r\n    }\r\n    _setAuthorizationHeader(request) {\r\n        if (!request.headers) {\r\n            request.headers = {};\r\n        }\r\n        if (this._accessToken) {\r\n            request.headers[HeaderNames.Authorization] = `Bearer ${this._accessToken}`;\r\n        }\r\n        // don't remove the header if there isn't an access token factory, the user manually added the header in this case\r\n        else if (this._accessTokenFactory) {\r\n            if (request.headers[HeaderNames.Authorization]) {\r\n                delete request.headers[HeaderNames.Authorization];\r\n            }\r\n        }\r\n    }\r\n    getCookieString(url) {\r\n        return this._innerClient.getCookieString(url);\r\n    }\r\n}\r\n//# sourceMappingURL=AccessTokenHttpClient.js.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\n// This will be treated as a bit flag in the future, so we keep it using power-of-two values.\r\n/** Specifies a specific HTTP transport type. */\r\nexport var HttpTransportType;\r\n(function (HttpTransportType) {\r\n    /** Specifies no transport preference. */\r\n    HttpTransportType[HttpTransportType[\"None\"] = 0] = \"None\";\r\n    /** Specifies the WebSockets transport. */\r\n    HttpTransportType[HttpTransportType[\"WebSockets\"] = 1] = \"WebSockets\";\r\n    /** Specifies the Server-Sent Events transport. */\r\n    HttpTransportType[HttpTransportType[\"ServerSentEvents\"] = 2] = \"ServerSentEvents\";\r\n    /** Specifies the Long Polling transport. */\r\n    HttpTransportType[HttpTransportType[\"LongPolling\"] = 4] = \"LongPolling\";\r\n})(HttpTransportType || (HttpTransportType = {}));\r\n/** Specifies the transfer format for a connection. */\r\nexport var TransferFormat;\r\n(function (TransferFormat) {\r\n    /** Specifies that only text data will be transmitted over the connection. */\r\n    TransferFormat[TransferFormat[\"Text\"] = 1] = \"Text\";\r\n    /** Specifies that binary data will be transmitted over the connection. */\r\n    TransferFormat[TransferFormat[\"Binary\"] = 2] = \"Binary\";\r\n})(TransferFormat || (TransferFormat = {}));\r\n//# sourceMappingURL=ITransport.js.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\n// Rough polyfill of https://developer.mozilla.org/en-US/docs/Web/API/AbortController\r\n// We don't actually ever use the API being polyfilled, we always use the polyfill because\r\n// it's a very new API right now.\r\n// Not exported from index.\r\n/** @private */\r\nexport class AbortController {\r\n    constructor() {\r\n        this._isAborted = false;\r\n        this.onabort = null;\r\n    }\r\n    abort() {\r\n        if (!this._isAborted) {\r\n            this._isAborted = true;\r\n            if (this.onabort) {\r\n                this.onabort();\r\n            }\r\n        }\r\n    }\r\n    get signal() {\r\n        return this;\r\n    }\r\n    get aborted() {\r\n        return this._isAborted;\r\n    }\r\n}\r\n//# sourceMappingURL=AbortController.js.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\nimport { AbortController } from \"./AbortController\";\r\nimport { HttpError, TimeoutError } from \"./Errors\";\r\nimport { LogLevel } from \"./ILogger\";\r\nimport { TransferFormat } from \"./ITransport\";\r\nimport { Arg, getDataDetail, getUserAgentHeader, sendMessage } from \"./Utils\";\r\n// Not exported from 'index', this type is internal.\r\n/** @private */\r\nexport class LongPollingTransport {\r\n    // This is an internal type, not exported from 'index' so this is really just internal.\r\n    get pollAborted() {\r\n        return this._pollAbort.aborted;\r\n    }\r\n    constructor(httpClient, logger, options) {\r\n        this._httpClient = httpClient;\r\n        this._logger = logger;\r\n        this._pollAbort = new AbortController();\r\n        this._options = options;\r\n        this._running = false;\r\n        this.onreceive = null;\r\n        this.onclose = null;\r\n    }\r\n    async connect(url, transferFormat) {\r\n        Arg.isRequired(url, \"url\");\r\n        Arg.isRequired(transferFormat, \"transferFormat\");\r\n        Arg.isIn(transferFormat, TransferFormat, \"transferFormat\");\r\n        this._url = url;\r\n        this._logger.log(LogLevel.Trace, \"(LongPolling transport) Connecting.\");\r\n        // Allow binary format on Node and Browsers that support binary content (indicated by the presence of responseType property)\r\n        if (transferFormat === TransferFormat.Binary &&\r\n            (typeof XMLHttpRequest !== \"undefined\" && typeof new XMLHttpRequest().responseType !== \"string\")) {\r\n            throw new Error(\"Binary protocols over XmlHttpRequest not implementing advanced features are not supported.\");\r\n        }\r\n        const [name, value] = getUserAgentHeader();\r\n        const headers = { [name]: value, ...this._options.headers };\r\n        const pollOptions = {\r\n            abortSignal: this._pollAbort.signal,\r\n            headers,\r\n            timeout: 100000,\r\n            withCredentials: this._options.withCredentials,\r\n        };\r\n        if (transferFormat === TransferFormat.Binary) {\r\n            pollOptions.responseType = \"arraybuffer\";\r\n        }\r\n        // Make initial long polling request\r\n        // Server uses first long polling request to finish initializing connection and it returns without data\r\n        const pollUrl = `${url}&_=${Date.now()}`;\r\n        this._logger.log(LogLevel.Trace, `(LongPolling transport) polling: ${pollUrl}.`);\r\n        const response = await this._httpClient.get(pollUrl, pollOptions);\r\n        if (response.statusCode !== 200) {\r\n            this._logger.log(LogLevel.Error, `(LongPolling transport) Unexpected response code: ${response.statusCode}.`);\r\n            // Mark running as false so that the poll immediately ends and runs the close logic\r\n            this._closeError = new HttpError(response.statusText || \"\", response.statusCode);\r\n            this._running = false;\r\n        }\r\n        else {\r\n            this._running = true;\r\n        }\r\n        this._receiving = this._poll(this._url, pollOptions);\r\n    }\r\n    async _poll(url, pollOptions) {\r\n        try {\r\n            while (this._running) {\r\n                try {\r\n                    const pollUrl = `${url}&_=${Date.now()}`;\r\n                    this._logger.log(LogLevel.Trace, `(LongPolling transport) polling: ${pollUrl}.`);\r\n                    const response = await this._httpClient.get(pollUrl, pollOptions);\r\n                    if (response.statusCode === 204) {\r\n                        this._logger.log(LogLevel.Information, \"(LongPolling transport) Poll terminated by server.\");\r\n                        this._running = false;\r\n                    }\r\n                    else if (response.statusCode !== 200) {\r\n                        this._logger.log(LogLevel.Error, `(LongPolling transport) Unexpected response code: ${response.statusCode}.`);\r\n                        // Unexpected status code\r\n                        this._closeError = new HttpError(response.statusText || \"\", response.statusCode);\r\n                        this._running = false;\r\n                    }\r\n                    else {\r\n                        // Process the response\r\n                        if (response.content) {\r\n                            this._logger.log(LogLevel.Trace, `(LongPolling transport) data received. ${getDataDetail(response.content, this._options.logMessageContent)}.`);\r\n                            if (this.onreceive) {\r\n                                this.onreceive(response.content);\r\n                            }\r\n                        }\r\n                        else {\r\n                            // This is another way timeout manifest.\r\n                            this._logger.log(LogLevel.Trace, \"(LongPolling transport) Poll timed out, reissuing.\");\r\n                        }\r\n                    }\r\n                }\r\n                catch (e) {\r\n                    if (!this._running) {\r\n                        // Log but disregard errors that occur after stopping\r\n                        this._logger.log(LogLevel.Trace, `(LongPolling transport) Poll errored after shutdown: ${e.message}`);\r\n                    }\r\n                    else {\r\n                        if (e instanceof TimeoutError) {\r\n                            // Ignore timeouts and reissue the poll.\r\n                            this._logger.log(LogLevel.Trace, \"(LongPolling transport) Poll timed out, reissuing.\");\r\n                        }\r\n                        else {\r\n                            // Close the connection with the error as the result.\r\n                            this._closeError = e;\r\n                            this._running = false;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        finally {\r\n            this._logger.log(LogLevel.Trace, \"(LongPolling transport) Polling complete.\");\r\n            // We will reach here with pollAborted==false when the server returned a response causing the transport to stop.\r\n            // If pollAborted==true then client initiated the stop and the stop method will raise the close event after DELETE is sent.\r\n            if (!this.pollAborted) {\r\n                this._raiseOnClose();\r\n            }\r\n        }\r\n    }\r\n    async send(data) {\r\n        if (!this._running) {\r\n            return Promise.reject(new Error(\"Cannot send until the transport is connected\"));\r\n        }\r\n        return sendMessage(this._logger, \"LongPolling\", this._httpClient, this._url, data, this._options);\r\n    }\r\n    async stop() {\r\n        this._logger.log(LogLevel.Trace, \"(LongPolling transport) Stopping polling.\");\r\n        // Tell receiving loop to stop, abort any current request, and then wait for it to finish\r\n        this._running = false;\r\n        this._pollAbort.abort();\r\n        try {\r\n            await this._receiving;\r\n            // Send DELETE to clean up long polling on the server\r\n            this._logger.log(LogLevel.Trace, `(LongPolling transport) sending DELETE request to ${this._url}.`);\r\n            const headers = {};\r\n            const [name, value] = getUserAgentHeader();\r\n            headers[name] = value;\r\n            const deleteOptions = {\r\n                headers: { ...headers, ...this._options.headers },\r\n                timeout: this._options.timeout,\r\n                withCredentials: this._options.withCredentials,\r\n            };\r\n            let error;\r\n            try {\r\n                await this._httpClient.delete(this._url, deleteOptions);\r\n            }\r\n            catch (err) {\r\n                error = err;\r\n            }\r\n            if (error) {\r\n                if (error instanceof HttpError) {\r\n                    if (error.statusCode === 404) {\r\n                        this._logger.log(LogLevel.Trace, \"(LongPolling transport) A 404 response was returned from sending a DELETE request.\");\r\n                    }\r\n                    else {\r\n                        this._logger.log(LogLevel.Trace, `(LongPolling transport) Error sending a DELETE request: ${error}`);\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                this._logger.log(LogLevel.Trace, \"(LongPolling transport) DELETE request accepted.\");\r\n            }\r\n        }\r\n        finally {\r\n            this._logger.log(LogLevel.Trace, \"(LongPolling transport) Stop finished.\");\r\n            // Raise close event here instead of in polling\r\n            // It needs to happen after the DELETE request is sent\r\n            this._raiseOnClose();\r\n        }\r\n    }\r\n    _raiseOnClose() {\r\n        if (this.onclose) {\r\n            let logMessage = \"(LongPolling transport) Firing onclose event.\";\r\n            if (this._closeError) {\r\n                logMessage += \" Error: \" + this._closeError;\r\n            }\r\n            this._logger.log(LogLevel.Trace, logMessage);\r\n            this.onclose(this._closeError);\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=LongPollingTransport.js.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\nimport { LogLevel } from \"./ILogger\";\r\nimport { TransferFormat } from \"./ITransport\";\r\nimport { Arg, getDataDetail, getUserAgentHeader, Platform, sendMessage } from \"./Utils\";\r\n/** @private */\r\nexport class ServerSentEventsTransport {\r\n    constructor(httpClient, accessToken, logger, options) {\r\n        this._httpClient = httpClient;\r\n        this._accessToken = accessToken;\r\n        this._logger = logger;\r\n        this._options = options;\r\n        this.onreceive = null;\r\n        this.onclose = null;\r\n    }\r\n    async connect(url, transferFormat) {\r\n        Arg.isRequired(url, \"url\");\r\n        Arg.isRequired(transferFormat, \"transferFormat\");\r\n        Arg.isIn(transferFormat, TransferFormat, \"transferFormat\");\r\n        this._logger.log(LogLevel.Trace, \"(SSE transport) Connecting.\");\r\n        // set url before accessTokenFactory because this._url is only for send and we set the auth header instead of the query string for send\r\n        this._url = url;\r\n        if (this._accessToken) {\r\n            url += (url.indexOf(\"?\") < 0 ? \"?\" : \"&\") + `access_token=${encodeURIComponent(this._accessToken)}`;\r\n        }\r\n        return new Promise((resolve, reject) => {\r\n            let opened = false;\r\n            if (transferFormat !== TransferFormat.Text) {\r\n                reject(new Error(\"The Server-Sent Events transport only supports the 'Text' transfer format\"));\r\n                return;\r\n            }\r\n            let eventSource;\r\n            if (Platform.isBrowser || Platform.isWebWorker) {\r\n                eventSource = new this._options.EventSource(url, { withCredentials: this._options.withCredentials });\r\n            }\r\n            else {\r\n                // Non-browser passes cookies via the dictionary\r\n                const cookies = this._httpClient.getCookieString(url);\r\n                const headers = {};\r\n                headers.Cookie = cookies;\r\n                const [name, value] = getUserAgentHeader();\r\n                headers[name] = value;\r\n                eventSource = new this._options.EventSource(url, { withCredentials: this._options.withCredentials, headers: { ...headers, ...this._options.headers } });\r\n            }\r\n            try {\r\n                eventSource.onmessage = (e) => {\r\n                    if (this.onreceive) {\r\n                        try {\r\n                            this._logger.log(LogLevel.Trace, `(SSE transport) data received. ${getDataDetail(e.data, this._options.logMessageContent)}.`);\r\n                            this.onreceive(e.data);\r\n                        }\r\n                        catch (error) {\r\n                            this._close(error);\r\n                            return;\r\n                        }\r\n                    }\r\n                };\r\n                // @ts-ignore: not using event on purpose\r\n                eventSource.onerror = (e) => {\r\n                    // EventSource doesn't give any useful information about server side closes.\r\n                    if (opened) {\r\n                        this._close();\r\n                    }\r\n                    else {\r\n                        reject(new Error(\"EventSource failed to connect. The connection could not be found on the server,\"\r\n                            + \" either the connection ID is not present on the server, or a proxy is refusing/buffering the connection.\"\r\n                            + \" If you have multiple servers check that sticky sessions are enabled.\"));\r\n                    }\r\n                };\r\n                eventSource.onopen = () => {\r\n                    this._logger.log(LogLevel.Information, `SSE connected to ${this._url}`);\r\n                    this._eventSource = eventSource;\r\n                    opened = true;\r\n                    resolve();\r\n                };\r\n            }\r\n            catch (e) {\r\n                reject(e);\r\n                return;\r\n            }\r\n        });\r\n    }\r\n    async send(data) {\r\n        if (!this._eventSource) {\r\n            return Promise.reject(new Error(\"Cannot send until the transport is connected\"));\r\n        }\r\n        return sendMessage(this._logger, \"SSE\", this._httpClient, this._url, data, this._options);\r\n    }\r\n    stop() {\r\n        this._close();\r\n        return Promise.resolve();\r\n    }\r\n    _close(e) {\r\n        if (this._eventSource) {\r\n            this._eventSource.close();\r\n            this._eventSource = undefined;\r\n            if (this.onclose) {\r\n                this.onclose(e);\r\n            }\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=ServerSentEventsTransport.js.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\nimport { HeaderNames } from \"./HeaderNames\";\r\nimport { LogLevel } from \"./ILogger\";\r\nimport { TransferFormat } from \"./ITransport\";\r\nimport { Arg, getDataDetail, getUserAgentHeader, Platform } from \"./Utils\";\r\n/** @private */\r\nexport class WebSocketTransport {\r\n    constructor(httpClient, accessTokenFactory, logger, logMessageContent, webSocketConstructor, headers) {\r\n        this._logger = logger;\r\n        this._accessTokenFactory = accessTokenFactory;\r\n        this._logMessageContent = logMessageContent;\r\n        this._webSocketConstructor = webSocketConstructor;\r\n        this._httpClient = httpClient;\r\n        this.onreceive = null;\r\n        this.onclose = null;\r\n        this._headers = headers;\r\n    }\r\n    async connect(url, transferFormat) {\r\n        Arg.isRequired(url, \"url\");\r\n        Arg.isRequired(transferFormat, \"transferFormat\");\r\n        Arg.isIn(transferFormat, TransferFormat, \"transferFormat\");\r\n        this._logger.log(LogLevel.Trace, \"(WebSockets transport) Connecting.\");\r\n        let token;\r\n        if (this._accessTokenFactory) {\r\n            token = await this._accessTokenFactory();\r\n        }\r\n        return new Promise((resolve, reject) => {\r\n            url = url.replace(/^http/, \"ws\");\r\n            let webSocket;\r\n            const cookies = this._httpClient.getCookieString(url);\r\n            let opened = false;\r\n            if (Platform.isNode || Platform.isReactNative) {\r\n                const headers = {};\r\n                const [name, value] = getUserAgentHeader();\r\n                headers[name] = value;\r\n                if (token) {\r\n                    headers[HeaderNames.Authorization] = `Bearer ${token}`;\r\n                }\r\n                if (cookies) {\r\n                    headers[HeaderNames.Cookie] = cookies;\r\n                }\r\n                // Only pass headers when in non-browser environments\r\n                webSocket = new this._webSocketConstructor(url, undefined, {\r\n                    headers: { ...headers, ...this._headers },\r\n                });\r\n            }\r\n            else {\r\n                if (token) {\r\n                    url += (url.indexOf(\"?\") < 0 ? \"?\" : \"&\") + `access_token=${encodeURIComponent(token)}`;\r\n                }\r\n            }\r\n            if (!webSocket) {\r\n                // Chrome is not happy with passing 'undefined' as protocol\r\n                webSocket = new this._webSocketConstructor(url);\r\n            }\r\n            if (transferFormat === TransferFormat.Binary) {\r\n                webSocket.binaryType = \"arraybuffer\";\r\n            }\r\n            webSocket.onopen = (_event) => {\r\n                this._logger.log(LogLevel.Information, `WebSocket connected to ${url}.`);\r\n                this._webSocket = webSocket;\r\n                opened = true;\r\n                resolve();\r\n            };\r\n            webSocket.onerror = (event) => {\r\n                let error = null;\r\n                // ErrorEvent is a browser only type we need to check if the type exists before using it\r\n                if (typeof ErrorEvent !== \"undefined\" && event instanceof ErrorEvent) {\r\n                    error = event.error;\r\n                }\r\n                else {\r\n                    error = \"There was an error with the transport\";\r\n                }\r\n                this._logger.log(LogLevel.Information, `(WebSockets transport) ${error}.`);\r\n            };\r\n            webSocket.onmessage = (message) => {\r\n                this._logger.log(LogLevel.Trace, `(WebSockets transport) data received. ${getDataDetail(message.data, this._logMessageContent)}.`);\r\n                if (this.onreceive) {\r\n                    try {\r\n                        this.onreceive(message.data);\r\n                    }\r\n                    catch (error) {\r\n                        this._close(error);\r\n                        return;\r\n                    }\r\n                }\r\n            };\r\n            webSocket.onclose = (event) => {\r\n                // Don't call close handler if connection was never established\r\n                // We'll reject the connect call instead\r\n                if (opened) {\r\n                    this._close(event);\r\n                }\r\n                else {\r\n                    let error = null;\r\n                    // ErrorEvent is a browser only type we need to check if the type exists before using it\r\n                    if (typeof ErrorEvent !== \"undefined\" && event instanceof ErrorEvent) {\r\n                        error = event.error;\r\n                    }\r\n                    else {\r\n                        error = \"WebSocket failed to connect. The connection could not be found on the server,\"\r\n                            + \" either the endpoint may not be a SignalR endpoint,\"\r\n                            + \" the connection ID is not present on the server, or there is a proxy blocking WebSockets.\"\r\n                            + \" If you have multiple servers check that sticky sessions are enabled.\";\r\n                    }\r\n                    reject(new Error(error));\r\n                }\r\n            };\r\n        });\r\n    }\r\n    send(data) {\r\n        if (this._webSocket && this._webSocket.readyState === this._webSocketConstructor.OPEN) {\r\n            this._logger.log(LogLevel.Trace, `(WebSockets transport) sending data. ${getDataDetail(data, this._logMessageContent)}.`);\r\n            this._webSocket.send(data);\r\n            return Promise.resolve();\r\n        }\r\n        return Promise.reject(\"WebSocket is not in the OPEN state\");\r\n    }\r\n    stop() {\r\n        if (this._webSocket) {\r\n            // Manually invoke onclose callback inline so we know the HttpConnection was closed properly before returning\r\n            // This also solves an issue where websocket.onclose could take 18+ seconds to trigger during network disconnects\r\n            this._close(undefined);\r\n        }\r\n        return Promise.resolve();\r\n    }\r\n    _close(event) {\r\n        // webSocket will be null if the transport did not start successfully\r\n        if (this._webSocket) {\r\n            // Clear websocket handlers because we are considering the socket closed now\r\n            this._webSocket.onclose = () => { };\r\n            this._webSocket.onmessage = () => { };\r\n            this._webSocket.onerror = () => { };\r\n            this._webSocket.close();\r\n            this._webSocket = undefined;\r\n        }\r\n        this._logger.log(LogLevel.Trace, \"(WebSockets transport) socket closed.\");\r\n        if (this.onclose) {\r\n            if (this._isCloseEvent(event) && (event.wasClean === false || event.code !== 1000)) {\r\n                this.onclose(new Error(`WebSocket closed with status code: ${event.code} (${event.reason || \"no reason given\"}).`));\r\n            }\r\n            else if (event instanceof Error) {\r\n                this.onclose(event);\r\n            }\r\n            else {\r\n                this.onclose();\r\n            }\r\n        }\r\n    }\r\n    _isCloseEvent(event) {\r\n        return event && typeof event.wasClean === \"boolean\" && typeof event.code === \"number\";\r\n    }\r\n}\r\n//# sourceMappingURL=WebSocketTransport.js.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\nimport { AccessTokenHttpClient } from \"./AccessTokenHttpClient\";\r\nimport { DefaultHttpClient } from \"./DefaultHttpClient\";\r\nimport { getEventSource, getWS } from \"./DynamicImports\";\r\nimport { AggregateErrors, DisabledTransportError, FailedToNegotiateWithServerError, FailedToStartTransportError, HttpError, UnsupportedTransportError, AbortError } from \"./Errors\";\r\nimport { LogLevel } from \"./ILogger\";\r\nimport { HttpTransportType, TransferFormat } from \"./ITransport\";\r\nimport { LongPollingTransport } from \"./LongPollingTransport\";\r\nimport { ServerSentEventsTransport } from \"./ServerSentEventsTransport\";\r\nimport { Arg, createLogger, getUserAgentHeader, Platform } from \"./Utils\";\r\nimport { WebSocketTransport } from \"./WebSocketTransport\";\r\nconst MAX_REDIRECTS = 100;\r\n/** @private */\r\nexport class HttpConnection {\r\n    constructor(url, options = {}) {\r\n        this._stopPromiseResolver = () => { };\r\n        this.features = {};\r\n        this._negotiateVersion = 1;\r\n        Arg.isRequired(url, \"url\");\r\n        this._logger = createLogger(options.logger);\r\n        this.baseUrl = this._resolveUrl(url);\r\n        options = options || {};\r\n        options.logMessageContent = options.logMessageContent === undefined ? false : options.logMessageContent;\r\n        if (typeof options.withCredentials === \"boolean\" || options.withCredentials === undefined) {\r\n            options.withCredentials = options.withCredentials === undefined ? true : options.withCredentials;\r\n        }\r\n        else {\r\n            throw new Error(\"withCredentials option was not a 'boolean' or 'undefined' value\");\r\n        }\r\n        options.timeout = options.timeout === undefined ? 100 * 1000 : options.timeout;\r\n        let webSocketModule = null;\r\n        let eventSourceModule = null;\r\n        if (Platform.isNode && typeof require !== \"undefined\") {\r\n            webSocketModule = getWS();\r\n            eventSourceModule = getEventSource();\r\n        }\r\n        if (!Platform.isNode && typeof WebSocket !== \"undefined\" && !options.WebSocket) {\r\n            options.WebSocket = WebSocket;\r\n        }\r\n        else if (Platform.isNode && !options.WebSocket) {\r\n            if (webSocketModule) {\r\n                options.WebSocket = webSocketModule;\r\n            }\r\n        }\r\n        if (!Platform.isNode && typeof EventSource !== \"undefined\" && !options.EventSource) {\r\n            options.EventSource = EventSource;\r\n        }\r\n        else if (Platform.isNode && !options.EventSource) {\r\n            if (typeof eventSourceModule !== \"undefined\") {\r\n                options.EventSource = eventSourceModule;\r\n            }\r\n        }\r\n        this._httpClient = new AccessTokenHttpClient(options.httpClient || new DefaultHttpClient(this._logger), options.accessTokenFactory);\r\n        this._connectionState = \"Disconnected\" /* ConnectionState.Disconnected */;\r\n        this._connectionStarted = false;\r\n        this._options = options;\r\n        this.onreceive = null;\r\n        this.onclose = null;\r\n    }\r\n    async start(transferFormat) {\r\n        transferFormat = transferFormat || TransferFormat.Binary;\r\n        Arg.isIn(transferFormat, TransferFormat, \"transferFormat\");\r\n        this._logger.log(LogLevel.Debug, `Starting connection with transfer format '${TransferFormat[transferFormat]}'.`);\r\n        if (this._connectionState !== \"Disconnected\" /* ConnectionState.Disconnected */) {\r\n            return Promise.reject(new Error(\"Cannot start an HttpConnection that is not in the 'Disconnected' state.\"));\r\n        }\r\n        this._connectionState = \"Connecting\" /* ConnectionState.Connecting */;\r\n        this._startInternalPromise = this._startInternal(transferFormat);\r\n        await this._startInternalPromise;\r\n        // The TypeScript compiler thinks that connectionState must be Connecting here. The TypeScript compiler is wrong.\r\n        if (this._connectionState === \"Disconnecting\" /* ConnectionState.Disconnecting */) {\r\n            // stop() was called and transitioned the client into the Disconnecting state.\r\n            const message = \"Failed to start the HttpConnection before stop() was called.\";\r\n            this._logger.log(LogLevel.Error, message);\r\n            // We cannot await stopPromise inside startInternal since stopInternal awaits the startInternalPromise.\r\n            await this._stopPromise;\r\n            return Promise.reject(new AbortError(message));\r\n        }\r\n        else if (this._connectionState !== \"Connected\" /* ConnectionState.Connected */) {\r\n            // stop() was called and transitioned the client into the Disconnecting state.\r\n            const message = \"HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!\";\r\n            this._logger.log(LogLevel.Error, message);\r\n            return Promise.reject(new AbortError(message));\r\n        }\r\n        this._connectionStarted = true;\r\n    }\r\n    send(data) {\r\n        if (this._connectionState !== \"Connected\" /* ConnectionState.Connected */) {\r\n            return Promise.reject(new Error(\"Cannot send data if the connection is not in the 'Connected' State.\"));\r\n        }\r\n        if (!this._sendQueue) {\r\n            this._sendQueue = new TransportSendQueue(this.transport);\r\n        }\r\n        // Transport will not be null if state is connected\r\n        return this._sendQueue.send(data);\r\n    }\r\n    async stop(error) {\r\n        if (this._connectionState === \"Disconnected\" /* ConnectionState.Disconnected */) {\r\n            this._logger.log(LogLevel.Debug, `Call to HttpConnection.stop(${error}) ignored because the connection is already in the disconnected state.`);\r\n            return Promise.resolve();\r\n        }\r\n        if (this._connectionState === \"Disconnecting\" /* ConnectionState.Disconnecting */) {\r\n            this._logger.log(LogLevel.Debug, `Call to HttpConnection.stop(${error}) ignored because the connection is already in the disconnecting state.`);\r\n            return this._stopPromise;\r\n        }\r\n        this._connectionState = \"Disconnecting\" /* ConnectionState.Disconnecting */;\r\n        this._stopPromise = new Promise((resolve) => {\r\n            // Don't complete stop() until stopConnection() completes.\r\n            this._stopPromiseResolver = resolve;\r\n        });\r\n        // stopInternal should never throw so just observe it.\r\n        await this._stopInternal(error);\r\n        await this._stopPromise;\r\n    }\r\n    async _stopInternal(error) {\r\n        // Set error as soon as possible otherwise there is a race between\r\n        // the transport closing and providing an error and the error from a close message\r\n        // We would prefer the close message error.\r\n        this._stopError = error;\r\n        try {\r\n            await this._startInternalPromise;\r\n        }\r\n        catch (e) {\r\n            // This exception is returned to the user as a rejected Promise from the start method.\r\n        }\r\n        // The transport's onclose will trigger stopConnection which will run our onclose event.\r\n        // The transport should always be set if currently connected. If it wasn't set, it's likely because\r\n        // stop was called during start() and start() failed.\r\n        if (this.transport) {\r\n            try {\r\n                await this.transport.stop();\r\n            }\r\n            catch (e) {\r\n                this._logger.log(LogLevel.Error, `HttpConnection.transport.stop() threw error '${e}'.`);\r\n                this._stopConnection();\r\n            }\r\n            this.transport = undefined;\r\n        }\r\n        else {\r\n            this._logger.log(LogLevel.Debug, \"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.\");\r\n        }\r\n    }\r\n    async _startInternal(transferFormat) {\r\n        // Store the original base url and the access token factory since they may change\r\n        // as part of negotiating\r\n        let url = this.baseUrl;\r\n        this._accessTokenFactory = this._options.accessTokenFactory;\r\n        this._httpClient._accessTokenFactory = this._accessTokenFactory;\r\n        try {\r\n            if (this._options.skipNegotiation) {\r\n                if (this._options.transport === HttpTransportType.WebSockets) {\r\n                    // No need to add a connection ID in this case\r\n                    this.transport = this._constructTransport(HttpTransportType.WebSockets);\r\n                    // We should just call connect directly in this case.\r\n                    // No fallback or negotiate in this case.\r\n                    await this._startTransport(url, transferFormat);\r\n                }\r\n                else {\r\n                    throw new Error(\"Negotiation can only be skipped when using the WebSocket transport directly.\");\r\n                }\r\n            }\r\n            else {\r\n                let negotiateResponse = null;\r\n                let redirects = 0;\r\n                do {\r\n                    negotiateResponse = await this._getNegotiationResponse(url);\r\n                    // the user tries to stop the connection when it is being started\r\n                    if (this._connectionState === \"Disconnecting\" /* ConnectionState.Disconnecting */ || this._connectionState === \"Disconnected\" /* ConnectionState.Disconnected */) {\r\n                        throw new AbortError(\"The connection was stopped during negotiation.\");\r\n                    }\r\n                    if (negotiateResponse.error) {\r\n                        throw new Error(negotiateResponse.error);\r\n                    }\r\n                    if (negotiateResponse.ProtocolVersion) {\r\n                        throw new Error(\"Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.\");\r\n                    }\r\n                    if (negotiateResponse.url) {\r\n                        url = negotiateResponse.url;\r\n                    }\r\n                    if (negotiateResponse.accessToken) {\r\n                        // Replace the current access token factory with one that uses\r\n                        // the returned access token\r\n                        const accessToken = negotiateResponse.accessToken;\r\n                        this._accessTokenFactory = () => accessToken;\r\n                        // set the factory to undefined so the AccessTokenHttpClient won't retry with the same token, since we know it won't change until a connection restart\r\n                        this._httpClient._accessToken = accessToken;\r\n                        this._httpClient._accessTokenFactory = undefined;\r\n                    }\r\n                    redirects++;\r\n                } while (negotiateResponse.url && redirects < MAX_REDIRECTS);\r\n                if (redirects === MAX_REDIRECTS && negotiateResponse.url) {\r\n                    throw new Error(\"Negotiate redirection limit exceeded.\");\r\n                }\r\n                await this._createTransport(url, this._options.transport, negotiateResponse, transferFormat);\r\n            }\r\n            if (this.transport instanceof LongPollingTransport) {\r\n                this.features.inherentKeepAlive = true;\r\n            }\r\n            if (this._connectionState === \"Connecting\" /* ConnectionState.Connecting */) {\r\n                // Ensure the connection transitions to the connected state prior to completing this.startInternalPromise.\r\n                // start() will handle the case when stop was called and startInternal exits still in the disconnecting state.\r\n                this._logger.log(LogLevel.Debug, \"The HttpConnection connected successfully.\");\r\n                this._connectionState = \"Connected\" /* ConnectionState.Connected */;\r\n            }\r\n            // stop() is waiting on us via this.startInternalPromise so keep this.transport around so it can clean up.\r\n            // This is the only case startInternal can exit in neither the connected nor disconnected state because stopConnection()\r\n            // will transition to the disconnected state. start() will wait for the transition using the stopPromise.\r\n        }\r\n        catch (e) {\r\n            this._logger.log(LogLevel.Error, \"Failed to start the connection: \" + e);\r\n            this._connectionState = \"Disconnected\" /* ConnectionState.Disconnected */;\r\n            this.transport = undefined;\r\n            // if start fails, any active calls to stop assume that start will complete the stop promise\r\n            this._stopPromiseResolver();\r\n            return Promise.reject(e);\r\n        }\r\n    }\r\n    async _getNegotiationResponse(url) {\r\n        const headers = {};\r\n        const [name, value] = getUserAgentHeader();\r\n        headers[name] = value;\r\n        const negotiateUrl = this._resolveNegotiateUrl(url);\r\n        this._logger.log(LogLevel.Debug, `Sending negotiation request: ${negotiateUrl}.`);\r\n        try {\r\n            const response = await this._httpClient.post(negotiateUrl, {\r\n                content: \"\",\r\n                headers: { ...headers, ...this._options.headers },\r\n                timeout: this._options.timeout,\r\n                withCredentials: this._options.withCredentials,\r\n            });\r\n            if (response.statusCode !== 200) {\r\n                return Promise.reject(new Error(`Unexpected status code returned from negotiate '${response.statusCode}'`));\r\n            }\r\n            const negotiateResponse = JSON.parse(response.content);\r\n            if (!negotiateResponse.negotiateVersion || negotiateResponse.negotiateVersion < 1) {\r\n                // Negotiate version 0 doesn't use connectionToken\r\n                // So we set it equal to connectionId so all our logic can use connectionToken without being aware of the negotiate version\r\n                negotiateResponse.connectionToken = negotiateResponse.connectionId;\r\n            }\r\n            if (negotiateResponse.useStatefulReconnect && this._options._useStatefulReconnect !== true) {\r\n                return Promise.reject(new FailedToNegotiateWithServerError(\"Client didn't negotiate Stateful Reconnect but the server did.\"));\r\n            }\r\n            return negotiateResponse;\r\n        }\r\n        catch (e) {\r\n            let errorMessage = \"Failed to complete negotiation with the server: \" + e;\r\n            if (e instanceof HttpError) {\r\n                if (e.statusCode === 404) {\r\n                    errorMessage = errorMessage + \" Either this is not a SignalR endpoint or there is a proxy blocking the connection.\";\r\n                }\r\n            }\r\n            this._logger.log(LogLevel.Error, errorMessage);\r\n            return Promise.reject(new FailedToNegotiateWithServerError(errorMessage));\r\n        }\r\n    }\r\n    _createConnectUrl(url, connectionToken) {\r\n        if (!connectionToken) {\r\n            return url;\r\n        }\r\n        return url + (url.indexOf(\"?\") === -1 ? \"?\" : \"&\") + `id=${connectionToken}`;\r\n    }\r\n    async _createTransport(url, requestedTransport, negotiateResponse, requestedTransferFormat) {\r\n        let connectUrl = this._createConnectUrl(url, negotiateResponse.connectionToken);\r\n        if (this._isITransport(requestedTransport)) {\r\n            this._logger.log(LogLevel.Debug, \"Connection was provided an instance of ITransport, using that directly.\");\r\n            this.transport = requestedTransport;\r\n            await this._startTransport(connectUrl, requestedTransferFormat);\r\n            this.connectionId = negotiateResponse.connectionId;\r\n            return;\r\n        }\r\n        const transportExceptions = [];\r\n        const transports = negotiateResponse.availableTransports || [];\r\n        let negotiate = negotiateResponse;\r\n        for (const endpoint of transports) {\r\n            const transportOrError = this._resolveTransportOrError(endpoint, requestedTransport, requestedTransferFormat, (negotiate === null || negotiate === void 0 ? void 0 : negotiate.useStatefulReconnect) === true);\r\n            if (transportOrError instanceof Error) {\r\n                // Store the error and continue, we don't want to cause a re-negotiate in these cases\r\n                transportExceptions.push(`${endpoint.transport} failed:`);\r\n                transportExceptions.push(transportOrError);\r\n            }\r\n            else if (this._isITransport(transportOrError)) {\r\n                this.transport = transportOrError;\r\n                if (!negotiate) {\r\n                    try {\r\n                        negotiate = await this._getNegotiationResponse(url);\r\n                    }\r\n                    catch (ex) {\r\n                        return Promise.reject(ex);\r\n                    }\r\n                    connectUrl = this._createConnectUrl(url, negotiate.connectionToken);\r\n                }\r\n                try {\r\n                    await this._startTransport(connectUrl, requestedTransferFormat);\r\n                    this.connectionId = negotiate.connectionId;\r\n                    return;\r\n                }\r\n                catch (ex) {\r\n                    this._logger.log(LogLevel.Error, `Failed to start the transport '${endpoint.transport}': ${ex}`);\r\n                    negotiate = undefined;\r\n                    transportExceptions.push(new FailedToStartTransportError(`${endpoint.transport} failed: ${ex}`, HttpTransportType[endpoint.transport]));\r\n                    if (this._connectionState !== \"Connecting\" /* ConnectionState.Connecting */) {\r\n                        const message = \"Failed to select transport before stop() was called.\";\r\n                        this._logger.log(LogLevel.Debug, message);\r\n                        return Promise.reject(new AbortError(message));\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (transportExceptions.length > 0) {\r\n            return Promise.reject(new AggregateErrors(`Unable to connect to the server with any of the available transports. ${transportExceptions.join(\" \")}`, transportExceptions));\r\n        }\r\n        return Promise.reject(new Error(\"None of the transports supported by the client are supported by the server.\"));\r\n    }\r\n    _constructTransport(transport) {\r\n        switch (transport) {\r\n            case HttpTransportType.WebSockets:\r\n                if (!this._options.WebSocket) {\r\n                    throw new Error(\"'WebSocket' is not supported in your environment.\");\r\n                }\r\n                return new WebSocketTransport(this._httpClient, this._accessTokenFactory, this._logger, this._options.logMessageContent, this._options.WebSocket, this._options.headers || {});\r\n            case HttpTransportType.ServerSentEvents:\r\n                if (!this._options.EventSource) {\r\n                    throw new Error(\"'EventSource' is not supported in your environment.\");\r\n                }\r\n                return new ServerSentEventsTransport(this._httpClient, this._httpClient._accessToken, this._logger, this._options);\r\n            case HttpTransportType.LongPolling:\r\n                return new LongPollingTransport(this._httpClient, this._logger, this._options);\r\n            default:\r\n                throw new Error(`Unknown transport: ${transport}.`);\r\n        }\r\n    }\r\n    _startTransport(url, transferFormat) {\r\n        this.transport.onreceive = this.onreceive;\r\n        if (this.features.reconnect) {\r\n            this.transport.onclose = async (e) => {\r\n                let callStop = false;\r\n                if (this.features.reconnect) {\r\n                    try {\r\n                        this.features.disconnected();\r\n                        await this.transport.connect(url, transferFormat);\r\n                        await this.features.resend();\r\n                    }\r\n                    catch {\r\n                        callStop = true;\r\n                    }\r\n                }\r\n                else {\r\n                    this._stopConnection(e);\r\n                    return;\r\n                }\r\n                if (callStop) {\r\n                    this._stopConnection(e);\r\n                }\r\n            };\r\n        }\r\n        else {\r\n            this.transport.onclose = (e) => this._stopConnection(e);\r\n        }\r\n        return this.transport.connect(url, transferFormat);\r\n    }\r\n    _resolveTransportOrError(endpoint, requestedTransport, requestedTransferFormat, useStatefulReconnect) {\r\n        const transport = HttpTransportType[endpoint.transport];\r\n        if (transport === null || transport === undefined) {\r\n            this._logger.log(LogLevel.Debug, `Skipping transport '${endpoint.transport}' because it is not supported by this client.`);\r\n            return new Error(`Skipping transport '${endpoint.transport}' because it is not supported by this client.`);\r\n        }\r\n        else {\r\n            if (transportMatches(requestedTransport, transport)) {\r\n                const transferFormats = endpoint.transferFormats.map((s) => TransferFormat[s]);\r\n                if (transferFormats.indexOf(requestedTransferFormat) >= 0) {\r\n                    if ((transport === HttpTransportType.WebSockets && !this._options.WebSocket) ||\r\n                        (transport === HttpTransportType.ServerSentEvents && !this._options.EventSource)) {\r\n                        this._logger.log(LogLevel.Debug, `Skipping transport '${HttpTransportType[transport]}' because it is not supported in your environment.'`);\r\n                        return new UnsupportedTransportError(`'${HttpTransportType[transport]}' is not supported in your environment.`, transport);\r\n                    }\r\n                    else {\r\n                        this._logger.log(LogLevel.Debug, `Selecting transport '${HttpTransportType[transport]}'.`);\r\n                        try {\r\n                            this.features.reconnect = transport === HttpTransportType.WebSockets ? useStatefulReconnect : undefined;\r\n                            return this._constructTransport(transport);\r\n                        }\r\n                        catch (ex) {\r\n                            return ex;\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    this._logger.log(LogLevel.Debug, `Skipping transport '${HttpTransportType[transport]}' because it does not support the requested transfer format '${TransferFormat[requestedTransferFormat]}'.`);\r\n                    return new Error(`'${HttpTransportType[transport]}' does not support ${TransferFormat[requestedTransferFormat]}.`);\r\n                }\r\n            }\r\n            else {\r\n                this._logger.log(LogLevel.Debug, `Skipping transport '${HttpTransportType[transport]}' because it was disabled by the client.`);\r\n                return new DisabledTransportError(`'${HttpTransportType[transport]}' is disabled by the client.`, transport);\r\n            }\r\n        }\r\n    }\r\n    _isITransport(transport) {\r\n        return transport && typeof (transport) === \"object\" && \"connect\" in transport;\r\n    }\r\n    _stopConnection(error) {\r\n        this._logger.log(LogLevel.Debug, `HttpConnection.stopConnection(${error}) called while in state ${this._connectionState}.`);\r\n        this.transport = undefined;\r\n        // If we have a stopError, it takes precedence over the error from the transport\r\n        error = this._stopError || error;\r\n        this._stopError = undefined;\r\n        if (this._connectionState === \"Disconnected\" /* ConnectionState.Disconnected */) {\r\n            this._logger.log(LogLevel.Debug, `Call to HttpConnection.stopConnection(${error}) was ignored because the connection is already in the disconnected state.`);\r\n            return;\r\n        }\r\n        if (this._connectionState === \"Connecting\" /* ConnectionState.Connecting */) {\r\n            this._logger.log(LogLevel.Warning, `Call to HttpConnection.stopConnection(${error}) was ignored because the connection is still in the connecting state.`);\r\n            throw new Error(`HttpConnection.stopConnection(${error}) was called while the connection is still in the connecting state.`);\r\n        }\r\n        if (this._connectionState === \"Disconnecting\" /* ConnectionState.Disconnecting */) {\r\n            // A call to stop() induced this call to stopConnection and needs to be completed.\r\n            // Any stop() awaiters will be scheduled to continue after the onclose callback fires.\r\n            this._stopPromiseResolver();\r\n        }\r\n        if (error) {\r\n            this._logger.log(LogLevel.Error, `Connection disconnected with error '${error}'.`);\r\n        }\r\n        else {\r\n            this._logger.log(LogLevel.Information, \"Connection disconnected.\");\r\n        }\r\n        if (this._sendQueue) {\r\n            this._sendQueue.stop().catch((e) => {\r\n                this._logger.log(LogLevel.Error, `TransportSendQueue.stop() threw error '${e}'.`);\r\n            });\r\n            this._sendQueue = undefined;\r\n        }\r\n        this.connectionId = undefined;\r\n        this._connectionState = \"Disconnected\" /* ConnectionState.Disconnected */;\r\n        if (this._connectionStarted) {\r\n            this._connectionStarted = false;\r\n            try {\r\n                if (this.onclose) {\r\n                    this.onclose(error);\r\n                }\r\n            }\r\n            catch (e) {\r\n                this._logger.log(LogLevel.Error, `HttpConnection.onclose(${error}) threw error '${e}'.`);\r\n            }\r\n        }\r\n    }\r\n    _resolveUrl(url) {\r\n        // startsWith is not supported in IE\r\n        if (url.lastIndexOf(\"https://\", 0) === 0 || url.lastIndexOf(\"http://\", 0) === 0) {\r\n            return url;\r\n        }\r\n        if (!Platform.isBrowser) {\r\n            throw new Error(`Cannot resolve '${url}'.`);\r\n        }\r\n        // Setting the url to the href propery of an anchor tag handles normalization\r\n        // for us. There are 3 main cases.\r\n        // 1. Relative path normalization e.g \"b\" -> \"http://localhost:5000/a/b\"\r\n        // 2. Absolute path normalization e.g \"/a/b\" -> \"http://localhost:5000/a/b\"\r\n        // 3. Networkpath reference normalization e.g \"//localhost:5000/a/b\" -> \"http://localhost:5000/a/b\"\r\n        const aTag = window.document.createElement(\"a\");\r\n        aTag.href = url;\r\n        this._logger.log(LogLevel.Information, `Normalizing '${url}' to '${aTag.href}'.`);\r\n        return aTag.href;\r\n    }\r\n    _resolveNegotiateUrl(url) {\r\n        const negotiateUrl = new URL(url);\r\n        if (negotiateUrl.pathname.endsWith('/')) {\r\n            negotiateUrl.pathname += \"negotiate\";\r\n        }\r\n        else {\r\n            negotiateUrl.pathname += \"/negotiate\";\r\n        }\r\n        const searchParams = new URLSearchParams(negotiateUrl.searchParams);\r\n        if (!searchParams.has(\"negotiateVersion\")) {\r\n            searchParams.append(\"negotiateVersion\", this._negotiateVersion.toString());\r\n        }\r\n        if (searchParams.has(\"useStatefulReconnect\")) {\r\n            if (searchParams.get(\"useStatefulReconnect\") === \"true\") {\r\n                this._options._useStatefulReconnect = true;\r\n            }\r\n        }\r\n        else if (this._options._useStatefulReconnect === true) {\r\n            searchParams.append(\"useStatefulReconnect\", \"true\");\r\n        }\r\n        negotiateUrl.search = searchParams.toString();\r\n        return negotiateUrl.toString();\r\n    }\r\n}\r\nfunction transportMatches(requestedTransport, actualTransport) {\r\n    return !requestedTransport || ((actualTransport & requestedTransport) !== 0);\r\n}\r\n/** @private */\r\nexport class TransportSendQueue {\r\n    constructor(_transport) {\r\n        this._transport = _transport;\r\n        this._buffer = [];\r\n        this._executing = true;\r\n        this._sendBufferedData = new PromiseSource();\r\n        this._transportResult = new PromiseSource();\r\n        this._sendLoopPromise = this._sendLoop();\r\n    }\r\n    send(data) {\r\n        this._bufferData(data);\r\n        if (!this._transportResult) {\r\n            this._transportResult = new PromiseSource();\r\n        }\r\n        return this._transportResult.promise;\r\n    }\r\n    stop() {\r\n        this._executing = false;\r\n        this._sendBufferedData.resolve();\r\n        return this._sendLoopPromise;\r\n    }\r\n    _bufferData(data) {\r\n        if (this._buffer.length && typeof (this._buffer[0]) !== typeof (data)) {\r\n            throw new Error(`Expected data to be of type ${typeof (this._buffer)} but was of type ${typeof (data)}`);\r\n        }\r\n        this._buffer.push(data);\r\n        this._sendBufferedData.resolve();\r\n    }\r\n    async _sendLoop() {\r\n        while (true) {\r\n            await this._sendBufferedData.promise;\r\n            if (!this._executing) {\r\n                if (this._transportResult) {\r\n                    this._transportResult.reject(\"Connection stopped.\");\r\n                }\r\n                break;\r\n            }\r\n            this._sendBufferedData = new PromiseSource();\r\n            const transportResult = this._transportResult;\r\n            this._transportResult = undefined;\r\n            const data = typeof (this._buffer[0]) === \"string\" ?\r\n                this._buffer.join(\"\") :\r\n                TransportSendQueue._concatBuffers(this._buffer);\r\n            this._buffer.length = 0;\r\n            try {\r\n                await this._transport.send(data);\r\n                transportResult.resolve();\r\n            }\r\n            catch (error) {\r\n                transportResult.reject(error);\r\n            }\r\n        }\r\n    }\r\n    static _concatBuffers(arrayBuffers) {\r\n        const totalLength = arrayBuffers.map((b) => b.byteLength).reduce((a, b) => a + b);\r\n        const result = new Uint8Array(totalLength);\r\n        let offset = 0;\r\n        for (const item of arrayBuffers) {\r\n            result.set(new Uint8Array(item), offset);\r\n            offset += item.byteLength;\r\n        }\r\n        return result.buffer;\r\n    }\r\n}\r\nclass PromiseSource {\r\n    constructor() {\r\n        this.promise = new Promise((resolve, reject) => [this._resolver, this._rejecter] = [resolve, reject]);\r\n    }\r\n    resolve() {\r\n        this._resolver();\r\n    }\r\n    reject(reason) {\r\n        this._rejecter(reason);\r\n    }\r\n}\r\n//# sourceMappingURL=HttpConnection.js.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\nimport { MessageType } from \"./IHubProtocol\";\r\nimport { LogLevel } from \"./ILogger\";\r\nimport { TransferFormat } from \"./ITransport\";\r\nimport { NullLogger } from \"./Loggers\";\r\nimport { TextMessageFormat } from \"./TextMessageFormat\";\r\nconst JSON_HUB_PROTOCOL_NAME = \"json\";\r\n/** Implements the JSON Hub Protocol. */\r\nexport class JsonHubProtocol {\r\n    constructor() {\r\n        /** @inheritDoc */\r\n        this.name = JSON_HUB_PROTOCOL_NAME;\r\n        /** @inheritDoc */\r\n        this.version = 2;\r\n        /** @inheritDoc */\r\n        this.transferFormat = TransferFormat.Text;\r\n    }\r\n    /** Creates an array of {@link @microsoft/signalr.HubMessage} objects from the specified serialized representation.\r\n     *\r\n     * @param {string} input A string containing the serialized representation.\r\n     * @param {ILogger} logger A logger that will be used to log messages that occur during parsing.\r\n     */\r\n    parseMessages(input, logger) {\r\n        // The interface does allow \"ArrayBuffer\" to be passed in, but this implementation does not. So let's throw a useful error.\r\n        if (typeof input !== \"string\") {\r\n            throw new Error(\"Invalid input for JSON hub protocol. Expected a string.\");\r\n        }\r\n        if (!input) {\r\n            return [];\r\n        }\r\n        if (logger === null) {\r\n            logger = NullLogger.instance;\r\n        }\r\n        // Parse the messages\r\n        const messages = TextMessageFormat.parse(input);\r\n        const hubMessages = [];\r\n        for (const message of messages) {\r\n            const parsedMessage = JSON.parse(message);\r\n            if (typeof parsedMessage.type !== \"number\") {\r\n                throw new Error(\"Invalid payload.\");\r\n            }\r\n            switch (parsedMessage.type) {\r\n                case MessageType.Invocation:\r\n                    this._isInvocationMessage(parsedMessage);\r\n                    break;\r\n                case MessageType.StreamItem:\r\n                    this._isStreamItemMessage(parsedMessage);\r\n                    break;\r\n                case MessageType.Completion:\r\n                    this._isCompletionMessage(parsedMessage);\r\n                    break;\r\n                case MessageType.Ping:\r\n                    // Single value, no need to validate\r\n                    break;\r\n                case MessageType.Close:\r\n                    // All optional values, no need to validate\r\n                    break;\r\n                case MessageType.Ack:\r\n                    this._isAckMessage(parsedMessage);\r\n                    break;\r\n                case MessageType.Sequence:\r\n                    this._isSequenceMessage(parsedMessage);\r\n                    break;\r\n                default:\r\n                    // Future protocol changes can add message types, old clients can ignore them\r\n                    logger.log(LogLevel.Information, \"Unknown message type '\" + parsedMessage.type + \"' ignored.\");\r\n                    continue;\r\n            }\r\n            hubMessages.push(parsedMessage);\r\n        }\r\n        return hubMessages;\r\n    }\r\n    /** Writes the specified {@link @microsoft/signalr.HubMessage} to a string and returns it.\r\n     *\r\n     * @param {HubMessage} message The message to write.\r\n     * @returns {string} A string containing the serialized representation of the message.\r\n     */\r\n    writeMessage(message) {\r\n        return TextMessageFormat.write(JSON.stringify(message));\r\n    }\r\n    _isInvocationMessage(message) {\r\n        this._assertNotEmptyString(message.target, \"Invalid payload for Invocation message.\");\r\n        if (message.invocationId !== undefined) {\r\n            this._assertNotEmptyString(message.invocationId, \"Invalid payload for Invocation message.\");\r\n        }\r\n    }\r\n    _isStreamItemMessage(message) {\r\n        this._assertNotEmptyString(message.invocationId, \"Invalid payload for StreamItem message.\");\r\n        if (message.item === undefined) {\r\n            throw new Error(\"Invalid payload for StreamItem message.\");\r\n        }\r\n    }\r\n    _isCompletionMessage(message) {\r\n        if (message.result && message.error) {\r\n            throw new Error(\"Invalid payload for Completion message.\");\r\n        }\r\n        if (!message.result && message.error) {\r\n            this._assertNotEmptyString(message.error, \"Invalid payload for Completion message.\");\r\n        }\r\n        this._assertNotEmptyString(message.invocationId, \"Invalid payload for Completion message.\");\r\n    }\r\n    _isAckMessage(message) {\r\n        if (typeof message.sequenceId !== 'number') {\r\n            throw new Error(\"Invalid SequenceId for Ack message.\");\r\n        }\r\n    }\r\n    _isSequenceMessage(message) {\r\n        if (typeof message.sequenceId !== 'number') {\r\n            throw new Error(\"Invalid SequenceId for Sequence message.\");\r\n        }\r\n    }\r\n    _assertNotEmptyString(value, errorMessage) {\r\n        if (typeof value !== \"string\" || value === \"\") {\r\n            throw new Error(errorMessage);\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=JsonHubProtocol.js.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\nimport { DefaultReconnectPolicy } from \"./DefaultReconnectPolicy\";\r\nimport { HttpConnection } from \"./HttpConnection\";\r\nimport { HubConnection } from \"./HubConnection\";\r\nimport { LogLevel } from \"./ILogger\";\r\nimport { JsonHubProtocol } from \"./JsonHubProtocol\";\r\nimport { NullLogger } from \"./Loggers\";\r\nimport { Arg, ConsoleLogger } from \"./Utils\";\r\nconst LogLevelNameMapping = {\r\n    trace: LogLevel.Trace,\r\n    debug: LogLevel.Debug,\r\n    info: LogLevel.Information,\r\n    information: LogLevel.Information,\r\n    warn: LogLevel.Warning,\r\n    warning: LogLevel.Warning,\r\n    error: LogLevel.Error,\r\n    critical: LogLevel.Critical,\r\n    none: LogLevel.None,\r\n};\r\nfunction parseLogLevel(name) {\r\n    // Case-insensitive matching via lower-casing\r\n    // Yes, I know case-folding is a complicated problem in Unicode, but we only support\r\n    // the ASCII strings defined in LogLevelNameMapping anyway, so it's fine -anurse.\r\n    const mapping = LogLevelNameMapping[name.toLowerCase()];\r\n    if (typeof mapping !== \"undefined\") {\r\n        return mapping;\r\n    }\r\n    else {\r\n        throw new Error(`Unknown log level: ${name}`);\r\n    }\r\n}\r\n/** A builder for configuring {@link @microsoft/signalr.HubConnection} instances. */\r\nexport class HubConnectionBuilder {\r\n    configureLogging(logging) {\r\n        Arg.isRequired(logging, \"logging\");\r\n        if (isLogger(logging)) {\r\n            this.logger = logging;\r\n        }\r\n        else if (typeof logging === \"string\") {\r\n            const logLevel = parseLogLevel(logging);\r\n            this.logger = new ConsoleLogger(logLevel);\r\n        }\r\n        else {\r\n            this.logger = new ConsoleLogger(logging);\r\n        }\r\n        return this;\r\n    }\r\n    withUrl(url, transportTypeOrOptions) {\r\n        Arg.isRequired(url, \"url\");\r\n        Arg.isNotEmpty(url, \"url\");\r\n        this.url = url;\r\n        // Flow-typing knows where it's at. Since HttpTransportType is a number and IHttpConnectionOptions is guaranteed\r\n        // to be an object, we know (as does TypeScript) this comparison is all we need to figure out which overload was called.\r\n        if (typeof transportTypeOrOptions === \"object\") {\r\n            this.httpConnectionOptions = { ...this.httpConnectionOptions, ...transportTypeOrOptions };\r\n        }\r\n        else {\r\n            this.httpConnectionOptions = {\r\n                ...this.httpConnectionOptions,\r\n                transport: transportTypeOrOptions,\r\n            };\r\n        }\r\n        return this;\r\n    }\r\n    /** Configures the {@link @microsoft/signalr.HubConnection} to use the specified Hub Protocol.\r\n     *\r\n     * @param {IHubProtocol} protocol The {@link @microsoft/signalr.IHubProtocol} implementation to use.\r\n     */\r\n    withHubProtocol(protocol) {\r\n        Arg.isRequired(protocol, \"protocol\");\r\n        this.protocol = protocol;\r\n        return this;\r\n    }\r\n    withAutomaticReconnect(retryDelaysOrReconnectPolicy) {\r\n        if (this.reconnectPolicy) {\r\n            throw new Error(\"A reconnectPolicy has already been set.\");\r\n        }\r\n        if (!retryDelaysOrReconnectPolicy) {\r\n            this.reconnectPolicy = new DefaultReconnectPolicy();\r\n        }\r\n        else if (Array.isArray(retryDelaysOrReconnectPolicy)) {\r\n            this.reconnectPolicy = new DefaultReconnectPolicy(retryDelaysOrReconnectPolicy);\r\n        }\r\n        else {\r\n            this.reconnectPolicy = retryDelaysOrReconnectPolicy;\r\n        }\r\n        return this;\r\n    }\r\n    /** Configures {@link @microsoft/signalr.HubConnection.serverTimeoutInMilliseconds} for the {@link @microsoft/signalr.HubConnection}.\r\n     *\r\n     * @returns The {@link @microsoft/signalr.HubConnectionBuilder} instance, for chaining.\r\n     */\r\n    withServerTimeout(milliseconds) {\r\n        Arg.isRequired(milliseconds, \"milliseconds\");\r\n        this._serverTimeoutInMilliseconds = milliseconds;\r\n        return this;\r\n    }\r\n    /** Configures {@link @microsoft/signalr.HubConnection.keepAliveIntervalInMilliseconds} for the {@link @microsoft/signalr.HubConnection}.\r\n     *\r\n     * @returns The {@link @microsoft/signalr.HubConnectionBuilder} instance, for chaining.\r\n     */\r\n    withKeepAliveInterval(milliseconds) {\r\n        Arg.isRequired(milliseconds, \"milliseconds\");\r\n        this._keepAliveIntervalInMilliseconds = milliseconds;\r\n        return this;\r\n    }\r\n    /** Enables and configures options for the Stateful Reconnect feature.\r\n     *\r\n     * @returns The {@link @microsoft/signalr.HubConnectionBuilder} instance, for chaining.\r\n     */\r\n    withStatefulReconnect(options) {\r\n        if (this.httpConnectionOptions === undefined) {\r\n            this.httpConnectionOptions = {};\r\n        }\r\n        this.httpConnectionOptions._useStatefulReconnect = true;\r\n        this._statefulReconnectBufferSize = options === null || options === void 0 ? void 0 : options.bufferSize;\r\n        return this;\r\n    }\r\n    /** Creates a {@link @microsoft/signalr.HubConnection} from the configuration options specified in this builder.\r\n     *\r\n     * @returns {HubConnection} The configured {@link @microsoft/signalr.HubConnection}.\r\n     */\r\n    build() {\r\n        // If httpConnectionOptions has a logger, use it. Otherwise, override it with the one\r\n        // provided to configureLogger\r\n        const httpConnectionOptions = this.httpConnectionOptions || {};\r\n        // If it's 'null', the user **explicitly** asked for null, don't mess with it.\r\n        if (httpConnectionOptions.logger === undefined) {\r\n            // If our logger is undefined or null, that's OK, the HttpConnection constructor will handle it.\r\n            httpConnectionOptions.logger = this.logger;\r\n        }\r\n        // Now create the connection\r\n        if (!this.url) {\r\n            throw new Error(\"The 'HubConnectionBuilder.withUrl' method must be called before building the connection.\");\r\n        }\r\n        const connection = new HttpConnection(this.url, httpConnectionOptions);\r\n        return HubConnection.create(connection, this.logger || NullLogger.instance, this.protocol || new JsonHubProtocol(), this.reconnectPolicy, this._serverTimeoutInMilliseconds, this._keepAliveIntervalInMilliseconds, this._statefulReconnectBufferSize);\r\n    }\r\n}\r\nfunction isLogger(logger) {\r\n    return logger.log !== undefined;\r\n}\r\n//# sourceMappingURL=HubConnectionBuilder.js.map",null,"// Integer Utility\nexport var UINT32_MAX = 4294967295;\n// DataView extension to handle int64 / uint64,\n// where the actual range is 53-bits integer (a.k.a. safe integer)\nexport function setUint64(view, offset, value) {\n    var high = value / 4294967296;\n    var low = value; // high bits are truncated by DataView\n    view.setUint32(offset, high);\n    view.setUint32(offset + 4, low);\n}\nexport function setInt64(view, offset, value) {\n    var high = Math.floor(value / 4294967296);\n    var low = value; // high bits are truncated by DataView\n    view.setUint32(offset, high);\n    view.setUint32(offset + 4, low);\n}\nexport function getInt64(view, offset) {\n    var high = view.getInt32(offset);\n    var low = view.getUint32(offset + 4);\n    return high * 4294967296 + low;\n}\nexport function getUint64(view, offset) {\n    var high = view.getUint32(offset);\n    var low = view.getUint32(offset + 4);\n    return high * 4294967296 + low;\n}\n//# sourceMappingURL=int.mjs.map","var _a, _b, _c;\n/* eslint-disable @typescript-eslint/no-unnecessary-condition */\nimport { UINT32_MAX } from \"./int.mjs\";\nvar TEXT_ENCODING_AVAILABLE = (typeof process === \"undefined\" || ((_a = process === null || process === void 0 ? void 0 : process.env) === null || _a === void 0 ? void 0 : _a[\"TEXT_ENCODING\"]) !== \"never\") &&\n    typeof TextEncoder !== \"undefined\" &&\n    typeof TextDecoder !== \"undefined\";\nexport function utf8Count(str) {\n    var strLength = str.length;\n    var byteLength = 0;\n    var pos = 0;\n    while (pos < strLength) {\n        var value = str.charCodeAt(pos++);\n        if ((value & 0xffffff80) === 0) {\n            // 1-byte\n            byteLength++;\n            continue;\n        }\n        else if ((value & 0xfffff800) === 0) {\n            // 2-bytes\n            byteLength += 2;\n        }\n        else {\n            // handle surrogate pair\n            if (value >= 0xd800 && value <= 0xdbff) {\n                // high surrogate\n                if (pos < strLength) {\n                    var extra = str.charCodeAt(pos);\n                    if ((extra & 0xfc00) === 0xdc00) {\n                        ++pos;\n                        value = ((value & 0x3ff) << 10) + (extra & 0x3ff) + 0x10000;\n                    }\n                }\n            }\n            if ((value & 0xffff0000) === 0) {\n                // 3-byte\n                byteLength += 3;\n            }\n            else {\n                // 4-byte\n                byteLength += 4;\n            }\n        }\n    }\n    return byteLength;\n}\nexport function utf8EncodeJs(str, output, outputOffset) {\n    var strLength = str.length;\n    var offset = outputOffset;\n    var pos = 0;\n    while (pos < strLength) {\n        var value = str.charCodeAt(pos++);\n        if ((value & 0xffffff80) === 0) {\n            // 1-byte\n            output[offset++] = value;\n            continue;\n        }\n        else if ((value & 0xfffff800) === 0) {\n            // 2-bytes\n            output[offset++] = ((value >> 6) & 0x1f) | 0xc0;\n        }\n        else {\n            // handle surrogate pair\n            if (value >= 0xd800 && value <= 0xdbff) {\n                // high surrogate\n                if (pos < strLength) {\n                    var extra = str.charCodeAt(pos);\n                    if ((extra & 0xfc00) === 0xdc00) {\n                        ++pos;\n                        value = ((value & 0x3ff) << 10) + (extra & 0x3ff) + 0x10000;\n                    }\n                }\n            }\n            if ((value & 0xffff0000) === 0) {\n                // 3-byte\n                output[offset++] = ((value >> 12) & 0x0f) | 0xe0;\n                output[offset++] = ((value >> 6) & 0x3f) | 0x80;\n            }\n            else {\n                // 4-byte\n                output[offset++] = ((value >> 18) & 0x07) | 0xf0;\n                output[offset++] = ((value >> 12) & 0x3f) | 0x80;\n                output[offset++] = ((value >> 6) & 0x3f) | 0x80;\n            }\n        }\n        output[offset++] = (value & 0x3f) | 0x80;\n    }\n}\nvar sharedTextEncoder = TEXT_ENCODING_AVAILABLE ? new TextEncoder() : undefined;\nexport var TEXT_ENCODER_THRESHOLD = !TEXT_ENCODING_AVAILABLE\n    ? UINT32_MAX\n    : typeof process !== \"undefined\" && ((_b = process === null || process === void 0 ? void 0 : process.env) === null || _b === void 0 ? void 0 : _b[\"TEXT_ENCODING\"]) !== \"force\"\n        ? 200\n        : 0;\nfunction utf8EncodeTEencode(str, output, outputOffset) {\n    output.set(sharedTextEncoder.encode(str), outputOffset);\n}\nfunction utf8EncodeTEencodeInto(str, output, outputOffset) {\n    sharedTextEncoder.encodeInto(str, output.subarray(outputOffset));\n}\nexport var utf8EncodeTE = (sharedTextEncoder === null || sharedTextEncoder === void 0 ? void 0 : sharedTextEncoder.encodeInto) ? utf8EncodeTEencodeInto : utf8EncodeTEencode;\nvar CHUNK_SIZE = 4096;\nexport function utf8DecodeJs(bytes, inputOffset, byteLength) {\n    var offset = inputOffset;\n    var end = offset + byteLength;\n    var units = [];\n    var result = \"\";\n    while (offset < end) {\n        var byte1 = bytes[offset++];\n        if ((byte1 & 0x80) === 0) {\n            // 1 byte\n            units.push(byte1);\n        }\n        else if ((byte1 & 0xe0) === 0xc0) {\n            // 2 bytes\n            var byte2 = bytes[offset++] & 0x3f;\n            units.push(((byte1 & 0x1f) << 6) | byte2);\n        }\n        else if ((byte1 & 0xf0) === 0xe0) {\n            // 3 bytes\n            var byte2 = bytes[offset++] & 0x3f;\n            var byte3 = bytes[offset++] & 0x3f;\n            units.push(((byte1 & 0x1f) << 12) | (byte2 << 6) | byte3);\n        }\n        else if ((byte1 & 0xf8) === 0xf0) {\n            // 4 bytes\n            var byte2 = bytes[offset++] & 0x3f;\n            var byte3 = bytes[offset++] & 0x3f;\n            var byte4 = bytes[offset++] & 0x3f;\n            var unit = ((byte1 & 0x07) << 0x12) | (byte2 << 0x0c) | (byte3 << 0x06) | byte4;\n            if (unit > 0xffff) {\n                unit -= 0x10000;\n                units.push(((unit >>> 10) & 0x3ff) | 0xd800);\n                unit = 0xdc00 | (unit & 0x3ff);\n            }\n            units.push(unit);\n        }\n        else {\n            units.push(byte1);\n        }\n        if (units.length >= CHUNK_SIZE) {\n            result += String.fromCharCode.apply(String, units);\n            units.length = 0;\n        }\n    }\n    if (units.length > 0) {\n        result += String.fromCharCode.apply(String, units);\n    }\n    return result;\n}\nvar sharedTextDecoder = TEXT_ENCODING_AVAILABLE ? new TextDecoder() : null;\nexport var TEXT_DECODER_THRESHOLD = !TEXT_ENCODING_AVAILABLE\n    ? UINT32_MAX\n    : typeof process !== \"undefined\" && ((_c = process === null || process === void 0 ? void 0 : process.env) === null || _c === void 0 ? void 0 : _c[\"TEXT_DECODER\"]) !== \"force\"\n        ? 200\n        : 0;\nexport function utf8DecodeTD(bytes, inputOffset, byteLength) {\n    var stringBytes = bytes.subarray(inputOffset, inputOffset + byteLength);\n    return sharedTextDecoder.decode(stringBytes);\n}\n//# sourceMappingURL=utf8.mjs.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar DecodeError = /** @class */ (function (_super) {\n    __extends(DecodeError, _super);\n    function DecodeError(message) {\n        var _this = _super.call(this, message) || this;\n        // fix the prototype chain in a cross-platform way\n        var proto = Object.create(DecodeError.prototype);\n        Object.setPrototypeOf(_this, proto);\n        Object.defineProperty(_this, \"name\", {\n            configurable: true,\n            enumerable: false,\n            value: DecodeError.name,\n        });\n        return _this;\n    }\n    return DecodeError;\n}(Error));\nexport { DecodeError };\n//# sourceMappingURL=DecodeError.mjs.map","/**\n * ExtData is used to handle Extension Types that are not registered to ExtensionCodec.\n */\nvar ExtData = /** @class */ (function () {\n    function ExtData(type, data) {\n        this.type = type;\n        this.data = data;\n    }\n    return ExtData;\n}());\nexport { ExtData };\n//# sourceMappingURL=ExtData.mjs.map","// https://github.com/msgpack/msgpack/blob/master/spec.md#timestamp-extension-type\nimport { DecodeError } from \"./DecodeError.mjs\";\nimport { getInt64, setInt64 } from \"./utils/int.mjs\";\nexport var EXT_TIMESTAMP = -1;\nvar TIMESTAMP32_MAX_SEC = 0x100000000 - 1; // 32-bit unsigned int\nvar TIMESTAMP64_MAX_SEC = 0x400000000 - 1; // 34-bit unsigned int\nexport function encodeTimeSpecToTimestamp(_a) {\n    var sec = _a.sec, nsec = _a.nsec;\n    if (sec >= 0 && nsec >= 0 && sec <= TIMESTAMP64_MAX_SEC) {\n        // Here sec >= 0 && nsec >= 0\n        if (nsec === 0 && sec <= TIMESTAMP32_MAX_SEC) {\n            // timestamp 32 = { sec32 (unsigned) }\n            var rv = new Uint8Array(4);\n            var view = new DataView(rv.buffer);\n            view.setUint32(0, sec);\n            return rv;\n        }\n        else {\n            // timestamp 64 = { nsec30 (unsigned), sec34 (unsigned) }\n            var secHigh = sec / 0x100000000;\n            var secLow = sec & 0xffffffff;\n            var rv = new Uint8Array(8);\n            var view = new DataView(rv.buffer);\n            // nsec30 | secHigh2\n            view.setUint32(0, (nsec << 2) | (secHigh & 0x3));\n            // secLow32\n            view.setUint32(4, secLow);\n            return rv;\n        }\n    }\n    else {\n        // timestamp 96 = { nsec32 (unsigned), sec64 (signed) }\n        var rv = new Uint8Array(12);\n        var view = new DataView(rv.buffer);\n        view.setUint32(0, nsec);\n        setInt64(view, 4, sec);\n        return rv;\n    }\n}\nexport function encodeDateToTimeSpec(date) {\n    var msec = date.getTime();\n    var sec = Math.floor(msec / 1e3);\n    var nsec = (msec - sec * 1e3) * 1e6;\n    // Normalizes { sec, nsec } to ensure nsec is unsigned.\n    var nsecInSec = Math.floor(nsec / 1e9);\n    return {\n        sec: sec + nsecInSec,\n        nsec: nsec - nsecInSec * 1e9,\n    };\n}\nexport function encodeTimestampExtension(object) {\n    if (object instanceof Date) {\n        var timeSpec = encodeDateToTimeSpec(object);\n        return encodeTimeSpecToTimestamp(timeSpec);\n    }\n    else {\n        return null;\n    }\n}\nexport function decodeTimestampToTimeSpec(data) {\n    var view = new DataView(data.buffer, data.byteOffset, data.byteLength);\n    // data may be 32, 64, or 96 bits\n    switch (data.byteLength) {\n        case 4: {\n            // timestamp 32 = { sec32 }\n            var sec = view.getUint32(0);\n            var nsec = 0;\n            return { sec: sec, nsec: nsec };\n        }\n        case 8: {\n            // timestamp 64 = { nsec30, sec34 }\n            var nsec30AndSecHigh2 = view.getUint32(0);\n            var secLow32 = view.getUint32(4);\n            var sec = (nsec30AndSecHigh2 & 0x3) * 0x100000000 + secLow32;\n            var nsec = nsec30AndSecHigh2 >>> 2;\n            return { sec: sec, nsec: nsec };\n        }\n        case 12: {\n            // timestamp 96 = { nsec32 (unsigned), sec64 (signed) }\n            var sec = getInt64(view, 4);\n            var nsec = view.getUint32(0);\n            return { sec: sec, nsec: nsec };\n        }\n        default:\n            throw new DecodeError(\"Unrecognized data size for timestamp (expected 4, 8, or 12): \".concat(data.length));\n    }\n}\nexport function decodeTimestampExtension(data) {\n    var timeSpec = decodeTimestampToTimeSpec(data);\n    return new Date(timeSpec.sec * 1e3 + timeSpec.nsec / 1e6);\n}\nexport var timestampExtension = {\n    type: EXT_TIMESTAMP,\n    encode: encodeTimestampExtension,\n    decode: decodeTimestampExtension,\n};\n//# sourceMappingURL=timestamp.mjs.map","// ExtensionCodec to handle MessagePack extensions\nimport { ExtData } from \"./ExtData.mjs\";\nimport { timestampExtension } from \"./timestamp.mjs\";\nvar ExtensionCodec = /** @class */ (function () {\n    function ExtensionCodec() {\n        // built-in extensions\n        this.builtInEncoders = [];\n        this.builtInDecoders = [];\n        // custom extensions\n        this.encoders = [];\n        this.decoders = [];\n        this.register(timestampExtension);\n    }\n    ExtensionCodec.prototype.register = function (_a) {\n        var type = _a.type, encode = _a.encode, decode = _a.decode;\n        if (type >= 0) {\n            // custom extensions\n            this.encoders[type] = encode;\n            this.decoders[type] = decode;\n        }\n        else {\n            // built-in extensions\n            var index = 1 + type;\n            this.builtInEncoders[index] = encode;\n            this.builtInDecoders[index] = decode;\n        }\n    };\n    ExtensionCodec.prototype.tryToEncode = function (object, context) {\n        // built-in extensions\n        for (var i = 0; i < this.builtInEncoders.length; i++) {\n            var encodeExt = this.builtInEncoders[i];\n            if (encodeExt != null) {\n                var data = encodeExt(object, context);\n                if (data != null) {\n                    var type = -1 - i;\n                    return new ExtData(type, data);\n                }\n            }\n        }\n        // custom extensions\n        for (var i = 0; i < this.encoders.length; i++) {\n            var encodeExt = this.encoders[i];\n            if (encodeExt != null) {\n                var data = encodeExt(object, context);\n                if (data != null) {\n                    var type = i;\n                    return new ExtData(type, data);\n                }\n            }\n        }\n        if (object instanceof ExtData) {\n            // to keep ExtData as is\n            return object;\n        }\n        return null;\n    };\n    ExtensionCodec.prototype.decode = function (data, type, context) {\n        var decodeExt = type < 0 ? this.builtInDecoders[-1 - type] : this.decoders[type];\n        if (decodeExt) {\n            return decodeExt(data, type, context);\n        }\n        else {\n            // decode() does not fail, returns ExtData instead.\n            return new ExtData(type, data);\n        }\n    };\n    ExtensionCodec.defaultCodec = new ExtensionCodec();\n    return ExtensionCodec;\n}());\nexport { ExtensionCodec };\n//# sourceMappingURL=ExtensionCodec.mjs.map","export function ensureUint8Array(buffer) {\n    if (buffer instanceof Uint8Array) {\n        return buffer;\n    }\n    else if (ArrayBuffer.isView(buffer)) {\n        return new Uint8Array(buffer.buffer, buffer.byteOffset, buffer.byteLength);\n    }\n    else if (buffer instanceof ArrayBuffer) {\n        return new Uint8Array(buffer);\n    }\n    else {\n        // ArrayLike<number>\n        return Uint8Array.from(buffer);\n    }\n}\nexport function createDataView(buffer) {\n    if (buffer instanceof ArrayBuffer) {\n        return new DataView(buffer);\n    }\n    var bufferView = ensureUint8Array(buffer);\n    return new DataView(bufferView.buffer, bufferView.byteOffset, bufferView.byteLength);\n}\n//# sourceMappingURL=typedArrays.mjs.map","import { utf8EncodeJs, utf8Count, TEXT_ENCODER_THRESHOLD, utf8EncodeTE } from \"./utils/utf8.mjs\";\nimport { ExtensionCodec } from \"./ExtensionCodec.mjs\";\nimport { setInt64, setUint64 } from \"./utils/int.mjs\";\nimport { ensureUint8Array } from \"./utils/typedArrays.mjs\";\nexport var DEFAULT_MAX_DEPTH = 100;\nexport var DEFAULT_INITIAL_BUFFER_SIZE = 2048;\nvar Encoder = /** @class */ (function () {\n    function Encoder(extensionCodec, context, maxDepth, initialBufferSize, sortKeys, forceFloat32, ignoreUndefined, forceIntegerToFloat) {\n        if (extensionCodec === void 0) { extensionCodec = ExtensionCodec.defaultCodec; }\n        if (context === void 0) { context = undefined; }\n        if (maxDepth === void 0) { maxDepth = DEFAULT_MAX_DEPTH; }\n        if (initialBufferSize === void 0) { initialBufferSize = DEFAULT_INITIAL_BUFFER_SIZE; }\n        if (sortKeys === void 0) { sortKeys = false; }\n        if (forceFloat32 === void 0) { forceFloat32 = false; }\n        if (ignoreUndefined === void 0) { ignoreUndefined = false; }\n        if (forceIntegerToFloat === void 0) { forceIntegerToFloat = false; }\n        this.extensionCodec = extensionCodec;\n        this.context = context;\n        this.maxDepth = maxDepth;\n        this.initialBufferSize = initialBufferSize;\n        this.sortKeys = sortKeys;\n        this.forceFloat32 = forceFloat32;\n        this.ignoreUndefined = ignoreUndefined;\n        this.forceIntegerToFloat = forceIntegerToFloat;\n        this.pos = 0;\n        this.view = new DataView(new ArrayBuffer(this.initialBufferSize));\n        this.bytes = new Uint8Array(this.view.buffer);\n    }\n    Encoder.prototype.reinitializeState = function () {\n        this.pos = 0;\n    };\n    /**\n     * This is almost equivalent to {@link Encoder#encode}, but it returns an reference of the encoder's internal buffer and thus much faster than {@link Encoder#encode}.\n     *\n     * @returns Encodes the object and returns a shared reference the encoder's internal buffer.\n     */\n    Encoder.prototype.encodeSharedRef = function (object) {\n        this.reinitializeState();\n        this.doEncode(object, 1);\n        return this.bytes.subarray(0, this.pos);\n    };\n    /**\n     * @returns Encodes the object and returns a copy of the encoder's internal buffer.\n     */\n    Encoder.prototype.encode = function (object) {\n        this.reinitializeState();\n        this.doEncode(object, 1);\n        return this.bytes.slice(0, this.pos);\n    };\n    Encoder.prototype.doEncode = function (object, depth) {\n        if (depth > this.maxDepth) {\n            throw new Error(\"Too deep objects in depth \".concat(depth));\n        }\n        if (object == null) {\n            this.encodeNil();\n        }\n        else if (typeof object === \"boolean\") {\n            this.encodeBoolean(object);\n        }\n        else if (typeof object === \"number\") {\n            this.encodeNumber(object);\n        }\n        else if (typeof object === \"string\") {\n            this.encodeString(object);\n        }\n        else {\n            this.encodeObject(object, depth);\n        }\n    };\n    Encoder.prototype.ensureBufferSizeToWrite = function (sizeToWrite) {\n        var requiredSize = this.pos + sizeToWrite;\n        if (this.view.byteLength < requiredSize) {\n            this.resizeBuffer(requiredSize * 2);\n        }\n    };\n    Encoder.prototype.resizeBuffer = function (newSize) {\n        var newBuffer = new ArrayBuffer(newSize);\n        var newBytes = new Uint8Array(newBuffer);\n        var newView = new DataView(newBuffer);\n        newBytes.set(this.bytes);\n        this.view = newView;\n        this.bytes = newBytes;\n    };\n    Encoder.prototype.encodeNil = function () {\n        this.writeU8(0xc0);\n    };\n    Encoder.prototype.encodeBoolean = function (object) {\n        if (object === false) {\n            this.writeU8(0xc2);\n        }\n        else {\n            this.writeU8(0xc3);\n        }\n    };\n    Encoder.prototype.encodeNumber = function (object) {\n        if (Number.isSafeInteger(object) && !this.forceIntegerToFloat) {\n            if (object >= 0) {\n                if (object < 0x80) {\n                    // positive fixint\n                    this.writeU8(object);\n                }\n                else if (object < 0x100) {\n                    // uint 8\n                    this.writeU8(0xcc);\n                    this.writeU8(object);\n                }\n                else if (object < 0x10000) {\n                    // uint 16\n                    this.writeU8(0xcd);\n                    this.writeU16(object);\n                }\n                else if (object < 0x100000000) {\n                    // uint 32\n                    this.writeU8(0xce);\n                    this.writeU32(object);\n                }\n                else {\n                    // uint 64\n                    this.writeU8(0xcf);\n                    this.writeU64(object);\n                }\n            }\n            else {\n                if (object >= -0x20) {\n                    // negative fixint\n                    this.writeU8(0xe0 | (object + 0x20));\n                }\n                else if (object >= -0x80) {\n                    // int 8\n                    this.writeU8(0xd0);\n                    this.writeI8(object);\n                }\n                else if (object >= -0x8000) {\n                    // int 16\n                    this.writeU8(0xd1);\n                    this.writeI16(object);\n                }\n                else if (object >= -0x80000000) {\n                    // int 32\n                    this.writeU8(0xd2);\n                    this.writeI32(object);\n                }\n                else {\n                    // int 64\n                    this.writeU8(0xd3);\n                    this.writeI64(object);\n                }\n            }\n        }\n        else {\n            // non-integer numbers\n            if (this.forceFloat32) {\n                // float 32\n                this.writeU8(0xca);\n                this.writeF32(object);\n            }\n            else {\n                // float 64\n                this.writeU8(0xcb);\n                this.writeF64(object);\n            }\n        }\n    };\n    Encoder.prototype.writeStringHeader = function (byteLength) {\n        if (byteLength < 32) {\n            // fixstr\n            this.writeU8(0xa0 + byteLength);\n        }\n        else if (byteLength < 0x100) {\n            // str 8\n            this.writeU8(0xd9);\n            this.writeU8(byteLength);\n        }\n        else if (byteLength < 0x10000) {\n            // str 16\n            this.writeU8(0xda);\n            this.writeU16(byteLength);\n        }\n        else if (byteLength < 0x100000000) {\n            // str 32\n            this.writeU8(0xdb);\n            this.writeU32(byteLength);\n        }\n        else {\n            throw new Error(\"Too long string: \".concat(byteLength, \" bytes in UTF-8\"));\n        }\n    };\n    Encoder.prototype.encodeString = function (object) {\n        var maxHeaderSize = 1 + 4;\n        var strLength = object.length;\n        if (strLength > TEXT_ENCODER_THRESHOLD) {\n            var byteLength = utf8Count(object);\n            this.ensureBufferSizeToWrite(maxHeaderSize + byteLength);\n            this.writeStringHeader(byteLength);\n            utf8EncodeTE(object, this.bytes, this.pos);\n            this.pos += byteLength;\n        }\n        else {\n            var byteLength = utf8Count(object);\n            this.ensureBufferSizeToWrite(maxHeaderSize + byteLength);\n            this.writeStringHeader(byteLength);\n            utf8EncodeJs(object, this.bytes, this.pos);\n            this.pos += byteLength;\n        }\n    };\n    Encoder.prototype.encodeObject = function (object, depth) {\n        // try to encode objects with custom codec first of non-primitives\n        var ext = this.extensionCodec.tryToEncode(object, this.context);\n        if (ext != null) {\n            this.encodeExtension(ext);\n        }\n        else if (Array.isArray(object)) {\n            this.encodeArray(object, depth);\n        }\n        else if (ArrayBuffer.isView(object)) {\n            this.encodeBinary(object);\n        }\n        else if (typeof object === \"object\") {\n            this.encodeMap(object, depth);\n        }\n        else {\n            // symbol, function and other special object come here unless extensionCodec handles them.\n            throw new Error(\"Unrecognized object: \".concat(Object.prototype.toString.apply(object)));\n        }\n    };\n    Encoder.prototype.encodeBinary = function (object) {\n        var size = object.byteLength;\n        if (size < 0x100) {\n            // bin 8\n            this.writeU8(0xc4);\n            this.writeU8(size);\n        }\n        else if (size < 0x10000) {\n            // bin 16\n            this.writeU8(0xc5);\n            this.writeU16(size);\n        }\n        else if (size < 0x100000000) {\n            // bin 32\n            this.writeU8(0xc6);\n            this.writeU32(size);\n        }\n        else {\n            throw new Error(\"Too large binary: \".concat(size));\n        }\n        var bytes = ensureUint8Array(object);\n        this.writeU8a(bytes);\n    };\n    Encoder.prototype.encodeArray = function (object, depth) {\n        var size = object.length;\n        if (size < 16) {\n            // fixarray\n            this.writeU8(0x90 + size);\n        }\n        else if (size < 0x10000) {\n            // array 16\n            this.writeU8(0xdc);\n            this.writeU16(size);\n        }\n        else if (size < 0x100000000) {\n            // array 32\n            this.writeU8(0xdd);\n            this.writeU32(size);\n        }\n        else {\n            throw new Error(\"Too large array: \".concat(size));\n        }\n        for (var _i = 0, object_1 = object; _i < object_1.length; _i++) {\n            var item = object_1[_i];\n            this.doEncode(item, depth + 1);\n        }\n    };\n    Encoder.prototype.countWithoutUndefined = function (object, keys) {\n        var count = 0;\n        for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n            var key = keys_1[_i];\n            if (object[key] !== undefined) {\n                count++;\n            }\n        }\n        return count;\n    };\n    Encoder.prototype.encodeMap = function (object, depth) {\n        var keys = Object.keys(object);\n        if (this.sortKeys) {\n            keys.sort();\n        }\n        var size = this.ignoreUndefined ? this.countWithoutUndefined(object, keys) : keys.length;\n        if (size < 16) {\n            // fixmap\n            this.writeU8(0x80 + size);\n        }\n        else if (size < 0x10000) {\n            // map 16\n            this.writeU8(0xde);\n            this.writeU16(size);\n        }\n        else if (size < 0x100000000) {\n            // map 32\n            this.writeU8(0xdf);\n            this.writeU32(size);\n        }\n        else {\n            throw new Error(\"Too large map object: \".concat(size));\n        }\n        for (var _i = 0, keys_2 = keys; _i < keys_2.length; _i++) {\n            var key = keys_2[_i];\n            var value = object[key];\n            if (!(this.ignoreUndefined && value === undefined)) {\n                this.encodeString(key);\n                this.doEncode(value, depth + 1);\n            }\n        }\n    };\n    Encoder.prototype.encodeExtension = function (ext) {\n        var size = ext.data.length;\n        if (size === 1) {\n            // fixext 1\n            this.writeU8(0xd4);\n        }\n        else if (size === 2) {\n            // fixext 2\n            this.writeU8(0xd5);\n        }\n        else if (size === 4) {\n            // fixext 4\n            this.writeU8(0xd6);\n        }\n        else if (size === 8) {\n            // fixext 8\n            this.writeU8(0xd7);\n        }\n        else if (size === 16) {\n            // fixext 16\n            this.writeU8(0xd8);\n        }\n        else if (size < 0x100) {\n            // ext 8\n            this.writeU8(0xc7);\n            this.writeU8(size);\n        }\n        else if (size < 0x10000) {\n            // ext 16\n            this.writeU8(0xc8);\n            this.writeU16(size);\n        }\n        else if (size < 0x100000000) {\n            // ext 32\n            this.writeU8(0xc9);\n            this.writeU32(size);\n        }\n        else {\n            throw new Error(\"Too large extension object: \".concat(size));\n        }\n        this.writeI8(ext.type);\n        this.writeU8a(ext.data);\n    };\n    Encoder.prototype.writeU8 = function (value) {\n        this.ensureBufferSizeToWrite(1);\n        this.view.setUint8(this.pos, value);\n        this.pos++;\n    };\n    Encoder.prototype.writeU8a = function (values) {\n        var size = values.length;\n        this.ensureBufferSizeToWrite(size);\n        this.bytes.set(values, this.pos);\n        this.pos += size;\n    };\n    Encoder.prototype.writeI8 = function (value) {\n        this.ensureBufferSizeToWrite(1);\n        this.view.setInt8(this.pos, value);\n        this.pos++;\n    };\n    Encoder.prototype.writeU16 = function (value) {\n        this.ensureBufferSizeToWrite(2);\n        this.view.setUint16(this.pos, value);\n        this.pos += 2;\n    };\n    Encoder.prototype.writeI16 = function (value) {\n        this.ensureBufferSizeToWrite(2);\n        this.view.setInt16(this.pos, value);\n        this.pos += 2;\n    };\n    Encoder.prototype.writeU32 = function (value) {\n        this.ensureBufferSizeToWrite(4);\n        this.view.setUint32(this.pos, value);\n        this.pos += 4;\n    };\n    Encoder.prototype.writeI32 = function (value) {\n        this.ensureBufferSizeToWrite(4);\n        this.view.setInt32(this.pos, value);\n        this.pos += 4;\n    };\n    Encoder.prototype.writeF32 = function (value) {\n        this.ensureBufferSizeToWrite(4);\n        this.view.setFloat32(this.pos, value);\n        this.pos += 4;\n    };\n    Encoder.prototype.writeF64 = function (value) {\n        this.ensureBufferSizeToWrite(8);\n        this.view.setFloat64(this.pos, value);\n        this.pos += 8;\n    };\n    Encoder.prototype.writeU64 = function (value) {\n        this.ensureBufferSizeToWrite(8);\n        setUint64(this.view, this.pos, value);\n        this.pos += 8;\n    };\n    Encoder.prototype.writeI64 = function (value) {\n        this.ensureBufferSizeToWrite(8);\n        setInt64(this.view, this.pos, value);\n        this.pos += 8;\n    };\n    return Encoder;\n}());\nexport { Encoder };\n//# sourceMappingURL=Encoder.mjs.map","export function prettyByte(byte) {\n    return \"\".concat(byte < 0 ? \"-\" : \"\", \"0x\").concat(Math.abs(byte).toString(16).padStart(2, \"0\"));\n}\n//# sourceMappingURL=prettyByte.mjs.map","import { utf8DecodeJs } from \"./utils/utf8.mjs\";\nvar DEFAULT_MAX_KEY_LENGTH = 16;\nvar DEFAULT_MAX_LENGTH_PER_KEY = 16;\nvar CachedKeyDecoder = /** @class */ (function () {\n    function CachedKeyDecoder(maxKeyLength, maxLengthPerKey) {\n        if (maxKeyLength === void 0) { maxKeyLength = DEFAULT_MAX_KEY_LENGTH; }\n        if (maxLengthPerKey === void 0) { maxLengthPerKey = DEFAULT_MAX_LENGTH_PER_KEY; }\n        this.maxKeyLength = maxKeyLength;\n        this.maxLengthPerKey = maxLengthPerKey;\n        this.hit = 0;\n        this.miss = 0;\n        // avoid `new Array(N)`, which makes a sparse array,\n        // because a sparse array is typically slower than a non-sparse array.\n        this.caches = [];\n        for (var i = 0; i < this.maxKeyLength; i++) {\n            this.caches.push([]);\n        }\n    }\n    CachedKeyDecoder.prototype.canBeCached = function (byteLength) {\n        return byteLength > 0 && byteLength <= this.maxKeyLength;\n    };\n    CachedKeyDecoder.prototype.find = function (bytes, inputOffset, byteLength) {\n        var records = this.caches[byteLength - 1];\n        FIND_CHUNK: for (var _i = 0, records_1 = records; _i < records_1.length; _i++) {\n            var record = records_1[_i];\n            var recordBytes = record.bytes;\n            for (var j = 0; j < byteLength; j++) {\n                if (recordBytes[j] !== bytes[inputOffset + j]) {\n                    continue FIND_CHUNK;\n                }\n            }\n            return record.str;\n        }\n        return null;\n    };\n    CachedKeyDecoder.prototype.store = function (bytes, value) {\n        var records = this.caches[bytes.length - 1];\n        var record = { bytes: bytes, str: value };\n        if (records.length >= this.maxLengthPerKey) {\n            // `records` are full!\n            // Set `record` to an arbitrary position.\n            records[(Math.random() * records.length) | 0] = record;\n        }\n        else {\n            records.push(record);\n        }\n    };\n    CachedKeyDecoder.prototype.decode = function (bytes, inputOffset, byteLength) {\n        var cachedValue = this.find(bytes, inputOffset, byteLength);\n        if (cachedValue != null) {\n            this.hit++;\n            return cachedValue;\n        }\n        this.miss++;\n        var str = utf8DecodeJs(bytes, inputOffset, byteLength);\n        // Ensure to copy a slice of bytes because the byte may be NodeJS Buffer and Buffer#slice() returns a reference to its internal ArrayBuffer.\n        var slicedCopyOfBytes = Uint8Array.prototype.slice.call(bytes, inputOffset, inputOffset + byteLength);\n        this.store(slicedCopyOfBytes, str);\n        return str;\n    };\n    return CachedKeyDecoder;\n}());\nexport { CachedKeyDecoder };\n//# sourceMappingURL=CachedKeyDecoder.mjs.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __asyncValues = (this && this.__asyncValues) || function (o) {\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n    var m = o[Symbol.asyncIterator], i;\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n};\nvar __await = (this && this.__await) || function (v) { return this instanceof __await ? (this.v = v, this) : new __await(v); }\nvar __asyncGenerator = (this && this.__asyncGenerator) || function (thisArg, _arguments, generator) {\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n    function fulfill(value) { resume(\"next\", value); }\n    function reject(value) { resume(\"throw\", value); }\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n};\nimport { prettyByte } from \"./utils/prettyByte.mjs\";\nimport { ExtensionCodec } from \"./ExtensionCodec.mjs\";\nimport { getInt64, getUint64, UINT32_MAX } from \"./utils/int.mjs\";\nimport { utf8DecodeJs, TEXT_DECODER_THRESHOLD, utf8DecodeTD } from \"./utils/utf8.mjs\";\nimport { createDataView, ensureUint8Array } from \"./utils/typedArrays.mjs\";\nimport { CachedKeyDecoder } from \"./CachedKeyDecoder.mjs\";\nimport { DecodeError } from \"./DecodeError.mjs\";\nvar isValidMapKeyType = function (key) {\n    var keyType = typeof key;\n    return keyType === \"string\" || keyType === \"number\";\n};\nvar HEAD_BYTE_REQUIRED = -1;\nvar EMPTY_VIEW = new DataView(new ArrayBuffer(0));\nvar EMPTY_BYTES = new Uint8Array(EMPTY_VIEW.buffer);\n// IE11: Hack to support IE11.\n// IE11: Drop this hack and just use RangeError when IE11 is obsolete.\nexport var DataViewIndexOutOfBoundsError = (function () {\n    try {\n        // IE11: The spec says it should throw RangeError,\n        // IE11: but in IE11 it throws TypeError.\n        EMPTY_VIEW.getInt8(0);\n    }\n    catch (e) {\n        return e.constructor;\n    }\n    throw new Error(\"never reached\");\n})();\nvar MORE_DATA = new DataViewIndexOutOfBoundsError(\"Insufficient data\");\nvar sharedCachedKeyDecoder = new CachedKeyDecoder();\nvar Decoder = /** @class */ (function () {\n    function Decoder(extensionCodec, context, maxStrLength, maxBinLength, maxArrayLength, maxMapLength, maxExtLength, keyDecoder) {\n        if (extensionCodec === void 0) { extensionCodec = ExtensionCodec.defaultCodec; }\n        if (context === void 0) { context = undefined; }\n        if (maxStrLength === void 0) { maxStrLength = UINT32_MAX; }\n        if (maxBinLength === void 0) { maxBinLength = UINT32_MAX; }\n        if (maxArrayLength === void 0) { maxArrayLength = UINT32_MAX; }\n        if (maxMapLength === void 0) { maxMapLength = UINT32_MAX; }\n        if (maxExtLength === void 0) { maxExtLength = UINT32_MAX; }\n        if (keyDecoder === void 0) { keyDecoder = sharedCachedKeyDecoder; }\n        this.extensionCodec = extensionCodec;\n        this.context = context;\n        this.maxStrLength = maxStrLength;\n        this.maxBinLength = maxBinLength;\n        this.maxArrayLength = maxArrayLength;\n        this.maxMapLength = maxMapLength;\n        this.maxExtLength = maxExtLength;\n        this.keyDecoder = keyDecoder;\n        this.totalPos = 0;\n        this.pos = 0;\n        this.view = EMPTY_VIEW;\n        this.bytes = EMPTY_BYTES;\n        this.headByte = HEAD_BYTE_REQUIRED;\n        this.stack = [];\n    }\n    Decoder.prototype.reinitializeState = function () {\n        this.totalPos = 0;\n        this.headByte = HEAD_BYTE_REQUIRED;\n        this.stack.length = 0;\n        // view, bytes, and pos will be re-initialized in setBuffer()\n    };\n    Decoder.prototype.setBuffer = function (buffer) {\n        this.bytes = ensureUint8Array(buffer);\n        this.view = createDataView(this.bytes);\n        this.pos = 0;\n    };\n    Decoder.prototype.appendBuffer = function (buffer) {\n        if (this.headByte === HEAD_BYTE_REQUIRED && !this.hasRemaining(1)) {\n            this.setBuffer(buffer);\n        }\n        else {\n            var remainingData = this.bytes.subarray(this.pos);\n            var newData = ensureUint8Array(buffer);\n            // concat remainingData + newData\n            var newBuffer = new Uint8Array(remainingData.length + newData.length);\n            newBuffer.set(remainingData);\n            newBuffer.set(newData, remainingData.length);\n            this.setBuffer(newBuffer);\n        }\n    };\n    Decoder.prototype.hasRemaining = function (size) {\n        return this.view.byteLength - this.pos >= size;\n    };\n    Decoder.prototype.createExtraByteError = function (posToShow) {\n        var _a = this, view = _a.view, pos = _a.pos;\n        return new RangeError(\"Extra \".concat(view.byteLength - pos, \" of \").concat(view.byteLength, \" byte(s) found at buffer[\").concat(posToShow, \"]\"));\n    };\n    /**\n     * @throws {@link DecodeError}\n     * @throws {@link RangeError}\n     */\n    Decoder.prototype.decode = function (buffer) {\n        this.reinitializeState();\n        this.setBuffer(buffer);\n        var object = this.doDecodeSync();\n        if (this.hasRemaining(1)) {\n            throw this.createExtraByteError(this.pos);\n        }\n        return object;\n    };\n    Decoder.prototype.decodeMulti = function (buffer) {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    this.reinitializeState();\n                    this.setBuffer(buffer);\n                    _a.label = 1;\n                case 1:\n                    if (!this.hasRemaining(1)) return [3 /*break*/, 3];\n                    return [4 /*yield*/, this.doDecodeSync()];\n                case 2:\n                    _a.sent();\n                    return [3 /*break*/, 1];\n                case 3: return [2 /*return*/];\n            }\n        });\n    };\n    Decoder.prototype.decodeAsync = function (stream) {\n        var stream_1, stream_1_1;\n        var e_1, _a;\n        return __awaiter(this, void 0, void 0, function () {\n            var decoded, object, buffer, e_1_1, _b, headByte, pos, totalPos;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        decoded = false;\n                        _c.label = 1;\n                    case 1:\n                        _c.trys.push([1, 6, 7, 12]);\n                        stream_1 = __asyncValues(stream);\n                        _c.label = 2;\n                    case 2: return [4 /*yield*/, stream_1.next()];\n                    case 3:\n                        if (!(stream_1_1 = _c.sent(), !stream_1_1.done)) return [3 /*break*/, 5];\n                        buffer = stream_1_1.value;\n                        if (decoded) {\n                            throw this.createExtraByteError(this.totalPos);\n                        }\n                        this.appendBuffer(buffer);\n                        try {\n                            object = this.doDecodeSync();\n                            decoded = true;\n                        }\n                        catch (e) {\n                            if (!(e instanceof DataViewIndexOutOfBoundsError)) {\n                                throw e; // rethrow\n                            }\n                            // fallthrough\n                        }\n                        this.totalPos += this.pos;\n                        _c.label = 4;\n                    case 4: return [3 /*break*/, 2];\n                    case 5: return [3 /*break*/, 12];\n                    case 6:\n                        e_1_1 = _c.sent();\n                        e_1 = { error: e_1_1 };\n                        return [3 /*break*/, 12];\n                    case 7:\n                        _c.trys.push([7, , 10, 11]);\n                        if (!(stream_1_1 && !stream_1_1.done && (_a = stream_1.return))) return [3 /*break*/, 9];\n                        return [4 /*yield*/, _a.call(stream_1)];\n                    case 8:\n                        _c.sent();\n                        _c.label = 9;\n                    case 9: return [3 /*break*/, 11];\n                    case 10:\n                        if (e_1) throw e_1.error;\n                        return [7 /*endfinally*/];\n                    case 11: return [7 /*endfinally*/];\n                    case 12:\n                        if (decoded) {\n                            if (this.hasRemaining(1)) {\n                                throw this.createExtraByteError(this.totalPos);\n                            }\n                            return [2 /*return*/, object];\n                        }\n                        _b = this, headByte = _b.headByte, pos = _b.pos, totalPos = _b.totalPos;\n                        throw new RangeError(\"Insufficient data in parsing \".concat(prettyByte(headByte), \" at \").concat(totalPos, \" (\").concat(pos, \" in the current buffer)\"));\n                }\n            });\n        });\n    };\n    Decoder.prototype.decodeArrayStream = function (stream) {\n        return this.decodeMultiAsync(stream, true);\n    };\n    Decoder.prototype.decodeStream = function (stream) {\n        return this.decodeMultiAsync(stream, false);\n    };\n    Decoder.prototype.decodeMultiAsync = function (stream, isArray) {\n        return __asyncGenerator(this, arguments, function decodeMultiAsync_1() {\n            var isArrayHeaderRequired, arrayItemsLeft, stream_2, stream_2_1, buffer, e_2, e_3_1;\n            var e_3, _a;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        isArrayHeaderRequired = isArray;\n                        arrayItemsLeft = -1;\n                        _b.label = 1;\n                    case 1:\n                        _b.trys.push([1, 13, 14, 19]);\n                        stream_2 = __asyncValues(stream);\n                        _b.label = 2;\n                    case 2: return [4 /*yield*/, __await(stream_2.next())];\n                    case 3:\n                        if (!(stream_2_1 = _b.sent(), !stream_2_1.done)) return [3 /*break*/, 12];\n                        buffer = stream_2_1.value;\n                        if (isArray && arrayItemsLeft === 0) {\n                            throw this.createExtraByteError(this.totalPos);\n                        }\n                        this.appendBuffer(buffer);\n                        if (isArrayHeaderRequired) {\n                            arrayItemsLeft = this.readArraySize();\n                            isArrayHeaderRequired = false;\n                            this.complete();\n                        }\n                        _b.label = 4;\n                    case 4:\n                        _b.trys.push([4, 9, , 10]);\n                        _b.label = 5;\n                    case 5:\n                        if (!true) return [3 /*break*/, 8];\n                        return [4 /*yield*/, __await(this.doDecodeSync())];\n                    case 6: return [4 /*yield*/, _b.sent()];\n                    case 7:\n                        _b.sent();\n                        if (--arrayItemsLeft === 0) {\n                            return [3 /*break*/, 8];\n                        }\n                        return [3 /*break*/, 5];\n                    case 8: return [3 /*break*/, 10];\n                    case 9:\n                        e_2 = _b.sent();\n                        if (!(e_2 instanceof DataViewIndexOutOfBoundsError)) {\n                            throw e_2; // rethrow\n                        }\n                        return [3 /*break*/, 10];\n                    case 10:\n                        this.totalPos += this.pos;\n                        _b.label = 11;\n                    case 11: return [3 /*break*/, 2];\n                    case 12: return [3 /*break*/, 19];\n                    case 13:\n                        e_3_1 = _b.sent();\n                        e_3 = { error: e_3_1 };\n                        return [3 /*break*/, 19];\n                    case 14:\n                        _b.trys.push([14, , 17, 18]);\n                        if (!(stream_2_1 && !stream_2_1.done && (_a = stream_2.return))) return [3 /*break*/, 16];\n                        return [4 /*yield*/, __await(_a.call(stream_2))];\n                    case 15:\n                        _b.sent();\n                        _b.label = 16;\n                    case 16: return [3 /*break*/, 18];\n                    case 17:\n                        if (e_3) throw e_3.error;\n                        return [7 /*endfinally*/];\n                    case 18: return [7 /*endfinally*/];\n                    case 19: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Decoder.prototype.doDecodeSync = function () {\n        DECODE: while (true) {\n            var headByte = this.readHeadByte();\n            var object = void 0;\n            if (headByte >= 0xe0) {\n                // negative fixint (111x xxxx) 0xe0 - 0xff\n                object = headByte - 0x100;\n            }\n            else if (headByte < 0xc0) {\n                if (headByte < 0x80) {\n                    // positive fixint (0xxx xxxx) 0x00 - 0x7f\n                    object = headByte;\n                }\n                else if (headByte < 0x90) {\n                    // fixmap (1000 xxxx) 0x80 - 0x8f\n                    var size = headByte - 0x80;\n                    if (size !== 0) {\n                        this.pushMapState(size);\n                        this.complete();\n                        continue DECODE;\n                    }\n                    else {\n                        object = {};\n                    }\n                }\n                else if (headByte < 0xa0) {\n                    // fixarray (1001 xxxx) 0x90 - 0x9f\n                    var size = headByte - 0x90;\n                    if (size !== 0) {\n                        this.pushArrayState(size);\n                        this.complete();\n                        continue DECODE;\n                    }\n                    else {\n                        object = [];\n                    }\n                }\n                else {\n                    // fixstr (101x xxxx) 0xa0 - 0xbf\n                    var byteLength = headByte - 0xa0;\n                    object = this.decodeUtf8String(byteLength, 0);\n                }\n            }\n            else if (headByte === 0xc0) {\n                // nil\n                object = null;\n            }\n            else if (headByte === 0xc2) {\n                // false\n                object = false;\n            }\n            else if (headByte === 0xc3) {\n                // true\n                object = true;\n            }\n            else if (headByte === 0xca) {\n                // float 32\n                object = this.readF32();\n            }\n            else if (headByte === 0xcb) {\n                // float 64\n                object = this.readF64();\n            }\n            else if (headByte === 0xcc) {\n                // uint 8\n                object = this.readU8();\n            }\n            else if (headByte === 0xcd) {\n                // uint 16\n                object = this.readU16();\n            }\n            else if (headByte === 0xce) {\n                // uint 32\n                object = this.readU32();\n            }\n            else if (headByte === 0xcf) {\n                // uint 64\n                object = this.readU64();\n            }\n            else if (headByte === 0xd0) {\n                // int 8\n                object = this.readI8();\n            }\n            else if (headByte === 0xd1) {\n                // int 16\n                object = this.readI16();\n            }\n            else if (headByte === 0xd2) {\n                // int 32\n                object = this.readI32();\n            }\n            else if (headByte === 0xd3) {\n                // int 64\n                object = this.readI64();\n            }\n            else if (headByte === 0xd9) {\n                // str 8\n                var byteLength = this.lookU8();\n                object = this.decodeUtf8String(byteLength, 1);\n            }\n            else if (headByte === 0xda) {\n                // str 16\n                var byteLength = this.lookU16();\n                object = this.decodeUtf8String(byteLength, 2);\n            }\n            else if (headByte === 0xdb) {\n                // str 32\n                var byteLength = this.lookU32();\n                object = this.decodeUtf8String(byteLength, 4);\n            }\n            else if (headByte === 0xdc) {\n                // array 16\n                var size = this.readU16();\n                if (size !== 0) {\n                    this.pushArrayState(size);\n                    this.complete();\n                    continue DECODE;\n                }\n                else {\n                    object = [];\n                }\n            }\n            else if (headByte === 0xdd) {\n                // array 32\n                var size = this.readU32();\n                if (size !== 0) {\n                    this.pushArrayState(size);\n                    this.complete();\n                    continue DECODE;\n                }\n                else {\n                    object = [];\n                }\n            }\n            else if (headByte === 0xde) {\n                // map 16\n                var size = this.readU16();\n                if (size !== 0) {\n                    this.pushMapState(size);\n                    this.complete();\n                    continue DECODE;\n                }\n                else {\n                    object = {};\n                }\n            }\n            else if (headByte === 0xdf) {\n                // map 32\n                var size = this.readU32();\n                if (size !== 0) {\n                    this.pushMapState(size);\n                    this.complete();\n                    continue DECODE;\n                }\n                else {\n                    object = {};\n                }\n            }\n            else if (headByte === 0xc4) {\n                // bin 8\n                var size = this.lookU8();\n                object = this.decodeBinary(size, 1);\n            }\n            else if (headByte === 0xc5) {\n                // bin 16\n                var size = this.lookU16();\n                object = this.decodeBinary(size, 2);\n            }\n            else if (headByte === 0xc6) {\n                // bin 32\n                var size = this.lookU32();\n                object = this.decodeBinary(size, 4);\n            }\n            else if (headByte === 0xd4) {\n                // fixext 1\n                object = this.decodeExtension(1, 0);\n            }\n            else if (headByte === 0xd5) {\n                // fixext 2\n                object = this.decodeExtension(2, 0);\n            }\n            else if (headByte === 0xd6) {\n                // fixext 4\n                object = this.decodeExtension(4, 0);\n            }\n            else if (headByte === 0xd7) {\n                // fixext 8\n                object = this.decodeExtension(8, 0);\n            }\n            else if (headByte === 0xd8) {\n                // fixext 16\n                object = this.decodeExtension(16, 0);\n            }\n            else if (headByte === 0xc7) {\n                // ext 8\n                var size = this.lookU8();\n                object = this.decodeExtension(size, 1);\n            }\n            else if (headByte === 0xc8) {\n                // ext 16\n                var size = this.lookU16();\n                object = this.decodeExtension(size, 2);\n            }\n            else if (headByte === 0xc9) {\n                // ext 32\n                var size = this.lookU32();\n                object = this.decodeExtension(size, 4);\n            }\n            else {\n                throw new DecodeError(\"Unrecognized type byte: \".concat(prettyByte(headByte)));\n            }\n            this.complete();\n            var stack = this.stack;\n            while (stack.length > 0) {\n                // arrays and maps\n                var state = stack[stack.length - 1];\n                if (state.type === 0 /* State.ARRAY */) {\n                    state.array[state.position] = object;\n                    state.position++;\n                    if (state.position === state.size) {\n                        stack.pop();\n                        object = state.array;\n                    }\n                    else {\n                        continue DECODE;\n                    }\n                }\n                else if (state.type === 1 /* State.MAP_KEY */) {\n                    if (!isValidMapKeyType(object)) {\n                        throw new DecodeError(\"The type of key must be string or number but \" + typeof object);\n                    }\n                    if (object === \"__proto__\") {\n                        throw new DecodeError(\"The key __proto__ is not allowed\");\n                    }\n                    state.key = object;\n                    state.type = 2 /* State.MAP_VALUE */;\n                    continue DECODE;\n                }\n                else {\n                    // it must be `state.type === State.MAP_VALUE` here\n                    state.map[state.key] = object;\n                    state.readCount++;\n                    if (state.readCount === state.size) {\n                        stack.pop();\n                        object = state.map;\n                    }\n                    else {\n                        state.key = null;\n                        state.type = 1 /* State.MAP_KEY */;\n                        continue DECODE;\n                    }\n                }\n            }\n            return object;\n        }\n    };\n    Decoder.prototype.readHeadByte = function () {\n        if (this.headByte === HEAD_BYTE_REQUIRED) {\n            this.headByte = this.readU8();\n            // console.log(\"headByte\", prettyByte(this.headByte));\n        }\n        return this.headByte;\n    };\n    Decoder.prototype.complete = function () {\n        this.headByte = HEAD_BYTE_REQUIRED;\n    };\n    Decoder.prototype.readArraySize = function () {\n        var headByte = this.readHeadByte();\n        switch (headByte) {\n            case 0xdc:\n                return this.readU16();\n            case 0xdd:\n                return this.readU32();\n            default: {\n                if (headByte < 0xa0) {\n                    return headByte - 0x90;\n                }\n                else {\n                    throw new DecodeError(\"Unrecognized array type byte: \".concat(prettyByte(headByte)));\n                }\n            }\n        }\n    };\n    Decoder.prototype.pushMapState = function (size) {\n        if (size > this.maxMapLength) {\n            throw new DecodeError(\"Max length exceeded: map length (\".concat(size, \") > maxMapLengthLength (\").concat(this.maxMapLength, \")\"));\n        }\n        this.stack.push({\n            type: 1 /* State.MAP_KEY */,\n            size: size,\n            key: null,\n            readCount: 0,\n            map: {},\n        });\n    };\n    Decoder.prototype.pushArrayState = function (size) {\n        if (size > this.maxArrayLength) {\n            throw new DecodeError(\"Max length exceeded: array length (\".concat(size, \") > maxArrayLength (\").concat(this.maxArrayLength, \")\"));\n        }\n        this.stack.push({\n            type: 0 /* State.ARRAY */,\n            size: size,\n            array: new Array(size),\n            position: 0,\n        });\n    };\n    Decoder.prototype.decodeUtf8String = function (byteLength, headerOffset) {\n        var _a;\n        if (byteLength > this.maxStrLength) {\n            throw new DecodeError(\"Max length exceeded: UTF-8 byte length (\".concat(byteLength, \") > maxStrLength (\").concat(this.maxStrLength, \")\"));\n        }\n        if (this.bytes.byteLength < this.pos + headerOffset + byteLength) {\n            throw MORE_DATA;\n        }\n        var offset = this.pos + headerOffset;\n        var object;\n        if (this.stateIsMapKey() && ((_a = this.keyDecoder) === null || _a === void 0 ? void 0 : _a.canBeCached(byteLength))) {\n            object = this.keyDecoder.decode(this.bytes, offset, byteLength);\n        }\n        else if (byteLength > TEXT_DECODER_THRESHOLD) {\n            object = utf8DecodeTD(this.bytes, offset, byteLength);\n        }\n        else {\n            object = utf8DecodeJs(this.bytes, offset, byteLength);\n        }\n        this.pos += headerOffset + byteLength;\n        return object;\n    };\n    Decoder.prototype.stateIsMapKey = function () {\n        if (this.stack.length > 0) {\n            var state = this.stack[this.stack.length - 1];\n            return state.type === 1 /* State.MAP_KEY */;\n        }\n        return false;\n    };\n    Decoder.prototype.decodeBinary = function (byteLength, headOffset) {\n        if (byteLength > this.maxBinLength) {\n            throw new DecodeError(\"Max length exceeded: bin length (\".concat(byteLength, \") > maxBinLength (\").concat(this.maxBinLength, \")\"));\n        }\n        if (!this.hasRemaining(byteLength + headOffset)) {\n            throw MORE_DATA;\n        }\n        var offset = this.pos + headOffset;\n        var object = this.bytes.subarray(offset, offset + byteLength);\n        this.pos += headOffset + byteLength;\n        return object;\n    };\n    Decoder.prototype.decodeExtension = function (size, headOffset) {\n        if (size > this.maxExtLength) {\n            throw new DecodeError(\"Max length exceeded: ext length (\".concat(size, \") > maxExtLength (\").concat(this.maxExtLength, \")\"));\n        }\n        var extType = this.view.getInt8(this.pos + headOffset);\n        var data = this.decodeBinary(size, headOffset + 1 /* extType */);\n        return this.extensionCodec.decode(data, extType, this.context);\n    };\n    Decoder.prototype.lookU8 = function () {\n        return this.view.getUint8(this.pos);\n    };\n    Decoder.prototype.lookU16 = function () {\n        return this.view.getUint16(this.pos);\n    };\n    Decoder.prototype.lookU32 = function () {\n        return this.view.getUint32(this.pos);\n    };\n    Decoder.prototype.readU8 = function () {\n        var value = this.view.getUint8(this.pos);\n        this.pos++;\n        return value;\n    };\n    Decoder.prototype.readI8 = function () {\n        var value = this.view.getInt8(this.pos);\n        this.pos++;\n        return value;\n    };\n    Decoder.prototype.readU16 = function () {\n        var value = this.view.getUint16(this.pos);\n        this.pos += 2;\n        return value;\n    };\n    Decoder.prototype.readI16 = function () {\n        var value = this.view.getInt16(this.pos);\n        this.pos += 2;\n        return value;\n    };\n    Decoder.prototype.readU32 = function () {\n        var value = this.view.getUint32(this.pos);\n        this.pos += 4;\n        return value;\n    };\n    Decoder.prototype.readI32 = function () {\n        var value = this.view.getInt32(this.pos);\n        this.pos += 4;\n        return value;\n    };\n    Decoder.prototype.readU64 = function () {\n        var value = getUint64(this.view, this.pos);\n        this.pos += 8;\n        return value;\n    };\n    Decoder.prototype.readI64 = function () {\n        var value = getInt64(this.view, this.pos);\n        this.pos += 8;\n        return value;\n    };\n    Decoder.prototype.readF32 = function () {\n        var value = this.view.getFloat32(this.pos);\n        this.pos += 4;\n        return value;\n    };\n    Decoder.prototype.readF64 = function () {\n        var value = this.view.getFloat64(this.pos);\n        this.pos += 8;\n        return value;\n    };\n    return Decoder;\n}());\nexport { Decoder };\n//# sourceMappingURL=Decoder.mjs.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\n// Not exported from index.\r\n/** @private */\r\nexport class BinaryMessageFormat {\r\n    // The length prefix of binary messages is encoded as VarInt. Read the comment in\r\n    // the BinaryMessageParser.TryParseMessage for details.\r\n    static write(output) {\r\n        let size = output.byteLength || output.length;\r\n        const lenBuffer = [];\r\n        do {\r\n            let sizePart = size & 0x7f;\r\n            size = size >> 7;\r\n            if (size > 0) {\r\n                sizePart |= 0x80;\r\n            }\r\n            lenBuffer.push(sizePart);\r\n        } while (size > 0);\r\n        size = output.byteLength || output.length;\r\n        const buffer = new Uint8Array(lenBuffer.length + size);\r\n        buffer.set(lenBuffer, 0);\r\n        buffer.set(output, lenBuffer.length);\r\n        return buffer.buffer;\r\n    }\r\n    static parse(input) {\r\n        const result = [];\r\n        const uint8Array = new Uint8Array(input);\r\n        const maxLengthPrefixSize = 5;\r\n        const numBitsToShift = [0, 7, 14, 21, 28];\r\n        for (let offset = 0; offset < input.byteLength;) {\r\n            let numBytes = 0;\r\n            let size = 0;\r\n            let byteRead;\r\n            do {\r\n                byteRead = uint8Array[offset + numBytes];\r\n                size = size | ((byteRead & 0x7f) << (numBitsToShift[numBytes]));\r\n                numBytes++;\r\n            } while (numBytes < Math.min(maxLengthPrefixSize, input.byteLength - offset) && (byteRead & 0x80) !== 0);\r\n            if ((byteRead & 0x80) !== 0 && numBytes < maxLengthPrefixSize) {\r\n                throw new Error(\"Cannot read message size.\");\r\n            }\r\n            if (numBytes === maxLengthPrefixSize && byteRead > 7) {\r\n                throw new Error(\"Messages bigger than 2GB are not supported.\");\r\n            }\r\n            if (uint8Array.byteLength >= (offset + numBytes + size)) {\r\n                // IE does not support .slice() so use subarray\r\n                result.push(uint8Array.slice\r\n                    ? uint8Array.slice(offset + numBytes, offset + numBytes + size)\r\n                    : uint8Array.subarray(offset + numBytes, offset + numBytes + size));\r\n            }\r\n            else {\r\n                throw new Error(\"Incomplete message.\");\r\n            }\r\n            offset = offset + numBytes + size;\r\n        }\r\n        return result;\r\n    }\r\n}\r\n//# sourceMappingURL=BinaryMessageFormat.js.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\nimport { Encoder, Decoder } from \"@msgpack/msgpack\";\r\nimport { LogLevel, MessageType, NullLogger, TransferFormat, } from \"@microsoft/signalr\";\r\nimport { BinaryMessageFormat } from \"./BinaryMessageFormat\";\r\nimport { isArrayBuffer } from \"./Utils\";\r\n// TypeDoc's @inheritDoc and @link don't work across modules :(\r\n// constant encoding of the ping message\r\n// see: https://github.com/aspnet/SignalR/blob/dev/specs/HubProtocol.md#ping-message-encoding-1\r\n// Don't use Uint8Array.from as IE does not support it\r\nconst SERIALIZED_PING_MESSAGE = new Uint8Array([0x91, MessageType.Ping]);\r\n/** Implements the MessagePack Hub Protocol */\r\nexport class MessagePackHubProtocol {\r\n    /**\r\n     *\r\n     * @param messagePackOptions MessagePack options passed to @msgpack/msgpack\r\n     */\r\n    constructor(messagePackOptions) {\r\n        /** The name of the protocol. This is used by SignalR to resolve the protocol between the client and server. */\r\n        this.name = \"messagepack\";\r\n        /** The version of the protocol. */\r\n        this.version = 2;\r\n        /** The TransferFormat of the protocol. */\r\n        this.transferFormat = TransferFormat.Binary;\r\n        this._errorResult = 1;\r\n        this._voidResult = 2;\r\n        this._nonVoidResult = 3;\r\n        messagePackOptions = messagePackOptions || {};\r\n        this._encoder = new Encoder(messagePackOptions.extensionCodec, messagePackOptions.context, messagePackOptions.maxDepth, messagePackOptions.initialBufferSize, messagePackOptions.sortKeys, messagePackOptions.forceFloat32, messagePackOptions.ignoreUndefined, messagePackOptions.forceIntegerToFloat);\r\n        this._decoder = new Decoder(messagePackOptions.extensionCodec, messagePackOptions.context, messagePackOptions.maxStrLength, messagePackOptions.maxBinLength, messagePackOptions.maxArrayLength, messagePackOptions.maxMapLength, messagePackOptions.maxExtLength);\r\n    }\r\n    /** Creates an array of HubMessage objects from the specified serialized representation.\r\n     *\r\n     * @param {ArrayBuffer} input An ArrayBuffer containing the serialized representation.\r\n     * @param {ILogger} logger A logger that will be used to log messages that occur during parsing.\r\n     */\r\n    parseMessages(input, logger) {\r\n        // The interface does allow \"string\" to be passed in, but this implementation does not. So let's throw a useful error.\r\n        if (!(isArrayBuffer(input))) {\r\n            throw new Error(\"Invalid input for MessagePack hub protocol. Expected an ArrayBuffer.\");\r\n        }\r\n        if (logger === null) {\r\n            logger = NullLogger.instance;\r\n        }\r\n        const messages = BinaryMessageFormat.parse(input);\r\n        const hubMessages = [];\r\n        for (const message of messages) {\r\n            const parsedMessage = this._parseMessage(message, logger);\r\n            // Can be null for an unknown message. Unknown message is logged in parseMessage\r\n            if (parsedMessage) {\r\n                hubMessages.push(parsedMessage);\r\n            }\r\n        }\r\n        return hubMessages;\r\n    }\r\n    /** Writes the specified HubMessage to an ArrayBuffer and returns it.\r\n     *\r\n     * @param {HubMessage} message The message to write.\r\n     * @returns {ArrayBuffer} An ArrayBuffer containing the serialized representation of the message.\r\n     */\r\n    writeMessage(message) {\r\n        switch (message.type) {\r\n            case MessageType.Invocation:\r\n                return this._writeInvocation(message);\r\n            case MessageType.StreamInvocation:\r\n                return this._writeStreamInvocation(message);\r\n            case MessageType.StreamItem:\r\n                return this._writeStreamItem(message);\r\n            case MessageType.Completion:\r\n                return this._writeCompletion(message);\r\n            case MessageType.Ping:\r\n                return BinaryMessageFormat.write(SERIALIZED_PING_MESSAGE);\r\n            case MessageType.CancelInvocation:\r\n                return this._writeCancelInvocation(message);\r\n            case MessageType.Close:\r\n                return this._writeClose();\r\n            case MessageType.Ack:\r\n                return this._writeAck(message);\r\n            case MessageType.Sequence:\r\n                return this._writeSequence(message);\r\n            default:\r\n                throw new Error(\"Invalid message type.\");\r\n        }\r\n    }\r\n    _parseMessage(input, logger) {\r\n        if (input.length === 0) {\r\n            throw new Error(\"Invalid payload.\");\r\n        }\r\n        const properties = this._decoder.decode(input);\r\n        if (properties.length === 0 || !(properties instanceof Array)) {\r\n            throw new Error(\"Invalid payload.\");\r\n        }\r\n        const messageType = properties[0];\r\n        switch (messageType) {\r\n            case MessageType.Invocation:\r\n                return this._createInvocationMessage(this._readHeaders(properties), properties);\r\n            case MessageType.StreamItem:\r\n                return this._createStreamItemMessage(this._readHeaders(properties), properties);\r\n            case MessageType.Completion:\r\n                return this._createCompletionMessage(this._readHeaders(properties), properties);\r\n            case MessageType.Ping:\r\n                return this._createPingMessage(properties);\r\n            case MessageType.Close:\r\n                return this._createCloseMessage(properties);\r\n            case MessageType.Ack:\r\n                return this._createAckMessage(properties);\r\n            case MessageType.Sequence:\r\n                return this._createSequenceMessage(properties);\r\n            default:\r\n                // Future protocol changes can add message types, old clients can ignore them\r\n                logger.log(LogLevel.Information, \"Unknown message type '\" + messageType + \"' ignored.\");\r\n                return null;\r\n        }\r\n    }\r\n    _createCloseMessage(properties) {\r\n        // check minimum length to allow protocol to add items to the end of objects in future releases\r\n        if (properties.length < 2) {\r\n            throw new Error(\"Invalid payload for Close message.\");\r\n        }\r\n        return {\r\n            // Close messages have no headers.\r\n            allowReconnect: properties.length >= 3 ? properties[2] : undefined,\r\n            error: properties[1],\r\n            type: MessageType.Close,\r\n        };\r\n    }\r\n    _createPingMessage(properties) {\r\n        // check minimum length to allow protocol to add items to the end of objects in future releases\r\n        if (properties.length < 1) {\r\n            throw new Error(\"Invalid payload for Ping message.\");\r\n        }\r\n        return {\r\n            // Ping messages have no headers.\r\n            type: MessageType.Ping,\r\n        };\r\n    }\r\n    _createInvocationMessage(headers, properties) {\r\n        // check minimum length to allow protocol to add items to the end of objects in future releases\r\n        if (properties.length < 5) {\r\n            throw new Error(\"Invalid payload for Invocation message.\");\r\n        }\r\n        const invocationId = properties[2];\r\n        if (invocationId) {\r\n            return {\r\n                arguments: properties[4],\r\n                headers,\r\n                invocationId,\r\n                streamIds: [],\r\n                target: properties[3],\r\n                type: MessageType.Invocation,\r\n            };\r\n        }\r\n        else {\r\n            return {\r\n                arguments: properties[4],\r\n                headers,\r\n                streamIds: [],\r\n                target: properties[3],\r\n                type: MessageType.Invocation,\r\n            };\r\n        }\r\n    }\r\n    _createStreamItemMessage(headers, properties) {\r\n        // check minimum length to allow protocol to add items to the end of objects in future releases\r\n        if (properties.length < 4) {\r\n            throw new Error(\"Invalid payload for StreamItem message.\");\r\n        }\r\n        return {\r\n            headers,\r\n            invocationId: properties[2],\r\n            item: properties[3],\r\n            type: MessageType.StreamItem,\r\n        };\r\n    }\r\n    _createCompletionMessage(headers, properties) {\r\n        // check minimum length to allow protocol to add items to the end of objects in future releases\r\n        if (properties.length < 4) {\r\n            throw new Error(\"Invalid payload for Completion message.\");\r\n        }\r\n        const resultKind = properties[3];\r\n        if (resultKind !== this._voidResult && properties.length < 5) {\r\n            throw new Error(\"Invalid payload for Completion message.\");\r\n        }\r\n        let error;\r\n        let result;\r\n        switch (resultKind) {\r\n            case this._errorResult:\r\n                error = properties[4];\r\n                break;\r\n            case this._nonVoidResult:\r\n                result = properties[4];\r\n                break;\r\n        }\r\n        const completionMessage = {\r\n            error,\r\n            headers,\r\n            invocationId: properties[2],\r\n            result,\r\n            type: MessageType.Completion,\r\n        };\r\n        return completionMessage;\r\n    }\r\n    _createAckMessage(properties) {\r\n        // check minimum length to allow protocol to add items to the end of objects in future releases\r\n        if (properties.length < 1) {\r\n            throw new Error(\"Invalid payload for Ack message.\");\r\n        }\r\n        return {\r\n            sequenceId: properties[1],\r\n            type: MessageType.Ack,\r\n        };\r\n    }\r\n    _createSequenceMessage(properties) {\r\n        // check minimum length to allow protocol to add items to the end of objects in future releases\r\n        if (properties.length < 1) {\r\n            throw new Error(\"Invalid payload for Sequence message.\");\r\n        }\r\n        return {\r\n            sequenceId: properties[1],\r\n            type: MessageType.Sequence,\r\n        };\r\n    }\r\n    _writeInvocation(invocationMessage) {\r\n        let payload;\r\n        if (invocationMessage.streamIds) {\r\n            payload = this._encoder.encode([MessageType.Invocation, invocationMessage.headers || {}, invocationMessage.invocationId || null,\r\n                invocationMessage.target, invocationMessage.arguments, invocationMessage.streamIds]);\r\n        }\r\n        else {\r\n            payload = this._encoder.encode([MessageType.Invocation, invocationMessage.headers || {}, invocationMessage.invocationId || null,\r\n                invocationMessage.target, invocationMessage.arguments]);\r\n        }\r\n        return BinaryMessageFormat.write(payload.slice());\r\n    }\r\n    _writeStreamInvocation(streamInvocationMessage) {\r\n        let payload;\r\n        if (streamInvocationMessage.streamIds) {\r\n            payload = this._encoder.encode([MessageType.StreamInvocation, streamInvocationMessage.headers || {}, streamInvocationMessage.invocationId,\r\n                streamInvocationMessage.target, streamInvocationMessage.arguments, streamInvocationMessage.streamIds]);\r\n        }\r\n        else {\r\n            payload = this._encoder.encode([MessageType.StreamInvocation, streamInvocationMessage.headers || {}, streamInvocationMessage.invocationId,\r\n                streamInvocationMessage.target, streamInvocationMessage.arguments]);\r\n        }\r\n        return BinaryMessageFormat.write(payload.slice());\r\n    }\r\n    _writeStreamItem(streamItemMessage) {\r\n        const payload = this._encoder.encode([MessageType.StreamItem, streamItemMessage.headers || {}, streamItemMessage.invocationId,\r\n            streamItemMessage.item]);\r\n        return BinaryMessageFormat.write(payload.slice());\r\n    }\r\n    _writeCompletion(completionMessage) {\r\n        const resultKind = completionMessage.error ? this._errorResult :\r\n            (completionMessage.result !== undefined) ? this._nonVoidResult : this._voidResult;\r\n        let payload;\r\n        switch (resultKind) {\r\n            case this._errorResult:\r\n                payload = this._encoder.encode([MessageType.Completion, completionMessage.headers || {}, completionMessage.invocationId, resultKind, completionMessage.error]);\r\n                break;\r\n            case this._voidResult:\r\n                payload = this._encoder.encode([MessageType.Completion, completionMessage.headers || {}, completionMessage.invocationId, resultKind]);\r\n                break;\r\n            case this._nonVoidResult:\r\n                payload = this._encoder.encode([MessageType.Completion, completionMessage.headers || {}, completionMessage.invocationId, resultKind, completionMessage.result]);\r\n                break;\r\n        }\r\n        return BinaryMessageFormat.write(payload.slice());\r\n    }\r\n    _writeCancelInvocation(cancelInvocationMessage) {\r\n        const payload = this._encoder.encode([MessageType.CancelInvocation, cancelInvocationMessage.headers || {}, cancelInvocationMessage.invocationId]);\r\n        return BinaryMessageFormat.write(payload.slice());\r\n    }\r\n    _writeClose() {\r\n        const payload = this._encoder.encode([MessageType.Close, null]);\r\n        return BinaryMessageFormat.write(payload.slice());\r\n    }\r\n    _writeAck(ackMessage) {\r\n        const payload = this._encoder.encode([MessageType.Ack, ackMessage.sequenceId]);\r\n        return BinaryMessageFormat.write(payload.slice());\r\n    }\r\n    _writeSequence(sequenceMessage) {\r\n        const payload = this._encoder.encode([MessageType.Sequence, sequenceMessage.sequenceId]);\r\n        return BinaryMessageFormat.write(payload.slice());\r\n    }\r\n    _readHeaders(properties) {\r\n        const headers = properties[1];\r\n        if (typeof headers !== \"object\") {\r\n            throw new Error(\"Invalid headers.\");\r\n        }\r\n        return headers;\r\n    }\r\n}\r\n//# sourceMappingURL=MessagePackHubProtocol.js.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\n// Copied from signalr/Utils.ts\r\n/** @private */\r\nexport function isArrayBuffer(val) {\r\n    return val && typeof ArrayBuffer !== \"undefined\" &&\r\n        (val instanceof ArrayBuffer ||\r\n            // Sometimes we get an ArrayBuffer that doesn't satisfy instanceof\r\n            (val.constructor && val.constructor.name === \"ArrayBuffer\"));\r\n}\r\n//# sourceMappingURL=Utils.js.map",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"names":["DotNet","platform","EditType","FrameType","jsonRevivers","jsObjectIdKey","dotNetObjectRefKey","byteArrayRefKey","dotNetStreamRefKey","jsStreamReferenceLengthKey","defaultCallDispatcher","currentCallDispatcher","JSObject","constructor","_jsObject","this","_cachedFunctions","Map","findFunction","identifier","cachedFunction","get","lastSegmentValue","result","split","forEach","segment","Error","Function","bind","set","getWrappedObject","cachedJSObjectsById","window","url","startsWith","URL","substr","document","baseURI","toString","import","JSCallResultType","nextJsObjectId","attachReviver","reviver","push","createJSObjectReference","jsObject","createJSStreamReference","streamReference","length","ArrayBuffer","Uint8Array","Blob","size","buffer","undefined","byteLength","jsObjectReference","error","parseJsonWithRevivers","callDispatcher","json","JSON","parse","key","initialValue","reduce","latestValue","getDefaultCallDispatcher","attachDispatcher","dotNetCallDispatcher","CallDispatcher","invokeMethod","assemblyName","methodIdentifier","args","invokeDotNetStaticMethod","invokeMethodAsync","invokeDotNetStaticMethodAsync","disposeJSObjectReference","id","disposeJSObjectReferenceById","_dotNetCallDispatcher","_byteArraysToBeRevived","_pendingDotNetToJSStreams","_pendingAsyncCalls","_nextAsyncCallId","getDotNetCallDispatcher","invokeJSFromDotNet","argsJson","resultType","targetInstanceId","createJSCallResult","findJSFunction","jsFunction","stringifyArgs","beginInvokeJSFromDotNet","asyncHandle","promise","Promise","resolve","then","endInvokeJSFromDotNet","stringify","formatError","endInvokeDotNetFromJS","asyncCallId","success","resultJsonOrExceptionMessage","resultOrError","completePendingCall","parseInt","invokeDotNetMethod","invokeDotNetMethodAsync","dotNetObjectId","invokeDotNetFromJS","resultJson","resultPromise","reject","beginInvokeDotNetFromJS","ex","receiveByteArray","data","processByteArray","delete","supplyDotNetStream","streamId","stream","has","pendingStream","PendingStream","getDotNetStreamPromise","streamPromise","hasOwnProperty","asyncCall","message","stack","targetInstance","DotNetObject","_id","_callDispatcher","dispose","catch","console","serializeAsArg","value","index","byteArray","DotNetStream","_streamPromise","arrayBuffer","Response","returnValue","Default","JSObjectReference","JSStreamReference","JSVoidResult","nextByteArrayIndex","argReplacer","sendByteArray","jsonValue","EventFieldInfo","componentId","fieldValue","fromEvent","event","elem","target","Element","fieldData","HTMLInputElement","type","toLowerCase","checked","HTMLSelectElement","HTMLTextAreaElement","getFormFieldData","eventTypeRegistry","browserEventNamesToAliases","eventNameAliasRegisteredCallbacks","getEventTypeOptions","eventName","getBrowserEventName","possibleAliasEventName","eventOptions","browserEventName","registerBuiltInEventType","eventNames","options","parseTouch","touchList","touches","i","touch","clientX","clientY","screenX","screenY","pageX","pageY","parseMouseEvent","detail","offsetX","offsetY","movementX","movementY","button","buttons","ctrlKey","shiftKey","altKey","metaKey","createEventArgs","element","timeBasedInputs","indexOf","getAttribute","isTimeBasedInput","normalizedValue","normalizeTimeBasedValue","isMultipleSelectInput","selectElement","Array","from","filter","option","selected","map","targetIsCheckbox","tagName","isCheckbox","e","parseDragEvent","dataTransfer","dropEffect","effectAllowed","files","f","name","items","kind","types","parseKeyboardEvent","code","location","repeat","parseErrorEvent","filename","lineno","colno","parseProgressEvent","lengthComputable","loaded","total","parseTouchEvent","targetTouches","changedTouches","parsePointerEvent","pointerId","width","height","pressure","tiltX","tiltY","pointerType","isPrimary","parseWheelEvent","deltaX","deltaY","deltaZ","deltaMode","pendingRootComponentContainers","manager","jsComponentParametersByIdentifier","nextPendingDynamicRootComponentIdentifier","RootComponentsFunctions","add","toElement","componentIdentifier","initialParameters","containerIdentifier","getRequiredManager","component","DynamicRootComponent","setParameters","getAndRemovePendingRootComponentContainer","container","EventCallbackWrapper","invoke","arg","_callback","setCallback","callback","_selfJSObjectReference","getJSObjectReference","parameters","_jsEventCallbackWrappers","_componentId","parameter","mappedParameters","entries","Object","parameterCount","callbackWrapper","jsEventCallbackWrapper","values","interopMethodsByRenderer","rendererAttachedListeners","rendererByIdResolverMap","attachWebRendererInterop","rendererId","interopMethods","jsComponentParameters","jsComponentInitializers","keys","managerInstance","initializerIdentifier","componentIdentifiers","initializerFunc","enableJSRootComponents","getInteropMethods","_b","_a","call","browserRendererId","listener","invokeRendererAttachedListeners","isRendererAttached","dispatchEvent","eventDescriptor","eventArgs","dispatchEventMiddleware","eventHandlerId","continuation","nonBubblingEvents","toLookup","alwaysPreventDefaultEvents","submit","disableableEventNames","EventDelegator","afterClickCallbacks","eventDelegatorId","nextEventDelegatorId","eventsCollectionKey","eventInfoStore","EventInfoStore","onGlobalEvent","setListener","renderingComponentId","infoForElement","getEventHandlerInfosForElement","existingHandler","getHandler","update","newInfo","setHandler","removeListener","info","remove","elementEventInfos","removeHandler","notifyAfterClick","addGlobalListener","setStopPropagation","stopPropagation","setPreventDefault","preventDefault","evt","dispatchGlobalEventToAllElements","eventNameAliases","alias","browserEvent","path","composedPath","candidateEventTarget","shift","eventArgsIsPopulated","eventIsNonBubbling","prototype","stopPropagationWasRequested","candidateElement","handlerInfos","handlerInfo","rawBrowserEventName","HTMLButtonElement","disabled","eventOptionsIfRegistered","eventFieldInfo","createIfNeeded","EventHandlerInfosForElement","globalListener","infosByEventHandlerId","countByEventName","handleEventNameAliasAdded","useCapture","addEventListener","oldEventHandlerId","newEventHandlerId","removeEventListener","aliasEventName","countByAliasEventName","handlers","preventDefaultFlags","stopPropagationFlags","handler","setValue","logicalChildrenPropname","Symbol","logicalParentPropname","logicalRootDescriptorPropname","toLogicalRootCommentElement","descriptor","start","end","existingDescriptor","parent","parentNode","textContent","parentLogicalElement","toLogicalElement","children","getLogicalChildrenArray","startLogicalElement","rootCommentChildren","startNextChildIndex","lastMovedChild","childToMove","splice","allowExistingContents","childrenArray","childNodes","child","childLogicalElement","emptyLogicalElement","removeLogicalChild","createAndInsertLogicalContainer","childIndex","containerElement","createComment","insertLogicalChild","childAsLogicalElement","nodeToInsert","Comment","existingGranchildren","lastNodeToInsert","findLastDomNodeInRange","range","Range","setStartBefore","setEndAfter","extractContents","existingLogicalParent","getLogicalParent","existingSiblingArray","existingChildIndex","newSiblings","nextSibling","insertBefore","appendDomNode","childToRemove","grandchildrenArray","domNodeToRemove","removeChild","getLogicalChild","getLogicalRootDescriptor","isSvgElement","closestElement","getClosestDomElement","namespaceURI","getLogicalNextSibling","siblings","isLogicalElement","permuteLogicalChildren","permutationList","listEntry","moveRangeStart","fromSiblingIndex","moveRangeEnd","marker","moveToBeforeMarker","insertBeforeNode","toSiblingIndex","parentDomNode","elementToMove","moveEndNode","nextToMove","nextNext","logicalElement","DocumentFragment","appendChild","parentLogicalNextSibling","previousSibling","logicalParent","lastChild","getCaptureIdAttributeName","referenceCaptureId","elementRefKey","selector","querySelector","getElementByCaptureId","deferredValuePropname","applyAnyDeferredValue","HTMLOptionElement","trySetSelectValueFromOptionElement","setDeferredElementValue","isMultipleSelectElement","setSingleSelectElementValue","setMultipleSelectElementValue","optionElement","selectElem","parentElement","findClosestAncestorSelectElement","isBlazorSelectElement","_blazorDeferredValue","sharedTemplateElemForParsing","createElement","sharedSvgElemForParsing","createElementNS","elementsToClearOnRootComponentRender","Set","interactiveRootComponentPropname","preserveContentOnDisposalPropname","BrowserRenderer","rootComponentIds","childComponentLocations","eventDelegator","hasInteractiveRouter","handleClickForNavigationInterception","absoluteInternalHref","performInternalNavigation","getRootComponentCount","attachRootComponentToLogicalElement","appendContent","isInteractiveRootComponentElement","markAsInteractiveRootComponentElement","attachComponentToElement","updateComponent","batch","edits","referenceFrames","ownerDocument","getRootNode","activeElementBefore","activeElement","applyEdits","HTMLElement","focus","disposeComponent","disposeEventHandler","currentDepth","childIndexAtCurrentDepth","arrayBuilderSegmentReader","editReader","frameReader","editsValues","editsOffset","offset","maxEditIndexExcl","count","editIndex","edit","diffReader","editsEntry","editType","prependFrame","frameIndex","newTreeIndex","frame","referenceFramesEntry","siblingIndex","insertFrame","removeFrame","setAttribute","applyAttribute","removeAttribute","attributeName","removedAttributeName","setOrRemoveAttributeOrProperty","updateText","textNode","Text","updateMarkup","insertMarkup","stepIn","stepOut","permutationListEntry","moveToSiblingIndex","permutationListEnd","frames","frameType","insertElement","text","insertText","attribute","insertComponent","region","insertFrameRange","subtreeLength","elementReferenceCapture","elementReferenceCaptureId","markup","namedEvent","elementName","newDomElementRaw","newElement","inserted","descendantsEndIndexExcl","descendantIndex","descendantFrame","childComponentId","textFrame","createTextNode","markupFrame","markupContainer","parsedMarkup","markupContent","innerHTML","content","querySelectorAll","oldScriptElem","newScriptElem","getAttributeNames","attribName","replaceChild","logicalSiblingIndex","firstChild","toDomElement","attributeFrame","attributeEventHandlerId","stripOnPrefix","attributeValue","startIndex","endIndexExcl","origChildIndex","countDescendantFrames","valueOrNullToRemove","endsWith","hasAttribute","substring","normalizeInputValue","tryApplyValueProperty","tryApplyCheckedProperty","tryApplySpecialProperty","applyInternalAttribute","internalAttributeNamePrefix","internalAttributeName","eventStopPropagationAttributeNamePrefix","eventPreventDefaultAttributeNamePrefix","isInteractive","setShouldPreserveContentOnInteractiveComponentDisposal","shouldPreserve","browserRenderers","interactiveRouterRendererId","programmaticEnhancedNavigationHandler","enhancedNavigationListener","testAnchor","shouldResetScrollAfterNextBatch","browserRenderer","getRendererer","renderBatch","arrayRangeReader","updatedComponentsRange","updatedComponents","updatedComponentsValues","updatedComponentsLength","referenceFramesValues","diff","updatedComponentsEntry","disposedComponentIdsRange","disposedComponentIds","disposedComponentIdsValues","disposedComponentIdsLength","disposedComponentIdsEntry","disposedEventHandlerIdsRange","disposedEventHandlerIds","disposedEventHandlerIdsValues","disposedEventHandlerIdsLength","disposedEventHandlerIdsEntry","scrollTo","callbackIfIntercepted","eventHasSpecialKey","defaultPrevented","anchorTarget","candidate","HTMLAnchorElement","SVGAElement","findAnchorTarget","targetAttributeValue","canProcessAnchor","absoluteHref","toAbsoluteUri","isWithinBaseUriSpace","href","baseUriWithoutTrailingSlash","baseUri","lastIndexOf","nextChar","charAt","hasProgrammaticEnhancedNavigationHandler","performProgrammaticEnhancedNavigation","replace","relativeUri","getInteractiveRouterRendererId","hasRegisteredNavigationEventListeners","currentHistoryIndex","currentLocationChangingCallId","navigationCallbacks","popStateCallback","async","state","ignorePendingNavigation","callbacks","getInteractiveRouterNavigationCallbacks","hasLocationChangingEventListeners","_index","userState","_c","delta","uri","navigateHistoryWithoutPopStateCallback","notifyLocationChanging","notifyLocationChanged","resolveCurrentNavigation","internalFunctions","listenForNavigationEvents","locationChangedCallback","locationChangingCallback","locationChanged","locationChanging","onPopState","history","internalDestinationHref","interceptedLink","enableNavigationInterception","setHasLocationChangingListeners","hasListeners","endLocationChanging","callId","shouldContinueNavigation","navigateTo","navigateToCore","refresh","forceReload","reload","getBaseURI","getLocationHref","scrollToElement","getElementById","scrollIntoView","skipLocationChangingCallback","absoluteUri","forceLoad","shouldUseClientSideRouting","replaceHistoryEntry","historyEntryState","temporaryUri","replaceState","performExternalNavigation","hashIndex","hash","isSamePageWithHash","saveToBrowserHistory","performScrollToElementOnTheSamePage","pushState","oldPopStateCallback","go","intercepted","all","domFunctions","preventScroll","SVGElement","focusBySelector","tabIndex","Virtualize","dotNetHelper","spacerBefore","spacerAfter","rootMargin","scrollContainer","findClosestScrollContainer","documentElement","style","overflowAnchor","rangeBetweenSpacers","createRange","isValidTableElement","display","intersectionObserver","IntersectionObserver","entry","isIntersecting","setStartAfter","setEndBefore","spacerSeparation","getBoundingClientRect","containerSize","rootBounds","intersectionRect","top","boundingClientRect","offsetHeight","bottom","root","observe","mutationObserverBefore","createSpacerMutationObserver","mutationObserverAfter","observersByDotNetObjectId","getObserversMapEntry","spacer","observerOptions","attributes","mutationObserver","MutationObserver","mutations","observer","disconnect","unobserve","HTMLTableElement","HTMLTableSectionElement","observers","dispatcherObserversByDotNetIdPropname","body","getComputedStyle","overflowY","dotNetHelperDispatcher","dotNetHelperId","PageTitle","getAndRemoveExistingTitle","titleElements","head","getElementsByTagName","existingTitle","currentTitleElement","InputFile","init","_blazorInputFileNextFileId","_blazorFilesById","fileList","file","lastModified","Date","toISOString","contentType","readPromise","blob","toImageFile","fileId","format","maxWidth","maxHeight","originalFile","getFileById","loadedImage","originalFileImage","Image","onload","revokeObjectURL","src","onerror","createObjectURL","resizedImageBlob","desiredWidthRatio","Math","min","desiredHeightRatio","chosenSizeRatio","canvas","round","getContext","drawImage","toBlob","readFileData","registeredLocks","NavigationLock","enableNavigationPrompt","onBeforeUnload","disableNavigationPrompt","getNextChunk","position","nextChunkSize","chunkBlob","slice","getChunkFromBlob","byteOffset","getChunkFromArrayBufferView","transmittingDotNetToJSStreams","Blazor","forceLoadOrOptions","replaceIfUsingOldOverload","registerCustomEventType","aliasGroup","rootComponents","runtime","_internal","navigationManager","navigationManagerInternalFunctions","domWrapper","getJSDataStreamChunk","LogLevel","minimumLogLevel","minLevel","log","logLevel","msg","Critical","Warning","warn","Information","discoverComponents","resolveComponentComments","sort","a","b","sequence","discoverServerComponents","blazorServerStateCommentRegularExpression","blazorWebAssemblyStateCommentRegularExpression","blazorWebInitializerCommentRegularExpression","discoverServerPersistedState","node","discoverBlazorComment","comment","captureName","nodeType","Node","COMMENT_NODE","parsedState","exec","groups","hasChildNodes","nodes","childNodeIterator","ComponentCommentIterator","next","currentElement","componentComment","getComponentComment","childResults","j","childResult","blazorCommentRegularExpression","RegExp","commentNodeIterator","candidateStart","payload","definition","Document","assertNotDirectlyOnDocument","parseCommentPayload","candidateEnd","iterator","prerenderId","validateEndComponentPayload","getComponentEndComment","validateWebAssemblyComponentPayload","uniqueId","nextUniqueDescriptorId","validateServerComponentPayload","createServerComponentComment","createAutoComponentComment","Number","isInteger","assembly","typeName","parameterDefinitions","atob","parameterValues","prerenderEndId","currentIndex","descriptorToMarker","canMergeDescriptors","source","locationHash","formattedComponentKey","HttpError","errorMessage","statusCode","trueProto","super","__proto__","TimeoutError","AbortError","UnsupportedTransportError","transport","errorType","DisabledTransportError","FailedToStartTransportError","FailedToNegotiateWithServerError","AggregateErrors","innerErrors","HttpResponse","statusText","HttpClient","send","method","post","getCookieString","NullLogger","_logLevel","_message","instance","VERSION","Arg","isRequired","val","isNotEmpty","match","isIn","Platform","isBrowser","isWebWorker","self","isReactNative","isNode","process","release","getDataDetail","includeContent","isArrayBuffer","view","str","num","formatArrayBuffer","sendMessage","logger","transportName","httpClient","headers","getUserAgentHeader","Trace","logMessageContent","responseType","response","timeout","withCredentials","SubjectSubscription","subject","_subject","_observer","cancelCallback","_","ConsoleLogger","_minLevel","out","constructUserAgent","version","os","runtimeVersion","userAgent","majorAndMinor","getErrorString","FetchHttpClient","_logger","fetchObj","_fetchType","_jar","obj","fetch","require","CookieJar","globalThis","global","getGlobalThis","_abortControllerType","AbortController","abortObj","configureAbortController","request","abortSignal","aborted","abortController","onabort","abort","timeoutId","msTimeout","setTimeout","cache","credentials","mode","redirect","signal","clearTimeout","ok","deserializeContent","status","XhrHttpClient","xhr","XMLHttpRequest","open","setRequestHeader","header","responseText","ontimeout","DefaultHttpClient","_httpClient","TextMessageFormat","write","output","RecordSeparator","input","messages","pop","RecordSeparatorCode","String","fromCharCode","HandshakeProtocol","writeHandshakeRequest","handshakeRequest","parseHandshakeResponse","messageData","remainingData","binaryData","separatorIndex","responseLength","apply","textData","MessageType","HubConnectionState","Subject","item","err","complete","subscribe","MessageBuffer","protocol","connection","bufferSize","_bufferSize","_messages","_totalMessageCount","_waitForSequenceMessage","_nextReceivingSequenceId","_latestReceivedSequenceId","_bufferedByteCount","_reconnectInProgress","_protocol","_connection","_send","serializedMessage","writeMessage","backpressurePromise","_isInvocationMessage","backpressurePromiseResolver","backpressurePromiseRejector","BufferedItem","_disconnected","_ack","ackMessage","newestAckedMessage","sequenceId","_resolver","_shouldProcessMessage","Sequence","currentId","_ackTimer","_resetSequence","stop","_resend","_dispose","_rejector","Invocation","StreamItem","Completion","StreamInvocation","CancelInvocation","Close","Ping","Ack","_ackTimerHandle","resolver","rejector","HubConnection","create","reconnectPolicy","serverTimeoutInMilliseconds","keepAliveIntervalInMilliseconds","statefulReconnectBufferSize","_nextKeepAlive","_freezeEventListener","_statefulReconnectBufferSize","_reconnectPolicy","_handshakeProtocol","onreceive","_processIncomingData","onclose","_connectionClosed","_callbacks","_methods","_closedCallbacks","_reconnectingCallbacks","_reconnectedCallbacks","_invocationId","_receivedHandshakeResponse","_connectionState","Disconnected","_connectionStarted","_cachedPingMessage","connectionId","baseUrl","Reconnecting","_startPromise","_startWithStateTransitions","Connecting","Debug","_startInternal","Connected","_stopDuringStartError","handshakePromise","_handshakeResolver","_handshakeRejecter","transferFormat","features","reconnect","_sendMessage","_cleanupTimeout","_resetTimeoutPeriod","_resetKeepAliveInterval","_messageBuffer","disconnected","resend","inherentKeepAlive","_cleanupPingTimer","startPromise","_stopPromise","_stopInternal","Disconnecting","_reconnectDelayHandle","_completeClose","_sendCloseMessage","_sendWithProtocol","_createCloseMessage","methodName","streams","streamIds","_replaceStreamingParams","invocationDescriptor","_createStreamInvocation","promiseQueue","cancelInvocation","_createCancelInvocation","invocationId","invocationEvent","_launchStreams","sendPromise","_createInvocation","on","newMethod","off","removeIdx","onreconnecting","onreconnected","_processHandshakeResponse","parseMessages","_invokeClientMethod","allowReconnect","responseMessage","getTime","_timeoutHandle","serverTimeout","_pingServerHandle","nextPing","invocationMessage","methods","_createCompletionMessage","methodsCopy","expectsResponse","res","exception","completionMessage","m","prevRes","arguments","_cancelCallbacksWithError","_reconnect","c","reconnectStartTime","now","previousReconnectAttempts","retryError","nextRetryDelay","_getNextRetryDelay","previousRetryCount","elapsedMilliseconds","retryReason","nextRetryDelayInMilliseconds","nonblocking","_createStreamItemMessage","argument","_isObservable","DEFAULT_RETRY_DELAYS_IN_MILLISECONDS","DefaultReconnectPolicy","retryDelays","_retryDelays","retryContext","HeaderNames","Authorization","Cookie","AccessTokenHttpClient","innerClient","accessTokenFactory","_innerClient","_accessTokenFactory","allowRetry","_accessToken","_setAuthorizationHeader","HttpTransportType","TransferFormat","AbortController$1","_isAborted","LongPollingTransport","pollAborted","_pollAbort","_options","_running","connect","_url","Binary","pollOptions","pollUrl","_closeError","_receiving","_poll","_raiseOnClose","deleteOptions","logMessage","ServerSentEventsTransport","accessToken","encodeURIComponent","eventSource","opened","EventSource","cookies","onmessage","_close","onopen","_eventSource","close","WebSocketTransport","webSocketConstructor","_logMessageContent","_webSocketConstructor","_headers","token","webSocket","binaryType","_event","_webSocket","ErrorEvent","readyState","OPEN","_isCloseEvent","wasClean","reason","HttpConnection","_stopPromiseResolver","_negotiateVersion","createLogger","_resolveUrl","WebSocket","_startInternalPromise","_sendQueue","TransportSendQueue","_stopError","_stopConnection","skipNegotiation","WebSockets","_constructTransport","_startTransport","negotiateResponse","redirects","_getNegotiationResponse","ProtocolVersion","_createTransport","negotiateUrl","_resolveNegotiateUrl","negotiateVersion","connectionToken","useStatefulReconnect","_useStatefulReconnect","_createConnectUrl","requestedTransport","requestedTransferFormat","connectUrl","_isITransport","transportExceptions","transports","availableTransports","negotiate","endpoint","transportOrError","_resolveTransportOrError","join","ServerSentEvents","LongPolling","callStop","actualTransport","transportMatches","transferFormats","s","aTag","pathname","searchParams","URLSearchParams","append","search","_transport","_buffer","_executing","_sendBufferedData","PromiseSource","_transportResult","_sendLoopPromise","_sendLoop","_bufferData","transportResult","_concatBuffers","arrayBuffers","totalLength","_rejecter","JsonHubProtocol","hubMessages","parsedMessage","_isStreamItemMessage","_isCompletionMessage","_isAckMessage","_isSequenceMessage","_assertNotEmptyString","LogLevelNameMapping","trace","debug","information","warning","critical","none","None","HubConnectionBuilder","configureLogging","logging","isLogger","mapping","parseLogLevel","withUrl","transportTypeOrOptions","httpConnectionOptions","withHubProtocol","withAutomaticReconnect","retryDelaysOrReconnectPolicy","isArray","withServerTimeout","milliseconds","_serverTimeoutInMilliseconds","withKeepAliveInterval","_keepAliveIntervalInMilliseconds","withStatefulReconnect","build","WebRendererId","UINT32_MAX","setInt64","high","floor","low","setUint32","getInt64","getInt32","getUint32","TEXT_ENCODING_AVAILABLE","env","TextEncoder","TextDecoder","utf8Count","strLength","pos","charCodeAt","extra","sharedTextEncoder","TEXT_ENCODER_THRESHOLD","utf8EncodeTE","encodeInto","outputOffset","subarray","encode","utf8DecodeJs","bytes","inputOffset","units","byte1","byte2","byte3","unit","extendStatics","sharedTextDecoder","TEXT_DECODER_THRESHOLD","ExtData","__extends","d","setPrototypeOf","p","TypeError","__","DecodeError","_super","_this","proto","defineProperty","configurable","enumerable","timestampExtension","object","msec","sec","nsec","nsecInSec","rv","DataView","secHigh","secLow","encodeTimeSpecToTimestamp","decode","timeSpec","nsec30AndSecHigh2","concat","decodeTimestampToTimeSpec","ExtensionCodec","builtInEncoders","builtInDecoders","encoders","decoders","register","tryToEncode","context","encodeExt","decodeExt","defaultCodec","ensureUint8Array","isView","Encoder","extensionCodec","maxDepth","initialBufferSize","sortKeys","forceFloat32","ignoreUndefined","forceIntegerToFloat","reinitializeState","encodeSharedRef","doEncode","depth","encodeNil","encodeBoolean","encodeNumber","encodeString","encodeObject","ensureBufferSizeToWrite","sizeToWrite","requiredSize","resizeBuffer","newSize","newBuffer","newBytes","newView","writeU8","isSafeInteger","writeU16","writeU32","writeU64","writeI8","writeI16","writeI32","writeI64","writeF32","writeF64","writeStringHeader","utf8EncodeJs","ext","encodeExtension","encodeArray","encodeBinary","encodeMap","writeU8a","_i","object_1","countWithoutUndefined","keys_1","keys_2","setUint8","setInt8","setUint16","setInt16","setInt32","setFloat32","setFloat64","setUint64","prettyByte","byte","abs","padStart","CachedKeyDecoder","maxKeyLength","maxLengthPerKey","hit","miss","caches","canBeCached","find","FIND_CHUNK","records_1","record","recordBytes","store","records","random","cachedValue","slicedCopyOfBytes","__generator","thisArg","y","t","g","label","sent","trys","ops","verb","throw","return","n","v","op","done","step","__asyncValues","o","asyncIterator","__values","settle","__await","EMPTY_VIEW","EMPTY_BYTES","DataViewIndexOutOfBoundsError","getInt8","MORE_DATA","sharedCachedKeyDecoder","Decoder","maxStrLength","maxBinLength","maxArrayLength","maxMapLength","maxExtLength","keyDecoder","totalPos","headByte","setBuffer","bufferView","createDataView","appendBuffer","hasRemaining","newData","createExtraByteError","posToShow","RangeError","doDecodeSync","decodeMulti","decodeAsync","stream_1","stream_1_1","e_1","P","generator","decoded","e_1_1","fulfilled","rejected","decodeArrayStream","decodeMultiAsync","decodeStream","_arguments","isArrayHeaderRequired","arrayItemsLeft","stream_2","stream_2_1","e_2","e_3_1","e_3","readArraySize","q","resume","r","fulfill","__asyncGenerator","DECODE","readHeadByte","pushMapState","pushArrayState","decodeUtf8String","readF32","readF64","readU8","readU16","readU32","readU64","readI8","readI16","readI32","readI64","lookU8","lookU16","lookU32","decodeBinary","decodeExtension","array","keyType","readCount","headerOffset","stateIsMapKey","stringBytes","utf8DecodeTD","headOffset","extType","getUint8","getUint16","getInt16","getFloat32","getFloat64","BinaryMessageFormat","lenBuffer","sizePart","uint8Array","numBitsToShift","byteRead","numBytes","SERIALIZED_PING_MESSAGE","MessagePackHubProtocol","messagePackOptions","_errorResult","_voidResult","_nonVoidResult","_encoder","_decoder","_parseMessage","_writeInvocation","_writeStreamInvocation","_writeStreamItem","_writeCompletion","_writeCancelInvocation","_writeClose","_writeAck","_writeSequence","properties","messageType","_createInvocationMessage","_readHeaders","_createPingMessage","_createAckMessage","_createSequenceMessage","resultKind","streamInvocationMessage","streamItemMessage","cancelInvocationMessage","sequenceMessage","nativeDecoder","decodeUtf8","len","substrings","codepoint","uint64HighPartShift","pow","maxSafeNumberHighPart","readInt32LE","readUint32LE","readUint64LE","highPart","OutOfProcessRenderBatch","batchData","stringReader","OutOfProcessStringReader","OutOfProcessArrayRangeReader","OutOfProcessArrayBuilderSegmentReader","OutOfProcessRenderTreeDiffReader","OutOfProcessRenderTreeEditReader","OutOfProcessRenderTreeFrameReader","tableEntryPos","entryPos","batchDataUint8","stringIndex","readString","stringTableStartIndex","stringTableEntryPos","numUtf8Bytes","readLEB128","charsStart","utf8Data","arrayRange","_arrayBuilderSegment","arrayBuilderSegment","RenderQueue","nextBatchId","processBatch","receivedBatchId","completeBatch","fatalError","Server","getLastBatchid","batchId","hasFailed","showErrorNotification","errorUi","onclick","dismiss","CircuitManager","componentManager","appState","_firstUpdate","_renderingFailed","_disposed","_circuitId","_applicationState","_componentManager","_renderQueue","_dispatcher","isDisposedOrDisposing","startCore","updateRootComponents","operations","startConnection","componentsJson","initialComponents","navigationManagerFunctions","circuitHandlers","onCircuitOpened","hubProtocol","connectionBuilder","configureSignalR","resolveElement","readableStream","ReadableStream","controller","chunk","enqueue","onAfterRenderBatch","onAfterUpdateRootComponents","_interopMethodsForReconnection","detachWebRendererInterop","reconnectionHandler","onConnectionDown","reconnectionOptions","unhandledError","some","onConnectionUp","throwIfDispatchingWhenDisposed","succeeded","sendLocationChanged","sendLocationChanging","sendJsDataStream","chunkSize","numChunksUntilNextAck","lastAckTime","valueOf","chunkId","nextChunkData","timeNow","msSinceAck","max","sendJSDataStream","sequenceOrIdentifier","jsAddedComponentContainer","parsedSequence","isNaN","resolveRootComponent","getRootComponentManager","getDisconnectFormData","FormData","circuitId","didRenderingFail","_disposePromise","sendDisconnectBeacon","navigator","sendBeacon","disposeCore","formData","onCircuitClosed","resolveOptions","userOptions","defaultOptions","initializers","maxRetries","retryIntervalMilliseconds","dialogId","DefaultReconnectDisplay","modal","cssText","link","reloadParagraph","loader","getLoader","after","show","failed","contains","visibility","currentAttempt","hide","errorDescription","errorInstructions","replaceChildren","animate","transform","duration","iterations","Infinity","UserSpecifiedDisplay","dialog","maxRetriesElement","MaxRetriesId","innerText","removeClasses","classList","ShowClassName","currentAttemptElement","CurrentAttemptId","HideClassName","FailedClassName","RejectedClassName","DefaultReconnectionHandler","overrideDisplay","reconnectCallback","_currentReconnectionProcess","_reconnectionDisplay","_reconnectCallback","_error","ReconnectionProcess","isDisposed","reconnectDisplay","attemptPeriodicReconnection","delayDuration","MaximumFirstRetryInterval","delay","durationMilliseconds","JSInitializer","singleRuntime","afterstartedCallbacks","webRendererId","afterStartedCallbacks","importInitializersAsync","initializerFiles","initializerArguments","jsInitializer","adjustedPath","base","adjustPath","initializer","beforeStart","afterStarted","beforeWebAssemblyStart","afterWebAssemblyStarted","beforeServerStart","afterServerStarted","finalBeforeStart","WebAssembly","finalAfterStarted","runClassicInitializers","initializerModule","beforeWebStart","afterWebStarted","hasOnlyClassicInitializers","runLegacyInitializers","enableClassicInitializers","ensureInitializers","webAssembly","circuit","runMultiRuntimeInitializers","importAndInvokeInitializer","invokeAfterStartedCallbacks","blazor","attached","getRendererAttachedPromise","initializersPromise","serverStartPromise","circuitStarting","startServer","components","startServerCore","jsInitializersResponse","fetchAndInvokeInitializers","defaultReconnectionHandler","forceCloseConnection","cleanup","capture","once","startCircuit","circuitStartingPromise","clearCircuitStarting","updateServerRootComponents","scheduleWhenReady","navigatorUA","brands","userAgentData","currentBrowserIsChromeOrEdge","brand","chrome","hasDebuggingEnabled","config","debugLevel","includes","BINDING","MONO","Module","dispatcher","MONO_INTERNAL","uint64HighOrderShift","currentHeapLock","getValueI32","ptr","getI32","monoPlatform","load","onConfigLoaded","dotnet","startOptions","validate","loadBootResource","resourceType","customSrc","absoluteSrc","importDotnetJs","moduleConfig","onConfigLoadedCallback","maxParallelDownloads","enableDownloadRetry","applicationEnvironment","environment","dotnetModuleConfig","loadedConfig","environmentVariables","globalizationMode","getApplicationEnvironment","resources","extensions","onDownloadResourceProgress","setProgress","disableDotnet6Compatibility","print","printErr","prepareRuntimeConfig","applicationCulture","withApplicationCulture","withApplicationEnvironment","withResourceLoader","withModuleConfig","configureRuntime","createRuntimeInstance","mono","binding","module","setModuleImports","INTERNAL","mono_internal","getConfig","invokeLibraryInitializers","altKeyName","launchFirefoxDebugger","rel","click","launchDebugger","attachDebuggerHotkey","dotNetCriticalError","exports","getAssemblyExports","assign","dotNetExports","Microsoft","AspNetCore","Components","Services","DefaultWebAssemblyJSRuntime","assertHeapIsNotLocked","assemblyNameOrDotNetObjectId","BeginInvokeDotNet","serializedArgs","EndInvokeJS","ReceiveByteArrayFromJS","InvokeDotNet","configureRuntimeInstance","callEntryPoint","runMain","mainAssemblyName","toUint8Array","dataPtr","getArrayDataPointer","HEAPU8","getArrayLength","getArrayEntryPtr","itemSize","getObjectFieldsBaseAddress","referenceTypedObject","readInt16Field","baseAddress","fieldOffset","getI16","readInt32Field","readUint64Field","heapU32Index","HEAPU32","getValueU64","readFloatField","getF32","readObjectField","readStringField","readBoolValueAsString","unboxedValue","unbox_mono_obj","conv_string","readStructField","beginHeapLock","MonoHeapLock","invokeWhenHeapUnlocked","enqueuePostReleaseAction","resourcesLoaded","totalResources","percentage","setProperty","suppressMessages","line","postReleaseActions","mono_wasm_gc_unlock","nextQueuedAction","mono_wasm_gc_lock","SharedMemoryRenderBatch","batchAddress","structLength","arrayValuesEntry","pointer","builder","builderFieldsAddress","arrayValues","WebAssemblyComponentAttacher","resolveRegisteredElement","parsedId","getParameterValues","getParameterDefinitions","getTypeName","getAssembly","getCount","platformLoadPromise","resolveBootConfigPromise","loadedWebAssemblyPlatform","started","firstUpdate","waitForRootComponents","bootConfigPromise","resolveInitialUpdatePromise","initialUpdatePromise","resolveInitializersPromise","setWebAssemblyOptions","initializersReady","configuredOptions","setOptions","startWebAssembly","opener","frameElement","settingsJson","sessionStorage","settings","redirect_uri","inAuthRedirectIframe","loadWebAssemblyPlatformIfNotStarted","middleware","renderer","addDispatchEventMiddleware","applyHotReload","metadataDelta","ilDelta","pdbDelta","getApplyUpdateCapabilities","invokeJSJson","receiveWebAssemblyDotNetDataStream","heapLock","componentAttacher","registeredComponents","getRegisteredComponentsCount","getPersistedState","getInitialComponentsUpdate","UpdateRootComponentsCore","endUpdateRootComponents","attachRootComponentToElement","elementSelector","beforeElementSelector","afterElementSelector","finalOptions","existingConfig","withEnvironmentVariable","hasLoadedWebAssemblyPlatform","callInfo","arg0","arg1","arg2","functionIdentifier","marshalledCallArgsJson","marshalledCallAsyncHandle","js_string_to_mono_string","__jsObjectId","resultJsonOrErrorMessage","bytesRead","streamController","receiveDotNetDataStream","attr","setAttributeNS","dataPermanentAttributeName","UpdateCost","Operation","ItemListSubset","callbackfn","descriptorHandler","preprocessAndSynchronizeDomContent","destination","newContent","upgradeComponentCommentsToLogicalRootComments","synchronizeDomContentCore","destinationParent","startExclusive","isSynchronizingLogicalElements","originalNodesForDiff","newNodesForDiff","LogicalElementNodeList","SiblingSubsetNodeList","editScript","before","updateCost","commonPrefixLength","shorterLength","lengthOfCommonPrefix","skipCount","commonSuffixLength","beforeStartIndex","afterStartIndex","beforeIndex","afterIndex","lengthOfCommonSuffix","operation","Insert","Delete","unshift","Keep","Update","toEditScript","costs","beforeLength","afterLength","rowZero","comparisonResult","costAsDelete","costAsInsert","costAsRetain","Some","Infinite","MAX_VALUE","computeOperations","computeEditScript","domNodeComparer","destinationWalker","sourceWalker","LogicalElementEditWalker","DomNodeEditWalker","treatAsMatch","current","advance","editsLength","treatAsSubstitution","nodeToRemove","nodeToDelete","createDocumentFragment","treatAsInsertion","endAtNodeExclOrNull","endExclusive","TEXT_NODE","destinationAsLogicalElement","sourceAsLogicalElement","destinationRootDescriptor","sourceRootDescriptor","sourceWebAssemblyData","sourceServerData","mergeDescriptors","ELEMENT_NODE","editableElementValue","selectedIndex","destAttrs","sourceAttrs","destAttrsLength","sourceAttr","destAttr","attributeSetsAreIdentical","remainingDestAttrs","existingDestAttr","getAttributeNodeNS","localName","getAttributeNode","attrToDelete","removeAttributeNS","synchronizeAttributes","isDataPermanentElement","ensureEditableValueSynchronized","DOCUMENT_TYPE_NODE","nextNode","insertLogicalChildBefore","createNodeIterator","NodeFilter","SHOW_COMMENT","logicalRootDescriptor","referenceNode","registerComponent","rootDescriptorA","rootDescriptorB","elementB","serverDescriptors","webAssemblyDescriptors","autoDescriptors","allDescriptors","startNode","acceptHeader","currentEnhancedNavigationAbortController","navigationEnhancementCallbacks","performingEnhancedPageLoad","currentContentUrl","performEnhancedPageLoad","onDocumentClick","closestOverride","closest","enhancedNavigationIsEnabledForElement","onDocumentSubmit","formElem","HTMLFormElement","form","enhancedNavigationIsEnabledForForm","submitter","action","fetchOptions","submitterName","_d","submitterValue","urlSearchParams","enctype","_e","accept","notifyEnhancedNavigationListners","responsePromise","isNonRedirectedPostToADifferentUrlMessage","onInitialDocument","onStreamingElement","frameBoundary","allResponseText","isFirstFramedChunk","pipeThrough","TextDecoderStream","frameBoundaryMarker","TransformStream","part","flush","splitStream","pipeTo","WritableStream","streamingElementMarkup","fragment","createContextualFragment","getResponsePartsWithFraming","initialContent","isGetRequest","isSuccessResponse","retryEnhancedNavAsFullPageLoad","redirected","externalRedirectionUrl","responseUrl","currentContentUrlParsed","host","port","isForSamePath","responseContentType","parsedHtml","DOMParser","parseFromString","synchronizeDomContent","documentUpdated","replaceDocumentWithPlainText","hashPosition","targetElem","enhancedNavigationCompleted","docStyle","fontFamily","whiteSpace","padding","enableDomPreservation","attachStreamingRenderingListener","disableDomPreservation","customElements","define","BlazorStreamingUpdate","connectedCallback","blazorSsrElement","HTMLTemplateElement","componentIdAsString","docFrag","markers","expectedStartText","startMarker","expectedEndText","endMarker","findStreamingMarkers","destinationRoot","existingContent","setStart","setEnd","deleteContents","insertStreamingContentIntoDocument","destinationUrl","isFormPost","WebRootComponentManager","_circuitInactivityTimeoutMs","_rootComponentsBySsrComponentId","_seenDescriptors","_pendingOperationBatches","_nextOperationBatchId","_nextSsrComponentId","_didWebAssemblyFailToLoadQuickly","_isComponentRefreshPending","rootComponentsMayRequireRefresh","circuitMayHaveNoRootComponents","onDocumentUpdated","onEnhancedNavigationCompleted","startLoadingWebAssemblyIfNotStarted","ssrComponentId","unregisterComponent","loadWebAssemblyPromise","onWebAssemblyFailedToLoadQuickly","loadWebAssemblyQuicklyTimeout","bootConfig","cacheBootResources","getWebAssemblyResourceHash","existingHash","localStorage","getItem","areWebAssemblyResourcesLikelyCached","setItem","cacheWebAssemblyResourceHash","startCircutIfNotStarted","startWebAssemblyIfNotStarted","refreshRootComponents","rendererHasExistingOrPendingComponents","_circuitInactivityTimeoutId","disposeCircuit","rendererHasComponents","descriptorTypesToConsider","assignedRendererId","operationsByRendererId","determinePendingOperation","batchJson","updateWebAssemblyRootComponents","operationsJson","scheduleAfterStarted","resolveRendererIdForDescriptor","getAutoRenderMode","uniqueIdAtLastUpdate","hasPendingRemoveOperation","JSEventRegistry","_eventListeners","listenersForEventType","ev","rootComponentManager","boot","hotReloadApplied","ssr","circuitInactivityTimeoutMs","jsEventRegistry","onInitialDomContentLoaded","initialCircuitOptions","initializersElement","setCircuitOptions","resolveConfiguredOptions","descriptors","registerAllComponentDescriptors","callAfterStartedCallbacks","currentScript"],"mappings":"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","x_google_ignoreList":[52,53,54,55,56,57,58,59,60,61,62]}