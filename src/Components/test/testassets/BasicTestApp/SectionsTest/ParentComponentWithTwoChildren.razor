@using Microsoft.AspNetCore.Components.Sections

<h1>Parent Component</h1>

@if (SectionOutletExists)
{
    <SectionOutlet SectionId="@FirstSectionId" />
}

<p>Text between two section outlets</p>

<SectionOutlet SectionId="@SecondSectionId" />

<button id="section-outlet-dispose"
        @onclick="@(() => SectionOutletExists = false)">
        Dispose first SectionOutlet
</button>

<Counter
    SectionContentExists="@CounterSectionContentExists"
    SectionId="@CounterSectionContentName"
    IsDefaultContent="@CounterIsDefaultContent">
</Counter>

<br />

<button id="counter-render-section-content"
    @onclick="@(() => CounterSectionContentExists = true)">
    Render Counter SectionContent
</button><br />

<button id="counter-dispose-section-content"
        @onclick="@(() => CounterSectionContentExists = false)">
    Dispose Counter SectionContent
</button><br />

<button id="counter-change-section-content-name"
        @onclick="@(() => CounterSectionContentName = SecondSectionId)">
        Change Counter SectionContent Name
</button><br />

<button id="counter-change-section-content-name-nonexisting"
        @onclick="@(() => CounterSectionContentName = "test3")">
    Change Counter SectionContent Name to non sexisting
</button><br />

<button id="counter-section-content-make-default"
        @onclick="@(() => CounterIsDefaultContent = true)">
    Make Counter's SectionContent Default
</button><br />

<button id="counter-section-content-make-non-default"
        @onclick="@(() => CounterIsDefaultContent = false)">
    Make Counter's SectionContent Non Default
</button>

<TextComponent
    SectionContentExists="@TextComponentSectionContentExists"
    SectionId="@TextComponentSectionContentName"
    IsDefaultContent="@TextComponentIsDefaultContent">
</TextComponent>

<button id="text-render-section-content"
        @onclick="@(() => TextComponentSectionContentExists= true)">
    Render TextComponent SectionContent
</button><br />

<button id="text-dispose-section-content"
        @onclick="@(() => TextComponentSectionContentExists = false)">
    Dispose TextComponent SectionContent
</button><br />

<button id="text-section-content-make-default"
        @onclick="@(() => TextComponentIsDefaultContent = true)">
    Make TextComponent's SectionContent Default
</button><br />

@code {
    private static object FirstSectionId = new();
    private static object SecondSectionId = new();

    private bool CounterSectionContentExists = false;
    private bool TextComponentSectionContentExists = false;

    private object CounterSectionContentName = FirstSectionId;
    private object TextComponentSectionContentName = FirstSectionId;

    private bool CounterIsDefaultContent = false;
    private bool TextComponentIsDefaultContent = false;

    private bool SectionOutletExists = true;
}
