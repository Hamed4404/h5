<Project ToolsVersion="4.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
    <PropertyGroup>
        <Configuration Condition="'$(Configuration)' == ''">Release</Configuration>
    </PropertyGroup>

    <PropertyGroup>
        <DNXRootPath>$([MSBuild]::GetDirectoryNameOfFileAbove($(MSBuildProjectDirectory), dnx.msbuild))\</DNXRootPath>
        <DNXBinPath>$(DNXRootPath)bin\</DNXBinPath>
        <DNXToolsPath>$(DNXRootPath)tools\</DNXToolsPath>
    </PropertyGroup>

    <PropertyGroup>
        <IntermediateOutputPath>$(DNXRootPath)obj\</IntermediateOutputPath>
        <SignedOutputPath>$(DNXBinPath)Signed\</SignedOutputPath>
        <OutputPath Condition="'$(Sign)' == 'Sign'">$(SignedOutputPath)</OutputPath>
        <OutputPath Condition="'$(Sign)' != 'Sign'">$(DNXBinPath)$(Configuration)\</OutputPath>
        <PoliCheckPath>$(IntermediateOutputPath)policheck\</PoliCheckPath>
        <PackagesOutputPath>$(OutputPath)Packages\</PackagesOutputPath>
        <SymbolsOutputPath>$(OutputPath)Symbols\</SymbolsOutputPath>
    </PropertyGroup>

    <PropertyGroup>
        <UnsignedPackagesPath>$(IntermediateOutputPath)UnsignedPackages\</UnsignedPackagesPath>
        <UnsignedSymbolPackagesPath>$(IntermediateOutputPath)symbols\UnsignedPackages\</UnsignedSymbolPackagesPath>
        <UnsignedBinariesPath>$(DNXBinPath)FilesToSign\</UnsignedBinariesPath>
        <BinScopePackagesPath>$(IntermediateOutputPath)\BinScopePackages\</BinScopePackagesPath>

        <CodeSignScriptsPath>$(SignedOutputPath)Scripts\</CodeSignScriptsPath>
        <CodeSignVerificationPath>$(SignedOutputPath)Verification\</CodeSignVerificationPath>
        <SignedBinariesPath>$(SignedOutputPath)</SignedBinariesPath>
    </PropertyGroup>

    <PropertyGroup>
        <CodeSignCertificates>400</CodeSignCertificates>
        <CodeSignDisplayName>Microsoft ASP.NET</CodeSignDisplayName>
        <CodeSignUrl>http://www.asp.net/</CodeSignUrl>
        <VerifySignatures Condition="'$(VerifySignatures)' == ''">true</VerifySignatures>
        <CodeSignCreateTestJob Condition="'$(CodeSignCreateTestJob)' == ''">false</CodeSignCreateTestJob>
    </PropertyGroup>

    <ItemDefinitionGroup>
        <BinariesToSign>
            <Certificates>$(CodeSignCertificates)</Certificates>
            <Description>Signing DNX binaries</Description>
            <DisplayName>$(CodeSignDisplayName)</DisplayName>
            <Url>$(CodeSignUrl)</Url>
        </BinariesToSign>
    </ItemDefinitionGroup>
</Project>
