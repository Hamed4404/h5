Rate limiting middleware Q's

- How exactly does user set which RateLimiter we're using?
	Pass instance?
	.WithConcurrencyLimiter()/.WithTokenBucketLimiter()?
- Do we provide defaults for existing RateLimiters (TokenBucket, Concurrency)
- HttpContext has endpoint - how does mapping of name:policy work?
	https://github.com/dotnet/aspnetcore/blob/f23cfb88eb0af4f9dce3341c37fc7399e80f8a11/src/Middleware/CORS/src/Infrastructure/CorsMiddleware.cs#L117-L123
		Set metadata on endpoint, check against that for resolution
- How does user add policy to endpoint?
	https://github.com/dotnet/aspnetcore/blob/main/src/Middleware/CORS/src/Infrastructure/CorsEndpointConventionBuilderExtensions.cs
	- What do defaults look like for this?

What's going on here? https://github.com/dotnet/aspnetcore/blob/cceceeb21a06573425009c3d547bd9e297bf0f06/src/Middleware/CORS/src/Infrastructure/CorsMiddlewareExtensions.cs#L34-L66

Current idea - looks a lot like CORS. User can either set a global policy (DefaultPolicy), or per-endpoint policy. Policies live in Options. When there's a per-endpoint policy, it gets added as metadata to the endpoint. In Middleware, we check metadata on endpoint for policy - if there, use that. Else use default.
	If a user wants ratelimiting only on certain endpoints, do we have no default, or have a NoPolicy?

https://github.com/dotnet/aspnetcore/blob/5141acd2ef5ce41528178f7b1f89ffeaa9242e86/src/Middleware/CORS/src/Infrastructure/CorsOptions.cs#L13-L16 - why Task<Policy> and not just Policy?

For multiple limiters on an endpoint/pipeline - must be able to use them in the order the user specifies

GenericRateLimiter is not a RateLimiter - Policy should keep both, do either/or-ing based on which one it has
	The TResource in GenericRateLimiter is HttpContext today - will get funky when it's not just HttpContext later

What to do when rejecting? ConcurrencyLimiterMiddleware gives 503

What to do about aggregate limiters? Runtime or Middleware??

What if user wants to apply endpoint policy _and_ default policy? DisableDefault?
