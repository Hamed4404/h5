<Project>
  <Import Project="Prepare.targets" />
  <Import Project="Policheck.targets" />
  <Import Project="Sign.targets" />
  <Import Project="Verify.targets" />
  <Import Project="Publish.targets" />

  <!-- packages required to implement the targets in this file-->
  <PropertyGroup>
    <PrepareDependsOn>$(PrepareDependsOn);GatherInputs;ExtractInputs;VerifyUnsignedPackages;Policheck</PrepareDependsOn>
    <PackageDependsOn>$(PackageDependsOn);Sign</PackageDependsOn>
    <VerifyDependsOn>$(VerifyDependsOn);BinScope;VerifySignedPackages;VerifySignedRuntimeStoreBinaries</VerifyDependsOn>
    <PublishOnlyDependsOn>RunVSDrop;PushPackages</PublishOnlyDependsOn>
  </PropertyGroup>

  <Target Name="LocalBuild" DependsOnTargets="SetupLocalBuild;Package" />

  <Target Name="SetupLocalBuild">
    <PropertyGroup>
      <LocalBuild>true</LocalBuild>
      <COHERENCE_DROP_LOCATION Condition="'$(COHERENCE_DROP_LOCATION)'==''">\\aspnetci\drops\Coherence\dev\Latest</COHERENCE_DROP_LOCATION>
      <COHERENCE_PACKAGECACHE_DROP_LOCATION Condition="'$(COHERENCE_PACKAGECACHE_DROP_LOCATION)'==''">\\aspnetci\drops\Coherence-PackageCache\dev\Latest</COHERENCE_PACKAGECACHE_DROP_LOCATION>
    </PropertyGroup>
  </Target>

</Project>
