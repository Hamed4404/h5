<Project>
  <PropertyGroup>
    <Configuration Condition="'$(Configuration)' == ''">Release</Configuration>
  </PropertyGroup>

  <PropertyGroup>
    <BinDirectory>$(RepositoryRoot)bin\</BinDirectory>
    <ToolsPath>$(RepositoryRoot)tools\</ToolsPath>
  </PropertyGroup>

  <PropertyGroup>
    <IntermediateOutputPath>$(RepositoryRoot)obj\</IntermediateOutputPath>
    <SignedOutputPath>$(IntermediateOutputPath)Signed\</SignedOutputPath>
    <ArtifactsPath>$(RepositoryRoot)artifacts\</ArtifactsPath>
    <OutputPath Condition="'$(Sign)' == 'Sign'">$(SignedOutputPath)</OutputPath>
    <OutputPath Condition="'$(Sign)' != 'Sign'">$(BinDirectory)$(Configuration)\</OutputPath>
    <PoliCheckPath>$(IntermediateOutputPath)policheck\</PoliCheckPath>
    <PackagesOutputPath>$(ArtifactsPath)Signed\Packages\</PackagesOutputPath>
    <PackagesOobOutputPath>$(ArtifactsPath)Signed\OobPackages\</PackagesOobOutputPath>
    <PackageCacheOutputPath>$(ArtifactsPath)Signed\PackageCache\</PackageCacheOutputPath>
    <TimestampFreePackagesOutputPath>$(ArtifactsPath)Signed\Packages-NoTimeStamp\</TimestampFreePackagesOutputPath>
    <SymbolsOutputPath>$(ArtifactsPath)Signed\Symbols\</SymbolsOutputPath>
    <SignedVSIXPath>$(ArtifactsPath)Signed\VSIX\</SignedVSIXPath>
  </PropertyGroup>

  <PropertyGroup>
    <UnsignedPackagesPath>$(IntermediateOutputPath)UnsignedPackages\</UnsignedPackagesPath>
    <UnsignedOobPackagesPath>$(IntermediateOutputPath)UnsignedOobPackages\</UnsignedOobPackagesPath>
    <UnsignedSymbolPackagesPath>$(IntermediateOutputPath)symbols\UnsignedPackages\</UnsignedSymbolPackagesPath>
    <UnsignedSymbolPackagesPath>$(IntermediateOutputPath)symbols\UnsignedOobPackages\</UnsignedSymbolPackagesPath>
    <UnsignedVSIXPath>$(IntermediateOutputPath)UnsignedVSIX\</UnsignedVSIXPath>
    <UnsignedPackageCachePath>$(IntermediateOutputPath)UPC\</UnsignedPackageCachePath>
    <SignedAllMetapackagePath>$(IntermediateOutputPath)SignedAllMetapackage\</SignedAllMetapackagePath>
    <UnsignedVSIXWithSignedBinariesPath>$(IntermediateOutputPath)UnsignedVSIXWithSignedBinaries\</UnsignedVSIXWithSignedBinariesPath>
    <UnsignedBinariesPath>$(BinDirectory)FilesToSign\</UnsignedBinariesPath>
    <UnsignedOobBinariesPath>$(BinDirectory)OobFilesToSign\</UnsignedOobBinariesPath>
    <BinScopePackagesPath>$(IntermediateOutputPath)\BinScopePackages\</BinScopePackagesPath>

    <CodeSignScriptsPath>$(SignedOutputPath)Scripts\</CodeSignScriptsPath>
    <CodeSignVerificationPath>$(SignedOutputPath)Verification\</CodeSignVerificationPath>
    <SignedBinariesPath>$(SignedOutputPath)</SignedBinariesPath>
    <SignedOobBinariesPath>$(SignedOutputPath)</SignedOobBinariesPath>
  </PropertyGroup>

  <PropertyGroup>
    <BinaryCodeSignCertificates>400</BinaryCodeSignCertificates>
    <VSIXCodeSignCertificates>100040160</VSIXCodeSignCertificates>
    <ThirdParthCodeSignCertificates>135020001</ThirdParthCodeSignCertificates>
    <CodeSignDisplayName>Microsoft ASP.NET Core</CodeSignDisplayName>
    <CodeSignUrl>http://www.asp.net/</CodeSignUrl>
    <VerifySignatures Condition="'$(VerifySignatures)' == ''">true</VerifySignatures>
    <CodeSignCreateTestJob Condition="'$(CodeSignCreateTestJob)' == ''">false</CodeSignCreateTestJob>
  </PropertyGroup>

  <ItemDefinitionGroup>
    <PackageCacheThirdPartyBinariesToSign>
      <Description>Signing third party binaries</Description>
      <DisplayName>$(CodeSignDisplayName)</DisplayName>
      <Url>$(CodeSignUrl)</Url>
      <Certificates>$(ThirdParthCodeSignCertificates)</Certificates>
    </PackageCacheThirdPartyBinariesToSign>

    <PackageCacheBinariesToSign>
      <Description>Signing AspNetCore binaries</Description>
      <DisplayName>$(CodeSignDisplayName)</DisplayName>
      <Url>$(CodeSignUrl)</Url>
      <Certificates>$(BinaryCodeSignCertificates)</Certificates>
    </PackageCacheBinariesToSign>

    <BinariesToSign>
      <Description>Signing AspNetCore binaries</Description>
      <DisplayName>$(CodeSignDisplayName)</DisplayName>
      <Url>$(CodeSignUrl)</Url>
      <Certificates>$(BinaryCodeSignCertificates)</Certificates>
    </BinariesToSign>
  </ItemDefinitionGroup>
</Project>
