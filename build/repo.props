<Project>
  <PropertyGroup>
    <DepsDirectory>$(RepositoryRoot).deps\</DepsDirectory>
    <UnsignedShipPackagesDir>$(DepsDirectory)ship\</UnsignedShipPackagesDir>
    <ToolsPath>$(RepositoryRoot)tools\</ToolsPath>
    <ZipExePath>$(ToolsPath)7Za.exe</ZipExePath>
    <CodeSignProjectDirectory>$(RepositoryRoot)src\CodeSign\</CodeSignProjectDirectory>
    <GenerateSignRequest>false</GenerateSignRequest>

    <!-- Working directories -->
    <PoliCheckPath>$(IntermediateDir)policheck\</PoliCheckPath>
    <PackagesOutputPath>$(ArtifactsDir)Signed\Packages\</PackagesOutputPath>
    <PackagesOobOutputPath>$(ArtifactsDir)Signed\OobPackages\</PackagesOobOutputPath>
    <SharedFxOutputPath>$(ArtifactsDir)Signed\SharedFx\</SharedFxOutputPath>
    <SymbolsOutputPath>$(ArtifactsDir)Signed\Symbols\</SymbolsOutputPath>
    <SignedVSIXPath>$(ArtifactsDir)Signed\VSIX\</SignedVSIXPath>
    <SignedOobArchivePath>$(ArtifactsDir)Signed\OobArchives\</SignedOobArchivePath>

    <UnsignedPackagesPath>$(IntermediateDir)UnsignedPackages\</UnsignedPackagesPath>
    <UnsignedOobPackagesPath>$(IntermediateDir)UnsignedOobPackages\</UnsignedOobPackagesPath>
    <UnsignedSymbolPackagesPath>$(IntermediateDir)UnsignedSymbolsPackages\</UnsignedSymbolPackagesPath>
    <UnsignedVSIXPath>$(IntermediateDir)UnsignedVSIX\</UnsignedVSIXPath>
    <UnsignedSharedFxPath>$(IntermediateDir)SharedFx\</UnsignedSharedFxPath>
    <UnsignedOobArchivePath>$(IntermediateDir)UnsignedOobArchives\</UnsignedOobArchivePath>
    <SignedAllMetapackagePath>$(IntermediateDir)SignedAllMetapackage\</SignedAllMetapackagePath>
    <UnsignedVSIXWithSignedBinariesPath>$(IntermediateDir)UnsignedVSIXWithSignedBinaries\</UnsignedVSIXWithSignedBinariesPath>
    <UnsignedBinariesPath>$(IntermediateDir)FilesToSign\</UnsignedBinariesPath>
  </PropertyGroup>

  <!-- Properties for code sign -->
  <PropertyGroup>
    <CodeSignApprovers>elipton;joeloff</CodeSignApprovers>
    <BinaryCodeSignCertificate>400</BinaryCodeSignCertificate>
    <VSIXCodeSignCertificate>100040160</VSIXCodeSignCertificate>
    <ThirdParthCodeSignCertificate>135020002</ThirdParthCodeSignCertificate>
    <CodeSignDisplayName>Microsoft ASP.NET Core</CodeSignDisplayName>
    <CodeSignUrl>https://www.asp.net/</CodeSignUrl>
    <VerifySignatures Condition="'$(VerifySignatures)' == ''">true</VerifySignatures>
    <CodeSignCreateTestJob Condition="'$(CodeSignCreateTestJob)' == ''">false</CodeSignCreateTestJob>
    <SkipArtifactVerification>true</SkipArtifactVerification>
    <SkipBillOfMaterials>true</SkipBillOfMaterials>
  </PropertyGroup>

  <!-- Properties for publishing -->
  <PropertyGroup>
    <PublishToVSDrop>false</PublishToVSDrop>
    <PublishToMyGet>false</PublishToMyGet>
    <PublishToAzureBlob>false</PublishToAzureBlob>
  </PropertyGroup>

  <PropertyGroup Condition=" '$(LocalBuild)' != 'true' ">
    <PublishToVSDrop Condition=" $(PublishType.Contains('vsdrop')) ">true</PublishToVSDrop>
    <PublishToMyGet Condition=" $(PublishType.Contains('myget')) ">true</PublishToMyGet>
    <PublishToAzureBlob Condition=" $(PublishType.Contains('blob')) ">true</PublishToAzureBlob>
    <PublishToDotnetCliAzureBlob Condition=" $(PublishType.Contains('dotnetcliblob')) ">true</PublishToDotnetCliAzureBlob>
  </PropertyGroup>

</Project>
