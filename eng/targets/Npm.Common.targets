<Project DefaultTargets="Build" InitialTargets="_CheckForInvalidConfiguration">

  <Target Name="_CheckForInvalidConfiguration" Condition=" '$(DisableYarnCheck)' != 'true' ">
    <Error Text="Missing expected property: PackageId" Condition="'$(IsPackable)' != 'false' and '$(PackageId)' == ''" />

    <Exec ContinueOnError="true" Command="node -v" StandardOutputImportance="Low">
      <Output TaskParameter="ExitCode" PropertyName="ErrorCode"/>
    </Exec>

    <Error Text="Building *.npmproj but NodeJS was not detected on path. Ensure NodeJS is on path or disable building NodeJS projects with -noBuildNodeJS or --no-build-nodejs. Skipping NodeJS projects will also skip managed projects depending on them, including Components, Mvc and Analysers."
        Condition="'$(ErrorCode)' != '0'"/>
  </Target>

</Project>
