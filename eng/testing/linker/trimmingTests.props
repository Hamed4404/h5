<Project>
  <PropertyGroup>
    <TrimmingTestDir>$([MSBuild]::NormalizeDirectory('$(ArtifactsBinDir)', 'trimmingTests'))</TrimmingTestDir>
    <TrimmingTestProjectsDir>$([MSBuild]::NormalizeDirectory('$(TrimmingTestDir)', 'projects'))</TrimmingTestProjectsDir>
    <ProjectTemplate>$(MSBuildThisFileDirectory)project.csproj.template</ProjectTemplate>
  </PropertyGroup>

  <PropertyGroup>
    <!-- Microsoft.NET.Sdk needs a TFM set. Set a default one. -->
    <TargetFramework Condition="'$(TargetFramework)' == '' and '$(TargetFrameworks)' == ''">$(DefaultNetCoreTargetFramework)</TargetFramework>

    <RequiresDelayedBuild>true</RequiresDelayedBuild>
  </PropertyGroup>

  <ItemGroup>
    <!-- Enforce build order. Ensure the Shared Fx is built before generating and publishing the test apps. -->
    <ProjectReference Include="$(RepoRoot)src\DefaultBuilder\src\Microsoft.AspNetCore.csproj"
                      Private="false"
                      ReferenceOutputAssembly="false"
                      SkipGetTargetFrameworkProperties="true" />
  </ItemGroup>

</Project>
